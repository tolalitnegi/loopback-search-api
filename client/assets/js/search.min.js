/*! 04-02-2016 09-24-59 */

var requirejs, require, define;
! function(global) {
	function isFunction(e) {
		return "[object Function]" === ostring.call(e)
	}

	function isArray(e) {
		return "[object Array]" === ostring.call(e)
	}

	function each(e, t) {
		if (e) {
			var i;
			for (i = 0; i < e.length && (!e[i] || !t(e[i], i, e)); i += 1);
		}
	}

	function eachReverse(e, t) {
		if (e) {
			var i;
			for (i = e.length - 1; i > -1 && (!e[i] || !t(e[i], i, e)); i -= 1);
		}
	}

	function hasProp(e, t) {
		return hasOwn.call(e, t)
	}

	function getOwn(e, t) {
		return hasProp(e, t) && e[t]
	}

	function eachProp(e, t) {
		var i;
		for (i in e)
			if (hasProp(e, i) && t(e[i], i)) break
	}

	function mixin(e, t, i, n) {
		return t && eachProp(t, function(t, a) {
			(i || !hasProp(e, a)) && (!n || "object" != typeof t || !t || isArray(t) || isFunction(t) || t instanceof RegExp ? e[a] = t : (e[a] || (e[a] = {}), mixin(e[a], t, i, n)))
		}), e
	}

	function bind(e, t) {
		return function() {
			return t.apply(e, arguments)
		}
	}

	function scripts() {
		return document.getElementsByTagName("script")
	}

	function defaultOnError(e) {
		throw e
	}

	function getGlobal(e) {
		if (!e) return e;
		var t = global;
		return each(e.split("."), function(e) {
			t = t[e]
		}), t
	}

	function makeError(e, t, i, n) {
		var a = new Error(t + "\nhttp://requirejs.org/docs/errors.html#" + e);
		return a.requireType = e, a.requireModules = n, i && (a.originalError = i), a
	}

	function newContext(e) {
		function t(e) {
			var t, i;
			for (t = 0; t < e.length; t++)
				if (i = e[t], "." === i) e.splice(t, 1), t -= 1;
				else if (".." === i) {
				if (0 === t || 1 == t && ".." === e[2] || ".." === e[t - 1]) continue;
				t > 0 && (e.splice(t - 1, 2), t -= 2)
			}
		}

		function i(e, i, n) {
			var a, s, r, o, l, c, d, u, h, p, f, m, g = i && i.split("/"),
				v = C.map,
				y = v && v["*"];
			if (e && (e = e.split("/"), d = e.length - 1, C.nodeIdCompat && jsSuffixRegExp.test(e[d]) && (e[d] = e[d].replace(jsSuffixRegExp, "")), "." === e[0].charAt(0) && g && (m = g.slice(0, g.length - 1), e = m.concat(e)), t(e), e = e.join("/")), n && v && (g || y)) {
				r = e.split("/");
				e: for (o = r.length; o > 0; o -= 1) {
					if (c = r.slice(0, o).join("/"), g)
						for (l = g.length; l > 0; l -= 1)
							if (s = getOwn(v, g.slice(0, l).join("/")), s && (s = getOwn(s, c))) {
								u = s, h = o;
								break e
							}!p && y && getOwn(y, c) && (p = getOwn(y, c), f = o)
				}!u && p && (u = p, h = f), u && (r.splice(0, h, u), e = r.join("/"))
			}
			return a = getOwn(C.pkgs, e), a ? a : e
		}

		function n(e) {
			isBrowser && each(scripts(), function(t) {
				return t.getAttribute("data-requiremodule") === e && t.getAttribute("data-requirecontext") === w.contextName ? (t.parentNode.removeChild(t), !0) : void 0
			})
		}

		function a(e) {
			var t = getOwn(C.paths, e);
			return t && isArray(t) && t.length > 1 ? (t.shift(), w.require.undef(e), w.makeRequire(null, {
				skipMap: !0
			})([e]), !0) : void 0
		}

		function s(e) {
			var t, i = e ? e.indexOf("!") : -1;
			return i > -1 && (t = e.substring(0, i), e = e.substring(i + 1, e.length)), [t, e]
		}

		function r(e, t, n, a) {
			var r, o, l, c, d = null,
				u = t ? t.name : null,
				h = e,
				p = !0,
				f = "";
			return e || (p = !1, e = "_@r" + (M += 1)), c = s(e), d = c[0], e = c[1], d && (d = i(d, u, a), o = getOwn(I, d)), e && (d ? f = o && o.normalize ? o.normalize(e, function(e) {
				return i(e, u, a)
			}) : -1 === e.indexOf("!") ? i(e, u, a) : e : (f = i(e, u, a), c = s(f), d = c[0], f = c[1], n = !0, r = w.nameToUrl(f))), l = !d || o || n ? "" : "_unnormalized" + (E += 1), {
				prefix: d,
				name: f,
				parentMap: t,
				unnormalized: !!l,
				url: r,
				originalName: h,
				isDefine: p,
				id: (d ? d + "!" + f : f) + l
			}
		}

		function o(e) {
			var t = e.id,
				i = getOwn(T, t);
			return i || (i = T[t] = new w.Module(e)), i
		}

		function l(e, t, i) {
			var n = e.id,
				a = getOwn(T, n);
			!hasProp(I, n) || a && !a.defineEmitComplete ? (a = o(e), a.error && "error" === t ? i(a.error) : a.on(t, i)) : "defined" === t && i(I[n])
		}

		function c(e, t) {
			var i = e.requireModules,
				n = !1;
			t ? t(e) : (each(i, function(t) {
				var i = getOwn(T, t);
				i && (i.error = e, i.events.error && (n = !0, i.emit("error", e)))
			}), n || req.onError(e))
		}

		function d() {
			globalDefQueue.length && (apsp.apply(_, [_.length, 0].concat(globalDefQueue)), globalDefQueue = [])
		}

		function u(e) {
			delete T[e], delete D[e]
		}

		function h(e, t, i) {
			var n = e.map.id;
			e.error ? e.emit("error", e.error) : (t[n] = !0, each(e.depMaps, function(n, a) {
				var s = n.id,
					r = getOwn(T, s);
				!r || e.depMatched[a] || i[s] || (getOwn(t, s) ? (e.defineDep(a, I[s]), e.check()) : h(r, t, i))
			}), i[n] = !0)
		}

		function p() {
			var e, t, i = 1e3 * C.waitSeconds,
				s = i && w.startTime + i < (new Date).getTime(),
				r = [],
				o = [],
				l = !1,
				d = !0;
			if (!y) {
				if (y = !0, eachProp(D, function(e) {
						var i = e.map,
							c = i.id;
						if (e.enabled && (i.isDefine || o.push(e), !e.error))
							if (!e.inited && s) a(c) ? (t = !0, l = !0) : (r.push(c), n(c));
							else if (!e.inited && e.fetched && i.isDefine && (l = !0, !i.prefix)) return d = !1
					}), s && r.length) return e = makeError("timeout", "Load timeout for modules: " + r, null, r), e.contextName = w.contextName, c(e);
				d && each(o, function(e) {
					h(e, {}, {})
				}), s && !t || !l || !isBrowser && !isWebWorker || k || (k = setTimeout(function() {
					k = 0, p()
				}, 50)), y = !1
			}
		}

		function f(e) {
			hasProp(I, e[0]) || o(r(e[0], null, !0)).init(e[1], e[2])
		}

		function m(e, t, i, n) {
			e.detachEvent && !isOpera ? n && e.detachEvent(n, t) : e.removeEventListener(i, t, !1)
		}

		function g(e) {
			var t = e.currentTarget || e.srcElement;
			return m(t, w.onScriptLoad, "load", "onreadystatechange"), m(t, w.onScriptError, "error"), {
				node: t,
				id: t && t.getAttribute("data-requiremodule")
			}
		}

		function v() {
			var e;
			for (d(); _.length;) {
				if (e = _.shift(), null === e[0]) return c(makeError("mismatch", "Mismatched anonymous define() module: " + e[e.length - 1]));
				f(e)
			}
		}
		var y, b, w, x, k, C = {
				waitSeconds: 7,
				baseUrl: "./",
				paths: {},
				bundles: {},
				pkgs: {},
				shim: {},
				config: {}
			},
			T = {},
			D = {},
			S = {},
			_ = [],
			I = {},
			A = {},
			P = {},
			M = 1,
			E = 1;
		return x = {
			require: function(e) {
				return e.require ? e.require : e.require = w.makeRequire(e.map)
			},
			exports: function(e) {
				return e.usingExports = !0, e.map.isDefine ? e.exports ? I[e.map.id] = e.exports : e.exports = I[e.map.id] = {} : void 0
			},
			module: function(e) {
				return e.module ? e.module : e.module = {
					id: e.map.id,
					uri: e.map.url,
					config: function() {
						return getOwn(C.config, e.map.id) || {}
					},
					exports: e.exports || (e.exports = {})
				}
			}
		}, b = function(e) {
			this.events = getOwn(S, e.id) || {}, this.map = e, this.shim = getOwn(C.shim, e.id), this.depExports = [], this.depMaps = [], this.depMatched = [], this.pluginMaps = {}, this.depCount = 0
		}, b.prototype = {
			init: function(e, t, i, n) {
				n = n || {}, this.inited || (this.factory = t, i ? this.on("error", i) : this.events.error && (i = bind(this, function(e) {
					this.emit("error", e)
				})), this.depMaps = e && e.slice(0), this.errback = i, this.inited = !0, this.ignore = n.ignore, n.enabled || this.enabled ? this.enable() : this.check())
			},
			defineDep: function(e, t) {
				this.depMatched[e] || (this.depMatched[e] = !0, this.depCount -= 1, this.depExports[e] = t)
			},
			fetch: function() {
				if (!this.fetched) {
					this.fetched = !0, w.startTime = (new Date).getTime();
					var e = this.map;
					return this.shim ? void w.makeRequire(this.map, {
						enableBuildCallback: !0
					})(this.shim.deps || [], bind(this, function() {
						return e.prefix ? this.callPlugin() : this.load()
					})) : e.prefix ? this.callPlugin() : this.load()
				}
			},
			load: function() {
				var e = this.map.url;
				A[e] || (A[e] = !0, w.load(this.map.id, e))
			},
			check: function() {
				if (this.enabled && !this.enabling) {
					var e, t, i = this.map.id,
						n = this.depExports,
						a = this.exports,
						s = this.factory;
					if (this.inited) {
						if (this.error) this.emit("error", this.error);
						else if (!this.defining) {
							if (this.defining = !0, this.depCount < 1 && !this.defined) {
								if (isFunction(s)) {
									if (this.events.error && this.map.isDefine || req.onError !== defaultOnError) try {
										a = w.execCb(i, s, n, a)
									} catch (r) {
										e = r
									} else a = w.execCb(i, s, n, a);
									if (this.map.isDefine && void 0 === a && (t = this.module, t ? a = t.exports : this.usingExports && (a = this.exports)), e) return e.requireMap = this.map, e.requireModules = this.map.isDefine ? [this.map.id] : null, e.requireType = this.map.isDefine ? "define" : "require", c(this.error = e)
								} else a = s;
								this.exports = a, this.map.isDefine && !this.ignore && (I[i] = a, req.onResourceLoad && req.onResourceLoad(w, this.map, this.depMaps)), u(i), this.defined = !0
							}
							this.defining = !1, this.defined && !this.defineEmitted && (this.defineEmitted = !0, this.emit("defined", this.exports), this.defineEmitComplete = !0)
						}
					} else this.fetch()
				}
			},
			callPlugin: function() {
				var e = this.map,
					t = e.id,
					n = r(e.prefix);
				this.depMaps.push(n), l(n, "defined", bind(this, function(n) {
					var a, s, d, h = getOwn(P, this.map.id),
						p = this.map.name,
						f = this.map.parentMap ? this.map.parentMap.name : null,
						m = w.makeRequire(e.parentMap, {
							enableBuildCallback: !0
						});
					return this.map.unnormalized ? (n.normalize && (p = n.normalize(p, function(e) {
						return i(e, f, !0)
					}) || ""), s = r(e.prefix + "!" + p, this.map.parentMap), l(s, "defined", bind(this, function(e) {
						this.init([], function() {
							return e
						}, null, {
							enabled: !0,
							ignore: !0
						})
					})), d = getOwn(T, s.id), void(d && (this.depMaps.push(s), this.events.error && d.on("error", bind(this, function(e) {
						this.emit("error", e)
					})), d.enable()))) : h ? (this.map.url = w.nameToUrl(h), void this.load()) : (a = bind(this, function(e) {
						this.init([], function() {
							return e
						}, null, {
							enabled: !0
						})
					}), a.error = bind(this, function(e) {
						this.inited = !0, this.error = e, e.requireModules = [t], eachProp(T, function(e) {
							0 === e.map.id.indexOf(t + "_unnormalized") && u(e.map.id)
						}), c(e)
					}), a.fromText = bind(this, function(i, n) {
						var s = e.name,
							l = r(s),
							d = useInteractive;
						n && (i = n), d && (useInteractive = !1), o(l), hasProp(C.config, t) && (C.config[s] = C.config[t]);
						try {
							req.exec(i)
						} catch (u) {
							return c(makeError("fromtexteval", "fromText eval for " + t + " failed: " + u, u, [t]))
						}
						d && (useInteractive = !0), this.depMaps.push(l), w.completeLoad(s), m([s], a)
					}), void n.load(e.name, m, a, C))
				})), w.enable(n, this), this.pluginMaps[n.id] = n
			},
			enable: function() {
				D[this.map.id] = this, this.enabled = !0, this.enabling = !0, each(this.depMaps, bind(this, function(e, t) {
					var i, n, a;
					if ("string" == typeof e) {
						if (e = r(e, this.map.isDefine ? this.map : this.map.parentMap, !1, !this.skipMap), this.depMaps[t] = e, a = getOwn(x, e.id)) return void(this.depExports[t] = a(this));
						this.depCount += 1, l(e, "defined", bind(this, function(e) {
							this.defineDep(t, e), this.check()
						})), this.errback && l(e, "error", bind(this, this.errback))
					}
					i = e.id, n = T[i], hasProp(x, i) || !n || n.enabled || w.enable(e, this)
				})), eachProp(this.pluginMaps, bind(this, function(e) {
					var t = getOwn(T, e.id);
					t && !t.enabled && w.enable(e, this)
				})), this.enabling = !1, this.check()
			},
			on: function(e, t) {
				var i = this.events[e];
				i || (i = this.events[e] = []), i.push(t)
			},
			emit: function(e, t) {
				each(this.events[e], function(e) {
					e(t)
				}), "error" === e && delete this.events[e]
			}
		}, w = {
			config: C,
			contextName: e,
			registry: T,
			defined: I,
			urlFetched: A,
			defQueue: _,
			Module: b,
			makeModuleMap: r,
			nextTick: req.nextTick,
			onError: c,
			configure: function(e) {
				e.baseUrl && "/" !== e.baseUrl.charAt(e.baseUrl.length - 1) && (e.baseUrl += "/");
				var t = C.shim,
					i = {
						paths: !0,
						bundles: !0,
						config: !0,
						map: !0
					};
				eachProp(e, function(e, t) {
					i[t] ? (C[t] || (C[t] = {}), mixin(C[t], e, !0, !0)) : C[t] = e
				}), e.bundles && eachProp(e.bundles, function(e, t) {
					each(e, function(e) {
						e !== t && (P[e] = t)
					})
				}), e.shim && (eachProp(e.shim, function(e, i) {
					isArray(e) && (e = {
						deps: e
					}), !e.exports && !e.init || e.exportsFn || (e.exportsFn = w.makeShimExports(e)), t[i] = e
				}), C.shim = t), e.packages && each(e.packages, function(e) {
					var t, i;
					e = "string" == typeof e ? {
						name: e
					} : e, i = e.name, t = e.location, t && (C.paths[i] = e.location), C.pkgs[i] = e.name + "/" + (e.main || "main").replace(currDirRegExp, "").replace(jsSuffixRegExp, "")
				}), eachProp(T, function(e, t) {
					e.inited || e.map.unnormalized || (e.map = r(t))
				}), (e.deps || e.callback) && w.require(e.deps || [], e.callback)
			},
			makeShimExports: function(e) {
				function t() {
					var t;
					return e.init && (t = e.init.apply(global, arguments)), t || e.exports && getGlobal(e.exports)
				}
				return t
			},
			makeRequire: function(t, a) {
				function s(i, n, l) {
					var d, u, h;
					return a.enableBuildCallback && n && isFunction(n) && (n.__requireJsBuild = !0), "string" == typeof i ? isFunction(n) ? c(makeError("requireargs", "Invalid require call"), l) : t && hasProp(x, i) ? x[i](T[t.id]) : req.get ? req.get(w, i, t, s) : (u = r(i, t, !1, !0), d = u.id, hasProp(I, d) ? I[d] : c(makeError("notloaded", 'Module name "' + d + '" has not been loaded yet for context: ' + e + (t ? "" : ". Use require([])")))) : (v(), w.nextTick(function() {
						v(), h = o(r(null, t)), h.skipMap = a.skipMap, h.init(i, n, l, {
							enabled: !0
						}), p()
					}), s)
				}
				return a = a || {}, mixin(s, {
					isBrowser: isBrowser,
					toUrl: function(e) {
						var n, a = e.lastIndexOf("."),
							s = e.split("/")[0],
							r = "." === s || ".." === s;
						return -1 !== a && (!r || a > 1) && (n = e.substring(a, e.length), e = e.substring(0, a)), w.nameToUrl(i(e, t && t.id, !0), n, !0)
					},
					defined: function(e) {
						return hasProp(I, r(e, t, !1, !0).id)
					},
					specified: function(e) {
						return e = r(e, t, !1, !0).id, hasProp(I, e) || hasProp(T, e)
					}
				}), t || (s.undef = function(e) {
					d();
					var i = r(e, t, !0),
						a = getOwn(T, e);
					n(e), delete I[e], delete A[i.url], delete S[e], eachReverse(_, function(t, i) {
						t[0] === e && _.splice(i, 1)
					}), a && (a.events.defined && (S[e] = a.events), u(e))
				}), s
			},
			enable: function(e) {
				var t = getOwn(T, e.id);
				t && o(e).enable()
			},
			completeLoad: function(e) {
				var t, i, n, s = getOwn(C.shim, e) || {},
					r = s.exports;
				for (d(); _.length;) {
					if (i = _.shift(), null === i[0]) {
						if (i[0] = e, t) break;
						t = !0
					} else i[0] === e && (t = !0);
					f(i)
				}
				if (n = getOwn(T, e), !t && !hasProp(I, e) && n && !n.inited) {
					if (!(!C.enforceDefine || r && getGlobal(r))) return a(e) ? void 0 : c(makeError("nodefine", "No define call for " + e, null, [e]));
					f([e, s.deps || [], s.exportsFn])
				}
				p()
			},
			nameToUrl: function(e, t, i) {
				var n, a, s, r, o, l, c, d = getOwn(C.pkgs, e);
				if (d && (e = d), c = getOwn(P, e)) return w.nameToUrl(c, t, i);
				if (req.jsExtRegExp.test(e)) o = e + (t || "");
				else {
					for (n = C.paths, a = e.split("/"), s = a.length; s > 0; s -= 1)
						if (r = a.slice(0, s).join("/"), l = getOwn(n, r)) {
							isArray(l) && (l = l[0]), a.splice(0, s, l);
							break
						}
					o = a.join("/"), o += t || (/^data\:|\?/.test(o) || i ? "" : ".js"), o = ("/" === o.charAt(0) || o.match(/^[\w\+\.\-]+:/) ? "" : C.baseUrl) + o
				}
				return C.urlArgs ? o + ((-1 === o.indexOf("?") ? "?" : "&") + C.urlArgs) : o
			},
			load: function(e, t) {
				req.load(w, e, t)
			},
			execCb: function(e, t, i, n) {
				return t.apply(n, i)
			},
			onScriptLoad: function(e) {
				if ("load" === e.type || readyRegExp.test((e.currentTarget || e.srcElement).readyState)) {
					interactiveScript = null;
					var t = g(e);
					w.completeLoad(t.id)
				}
			},
			onScriptError: function(e) {
				var t = g(e);
				return a(t.id) ? void 0 : c(makeError("scripterror", "Script error for: " + t.id, e, [t.id]))
			}
		}, w.require = w.makeRequire(), w
	}

	function getInteractiveScript() {
		return interactiveScript && "interactive" === interactiveScript.readyState ? interactiveScript : (eachReverse(scripts(), function(e) {
			return "interactive" === e.readyState ? interactiveScript = e : void 0
		}), interactiveScript)
	}
	var req, s, head, baseElement, dataMain, src, interactiveScript, currentlyAddingScript, mainScript, subPath, version = "2.1.14",
		commentRegExp = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,
		cjsRequireRegExp = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
		jsSuffixRegExp = /\.js$/,
		currDirRegExp = /^\.\//,
		op = Object.prototype,
		ostring = op.toString,
		hasOwn = op.hasOwnProperty,
		ap = Array.prototype,
		apsp = ap.splice,
		isBrowser = !("undefined" == typeof window || "undefined" == typeof navigator || !window.document),
		isWebWorker = !isBrowser && "undefined" != typeof importScripts,
		readyRegExp = isBrowser && "PLAYSTATION 3" === navigator.platform ? /^complete$/ : /^(complete|loaded)$/,
		defContextName = "_",
		isOpera = "undefined" != typeof opera && "[object Opera]" === opera.toString(),
		contexts = {},
		cfg = {},
		globalDefQueue = [],
		useInteractive = !1;
	if ("undefined" == typeof define) {
		if ("undefined" != typeof requirejs) {
			if (isFunction(requirejs)) return;
			cfg = requirejs, requirejs = void 0
		}
		"undefined" == typeof require || isFunction(require) || (cfg = require, require = void 0), req = requirejs = function(e, t, i, n) {
			var a, s, r = defContextName;
			return isArray(e) || "string" == typeof e || (s = e, isArray(t) ? (e = t, t = i, i = n) : e = []), s && s.context && (r = s.context), a = getOwn(contexts, r), a || (a = contexts[r] = req.s.newContext(r)), s && a.configure(s), a.require(e, t, i)
		}, req.config = function(e) {
			return req(e)
		}, req.nextTick = "undefined" != typeof setTimeout ? function(e) {
			setTimeout(e, 4)
		} : function(e) {
			e()
		}, require || (require = req), req.version = version, req.jsExtRegExp = /^\/|:|\?|\.js$/, req.isBrowser = isBrowser, s = req.s = {
			contexts: contexts,
			newContext: newContext
		}, req({}), each(["toUrl", "undef", "defined", "specified"], function(e) {
			req[e] = function() {
				var t = contexts[defContextName];
				return t.require[e].apply(t, arguments)
			}
		}), isBrowser && (head = s.head = document.getElementsByTagName("head")[0], baseElement = document.getElementsByTagName("base")[0], baseElement && (head = s.head = baseElement.parentNode)), req.onError = defaultOnError, req.createNode = function(e, t, i) {
			var n = e.xhtml ? document.createElementNS("http://www.w3.org/1999/xhtml", "html:script") : document.createElement("script");
			return n.type = e.scriptType || "text/javascript", n.charset = "utf-8", n.async = !0, n
		}, req.load = function(e, t, i) {
			var n, a = e && e.config || {};
			if (isBrowser) return n = req.createNode(a, t, i), n.setAttribute("data-requirecontext", e.contextName), n.setAttribute("data-requiremodule", t), !n.attachEvent || n.attachEvent.toString && n.attachEvent.toString().indexOf("[native code") < 0 || isOpera ? (n.addEventListener("load", e.onScriptLoad, !1), n.addEventListener("error", e.onScriptError, !1)) : (useInteractive = !0, n.attachEvent("onreadystatechange", e.onScriptLoad)), n.src = i, currentlyAddingScript = n, baseElement ? head.insertBefore(n, baseElement) : head.appendChild(n), currentlyAddingScript = null, n;
			if (isWebWorker) try {
				importScripts(i), e.completeLoad(t)
			} catch (s) {
				e.onError(makeError("importscripts", "importScripts failed for " + t + " at " + i, s, [t]))
			}
		}, isBrowser && !cfg.skipDataMain && eachReverse(scripts(), function(e) {
			return head || (head = e.parentNode), dataMain = e.getAttribute("data-main"), dataMain ? (mainScript = dataMain, cfg.baseUrl || (src = mainScript.split("/"), mainScript = src.pop(), subPath = src.length ? src.join("/") + "/" : "./", cfg.baseUrl = subPath), mainScript = mainScript.replace(jsSuffixRegExp, ""), req.jsExtRegExp.test(mainScript) && (mainScript = dataMain), cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript], !0) : void 0
		}), define = function(e, t, i) {
			var n, a;
			"string" != typeof e && (i = t, t = e, e = null), isArray(t) || (i = t, t = null), !t && isFunction(i) && (t = [], i.length && (i.toString().replace(commentRegExp, "").replace(cjsRequireRegExp, function(e, i) {
				t.push(i)
			}), t = (1 === i.length ? ["require"] : ["require", "exports", "module"]).concat(t))), useInteractive && (n = currentlyAddingScript || getInteractiveScript(), n && (e || (e = n.getAttribute("data-requiremodule")), a = contexts[n.getAttribute("data-requirecontext")])), (a ? a.defQueue : globalDefQueue).push([e, t, i])
		}, define.amd = {
			jQuery: !0
		}, req.exec = function(text) {
			return eval(text)
		}, req(cfg)
	}
}(this), define("vendor/require", function() {}),
	function(e) {
		"function" == typeof define && define.amd ? define("jqueryCookie", ["jquery"], e) : e("object" == typeof exports ? require("jquery") : jQuery)
	}(function(e) {
		function t(e) {
			return o.raw ? e : encodeURIComponent(e)
		}

		function i(e) {
			return o.raw ? e : decodeURIComponent(e)
		}

		function n(e) {
			return t(o.json ? JSON.stringify(e) : String(e))
		}

		function a(e) {
			0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
			try {
				return e = decodeURIComponent(e.replace(r, " ")), o.json ? JSON.parse(e) : e
			} catch (t) {}
		}

		function s(t, i) {
			var n = o.raw ? t : a(t);
			return e.isFunction(i) ? i(n) : n
		}
		var r = /\+/g,
			o = e.cookie = function(a, r, l) {
				if (void 0 !== r && !e.isFunction(r)) {
					if (l = e.extend({}, o.defaults, l), "number" == typeof l.expires) {
						var c = l.expires,
							d = l.expires = new Date;
						d.setTime(+d + 864e5 * c)
					}
					return document.cookie = [t(a), "=", n(r), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("")
				}
				for (var u = a ? void 0 : {}, h = document.cookie ? document.cookie.split("; ") : [], p = 0, f = h.length; f > p; p++) {
					var m = h[p].split("="),
						g = i(m.shift()),
						v = m.join("=");
					if (a && a === g) {
						u = s(v, r);
						break
					}
					a || void 0 === (v = s(v)) || (u[g] = v)
				}
				return u
			};
		o.defaults = {}, e.removeCookie = function(t, i) {
			return void 0 === e.cookie(t) ? !1 : (e.cookie(t, "", e.extend({}, i, {
				expires: -1
			})), !e.cookie(t))
		}
	}), jQuery = jQuery || $,
	function(e) {
		var t = e({});
		e.subscribe = function() {
			t.on.apply(t, arguments)
		}, e.unsubscribe = function() {
			t.off.apply(t, arguments)
		}, e.publish = function() {
			t.trigger.apply(t, arguments)
		}
	}(jQuery), define("pubSub", ["jquery"], function(e) {
		return function() {
			var t;
			return t || e.PubSub
		}
	}(this));
var Handlebars = function() {
	var e = function() {
			"use strict";

			function e(e) {
				this.string = e
			}
			var t;
			return e.prototype.toString = function() {
				return "" + this.string
			}, t = e
		}(),
		t = function(e) {
			"use strict";

			function t(e) {
				return o[e] || "&amp;"
			}

			function i(e, t) {
				for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i])
			}

			function n(e) {
				return e instanceof r ? e.toString() : e || 0 === e ? (e = "" + e, c.test(e) ? e.replace(l, t) : e) : ""
			}

			function a(e) {
				return e || 0 === e ? h(e) && 0 === e.length ? !0 : !1 : !0
			}
			var s = {},
				r = e,
				o = {
					"&": "&amp;",
					"<": "&lt;",
					">": "&gt;",
					'"': "&quot;",
					"'": "&#x27;",
					"`": "&#x60;"
				},
				l = /[&<>"'`]/g,
				c = /[&<>"'`]/;
			s.extend = i;
			var d = Object.prototype.toString;
			s.toString = d;
			var u = function(e) {
				return "function" == typeof e
			};
			u(/x/) && (u = function(e) {
				return "function" == typeof e && "[object Function]" === d.call(e)
			});
			var u;
			s.isFunction = u;
			var h = Array.isArray || function(e) {
				return e && "object" == typeof e ? "[object Array]" === d.call(e) : !1
			};
			return s.isArray = h, s.escapeExpression = n, s.isEmpty = a, s
		}(e),
		i = function() {
			"use strict";

			function e(e, t) {
				var n;
				t && t.firstLine && (n = t.firstLine, e += " - " + n + ":" + t.firstColumn);
				for (var a = Error.prototype.constructor.call(this, e), s = 0; s < i.length; s++) this[i[s]] = a[i[s]];
				n && (this.lineNumber = n, this.column = t.firstColumn)
			}
			var t, i = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];
			return e.prototype = new Error, t = e
		}(),
		n = function(e, t) {
			"use strict";

			function i(e, t) {
				this.helpers = e || {}, this.partials = t || {}, n(this)
			}

			function n(e) {
				e.registerHelper("helperMissing", function(e) {
					if (2 !== arguments.length) throw new o("Missing helper: '" + e + "'")
				}), e.registerHelper("blockHelperMissing", function(t, i) {
					var n = i.inverse || function() {},
						a = i.fn;
					return h(t) && (t = t.call(this)), t === !0 ? a(this) : t === !1 || null == t ? n(this) : u(t) ? t.length > 0 ? e.helpers.each(t, i) : n(this) : a(t)
				}), e.registerHelper("each", function(e, t) {
					var i, n = t.fn,
						a = t.inverse,
						s = 0,
						r = "";
					if (h(e) && (e = e.call(this)), t.data && (i = g(t.data)), e && "object" == typeof e)
						if (u(e))
							for (var o = e.length; o > s; s++) i && (i.index = s, i.first = 0 === s, i.last = s === e.length - 1), r += n(e[s], {
								data: i
							});
						else
							for (var l in e) e.hasOwnProperty(l) && (i && (i.key = l, i.index = s, i.first = 0 === s), r += n(e[l], {
								data: i
							}), s++);
					return 0 === s && (r = a(this)), r
				}), e.registerHelper("if", function(e, t) {
					return h(e) && (e = e.call(this)), !t.hash.includeZero && !e || r.isEmpty(e) ? t.inverse(this) : t.fn(this)
				}), e.registerHelper("unless", function(t, i) {
					return e.helpers["if"].call(this, t, {
						fn: i.inverse,
						inverse: i.fn,
						hash: i.hash
					})
				}), e.registerHelper("with", function(e, t) {
					return h(e) && (e = e.call(this)), r.isEmpty(e) ? void 0 : t.fn(e)
				}), e.registerHelper("log", function(t, i) {
					var n = i.data && null != i.data.level ? parseInt(i.data.level, 10) : 1;
					e.log(n, t)
				})
			}

			function a(e, t) {
				m.log(e, t)
			}
			var s = {},
				r = e,
				o = t,
				l = "1.3.0";
			s.VERSION = l;
			var c = 4;
			s.COMPILER_REVISION = c;
			var d = {
				1: "<= 1.0.rc.2",
				2: "== 1.0.0-rc.3",
				3: "== 1.0.0-rc.4",
				4: ">= 1.0.0"
			};
			s.REVISION_CHANGES = d;
			var u = r.isArray,
				h = r.isFunction,
				p = r.toString,
				f = "[object Object]";
			s.HandlebarsEnvironment = i, i.prototype = {
				constructor: i,
				logger: m,
				log: a,
				registerHelper: function(e, t, i) {
					if (p.call(e) === f) {
						if (i || t) throw new o("Arg not supported with multiple helpers");
						r.extend(this.helpers, e)
					} else i && (t.not = i), this.helpers[e] = t
				},
				registerPartial: function(e, t) {
					p.call(e) === f ? r.extend(this.partials, e) : this.partials[e] = t
				}
			};
			var m = {
				methodMap: {
					0: "debug",
					1: "info",
					2: "warn",
					3: "error"
				},
				DEBUG: 0,
				INFO: 1,
				WARN: 2,
				ERROR: 3,
				level: 3,
				log: function(e, t) {
					if (m.level <= e) {
						var i = m.methodMap[e];
						"undefined" != typeof console && console[i] && console[i].call(console, t)
					}
				}
			};
			s.logger = m, s.log = a;
			var g = function(e) {
				var t = {};
				return r.extend(t, e), t
			};
			return s.createFrame = g, s
		}(t, i),
		a = function(e, t, i) {
			"use strict";

			function n(e) {
				var t = e && e[0] || 1,
					i = h;
				if (t !== i) {
					if (i > t) {
						var n = p[i],
							a = p[t];
						throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + n + ") or downgrade your runtime to an older version (" + a + ").")
					}
					throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + e[1] + ").")
				}
			}

			function a(e, t) {
				if (!t) throw new u("No environment passed to template");
				var i = function(e, i, n, a, s, r) {
						var o = t.VM.invokePartial.apply(this, arguments);
						if (null != o) return o;
						if (t.compile) {
							var l = {
								helpers: a,
								partials: s,
								data: r
							};
							return s[i] = t.compile(e, {
								data: void 0 !== r
							}, t), s[i](n, l)
						}
						throw new u("The partial " + i + " could not be compiled when running in runtime-only mode")
					},
					n = {
						escapeExpression: d.escapeExpression,
						invokePartial: i,
						programs: [],
						program: function(e, t, i) {
							var n = this.programs[e];
							return i ? n = r(e, t, i) : n || (n = this.programs[e] = r(e, t)), n
						},
						merge: function(e, t) {
							var i = e || t;
							return e && t && e !== t && (i = {}, d.extend(i, t), d.extend(i, e)), i
						},
						programWithDepth: t.VM.programWithDepth,
						noop: t.VM.noop,
						compilerInfo: null
					};
				return function(i, a) {
					a = a || {};
					var s, r, o = a.partial ? a : t;
					a.partial || (s = a.helpers, r = a.partials);
					var l = e.call(n, o, i, s, r, a.data);
					return a.partial || t.VM.checkRevision(n.compilerInfo), l
				}
			}

			function s(e, t, i) {
				var n = Array.prototype.slice.call(arguments, 3),
					a = function(e, a) {
						return a = a || {}, t.apply(this, [e, a.data || i].concat(n))
					};
				return a.program = e, a.depth = n.length, a
			}

			function r(e, t, i) {
				var n = function(e, n) {
					return n = n || {}, t(e, n.data || i)
				};
				return n.program = e, n.depth = 0, n
			}

			function o(e, t, i, n, a, s) {
				var r = {
					partial: !0,
					helpers: n,
					partials: a,
					data: s
				};
				if (void 0 === e) throw new u("The partial " + t + " could not be found");
				return e instanceof Function ? e(i, r) : void 0
			}

			function l() {
				return ""
			}
			var c = {},
				d = e,
				u = t,
				h = i.COMPILER_REVISION,
				p = i.REVISION_CHANGES;
			return c.checkRevision = n, c.template = a, c.programWithDepth = s, c.program = r, c.invokePartial = o, c.noop = l, c
		}(t, i, n),
		s = function(e, t, i, n, a) {
			"use strict";
			var s, r = e,
				o = t,
				l = i,
				c = n,
				d = a,
				u = function() {
					var e = new r.HandlebarsEnvironment;
					return c.extend(e, r), e.SafeString = o, e.Exception = l, e.Utils = c, e.VM = d, e.template = function(t) {
						return d.template(t, e)
					}, e
				},
				h = u();
			return h.create = u, s = h
		}(n, e, i, t, a),
		r = function(e) {
			"use strict";

			function t(e) {
				e = e || {}, this.firstLine = e.first_line, this.firstColumn = e.first_column, this.lastColumn = e.last_column, this.lastLine = e.last_line
			}
			var i, n = e,
				a = {
					ProgramNode: function(e, i, n, s) {
						var r, o;
						3 === arguments.length ? (s = n, n = null) : 2 === arguments.length && (s = i, i = null), t.call(this, s), this.type = "program", this.statements = e, this.strip = {}, n ? (o = n[0], o ? (r = {
							first_line: o.firstLine,
							last_line: o.lastLine,
							last_column: o.lastColumn,
							first_column: o.firstColumn
						}, this.inverse = new a.ProgramNode(n, i, r)) : this.inverse = new a.ProgramNode(n, i), this.strip.right = i.left) : i && (this.strip.left = i.right)
					},
					MustacheNode: function(e, i, n, s, r) {
						if (t.call(this, r), this.type = "mustache", this.strip = s, null != n && n.charAt) {
							var o = n.charAt(3) || n.charAt(2);
							this.escaped = "{" !== o && "&" !== o
						} else this.escaped = !!n;
						this.sexpr = e instanceof a.SexprNode ? e : new a.SexprNode(e, i), this.sexpr.isRoot = !0, this.id = this.sexpr.id, this.params = this.sexpr.params, this.hash = this.sexpr.hash, this.eligibleHelper = this.sexpr.eligibleHelper, this.isHelper = this.sexpr.isHelper
					},
					SexprNode: function(e, i, n) {
						t.call(this, n), this.type = "sexpr", this.hash = i;
						var a = this.id = e[0],
							s = this.params = e.slice(1),
							r = this.eligibleHelper = a.isSimple;
						this.isHelper = r && (s.length || i)
					},
					PartialNode: function(e, i, n, a) {
						t.call(this, a), this.type = "partial", this.partialName = e, this.context = i, this.strip = n
					},
					BlockNode: function(e, i, a, s, r) {
						if (t.call(this, r), e.sexpr.id.original !== s.path.original) throw new n(e.sexpr.id.original + " doesn't match " + s.path.original, this);
						this.type = "block", this.mustache = e, this.program = i, this.inverse = a, this.strip = {
							left: e.strip.left,
							right: s.strip.right
						}, (i || a).strip.left = e.strip.right, (a || i).strip.right = s.strip.left, a && !i && (this.isInverse = !0)
					},
					ContentNode: function(e, i) {
						t.call(this, i), this.type = "content", this.string = e
					},
					HashNode: function(e, i) {
						t.call(this, i), this.type = "hash", this.pairs = e
					},
					IdNode: function(e, i) {
						t.call(this, i), this.type = "ID";
						for (var a = "", s = [], r = 0, o = 0, l = e.length; l > o; o++) {
							var c = e[o].part;
							if (a += (e[o].separator || "") + c, ".." === c || "." === c || "this" === c) {
								if (s.length > 0) throw new n("Invalid path: " + a, this);
								".." === c ? r++ : this.isScoped = !0
							} else s.push(c)
						}
						this.original = a, this.parts = s, this.string = s.join("."), this.depth = r, this.isSimple = 1 === e.length && !this.isScoped && 0 === r, this.stringModeValue = this.string
					},
					PartialNameNode: function(e, i) {
						t.call(this, i), this.type = "PARTIAL_NAME", this.name = e.original
					},
					DataNode: function(e, i) {
						t.call(this, i), this.type = "DATA", this.id = e
					},
					StringNode: function(e, i) {
						t.call(this, i), this.type = "STRING", this.original = this.string = this.stringModeValue = e
					},
					IntegerNode: function(e, i) {
						t.call(this, i), this.type = "INTEGER", this.original = this.integer = e, this.stringModeValue = Number(e)
					},
					BooleanNode: function(e, i) {
						t.call(this, i), this.type = "BOOLEAN", this.bool = e, this.stringModeValue = "true" === e
					},
					CommentNode: function(e, i) {
						t.call(this, i), this.type = "comment", this.comment = e
					}
				};
			return i = a
		}(i),
		o = function() {
			"use strict";
			var e, t = function() {
				function e(e, t) {
					return {
						left: "~" === e.charAt(2),
						right: "~" === t.charAt(0) || "~" === t.charAt(1)
					}
				}

				function t() {
					this.yy = {}
				}
				var i = {
						trace: function() {},
						yy: {},
						symbols_: {
							error: 2,
							root: 3,
							statements: 4,
							EOF: 5,
							program: 6,
							simpleInverse: 7,
							statement: 8,
							openInverse: 9,
							closeBlock: 10,
							openBlock: 11,
							mustache: 12,
							partial: 13,
							CONTENT: 14,
							COMMENT: 15,
							OPEN_BLOCK: 16,
							sexpr: 17,
							CLOSE: 18,
							OPEN_INVERSE: 19,
							OPEN_ENDBLOCK: 20,
							path: 21,
							OPEN: 22,
							OPEN_UNESCAPED: 23,
							CLOSE_UNESCAPED: 24,
							OPEN_PARTIAL: 25,
							partialName: 26,
							partial_option0: 27,
							sexpr_repetition0: 28,
							sexpr_option0: 29,
							dataName: 30,
							param: 31,
							STRING: 32,
							INTEGER: 33,
							BOOLEAN: 34,
							OPEN_SEXPR: 35,
							CLOSE_SEXPR: 36,
							hash: 37,
							hash_repetition_plus0: 38,
							hashSegment: 39,
							ID: 40,
							EQUALS: 41,
							DATA: 42,
							pathSegments: 43,
							SEP: 44,
							$accept: 0,
							$end: 1
						},
						terminals_: {
							2: "error",
							5: "EOF",
							14: "CONTENT",
							15: "COMMENT",
							16: "OPEN_BLOCK",
							18: "CLOSE",
							19: "OPEN_INVERSE",
							20: "OPEN_ENDBLOCK",
							22: "OPEN",
							23: "OPEN_UNESCAPED",
							24: "CLOSE_UNESCAPED",
							25: "OPEN_PARTIAL",
							32: "STRING",
							33: "INTEGER",
							34: "BOOLEAN",
							35: "OPEN_SEXPR",
							36: "CLOSE_SEXPR",
							40: "ID",
							41: "EQUALS",
							42: "DATA",
							44: "SEP"
						},
						productions_: [0, [3, 2],
							[3, 1],
							[6, 2],
							[6, 3],
							[6, 2],
							[6, 1],
							[6, 1],
							[6, 0],
							[4, 1],
							[4, 2],
							[8, 3],
							[8, 3],
							[8, 1],
							[8, 1],
							[8, 1],
							[8, 1],
							[11, 3],
							[9, 3],
							[10, 3],
							[12, 3],
							[12, 3],
							[13, 4],
							[7, 2],
							[17, 3],
							[17, 1],
							[31, 1],
							[31, 1],
							[31, 1],
							[31, 1],
							[31, 1],
							[31, 3],
							[37, 1],
							[39, 3],
							[26, 1],
							[26, 1],
							[26, 1],
							[30, 2],
							[21, 1],
							[43, 3],
							[43, 1],
							[27, 0],
							[27, 1],
							[28, 0],
							[28, 2],
							[29, 0],
							[29, 1],
							[38, 1],
							[38, 2]
						],
						performAction: function(t, i, n, a, s, r) {
							var o = r.length - 1;
							switch (s) {
								case 1:
									return new a.ProgramNode(r[o - 1], this._$);
								case 2:
									return new a.ProgramNode([], this._$);
								case 3:
									this.$ = new a.ProgramNode([], r[o - 1], r[o], this._$);
									break;
								case 4:
									this.$ = new a.ProgramNode(r[o - 2], r[o - 1], r[o], this._$);
									break;
								case 5:
									this.$ = new a.ProgramNode(r[o - 1], r[o], [], this._$);
									break;
								case 6:
									this.$ = new a.ProgramNode(r[o], this._$);
									break;
								case 7:
									this.$ = new a.ProgramNode([], this._$);
									break;
								case 8:
									this.$ = new a.ProgramNode([], this._$);
									break;
								case 9:
									this.$ = [r[o]];
									break;
								case 10:
									r[o - 1].push(r[o]), this.$ = r[o - 1];
									break;
								case 11:
									this.$ = new a.BlockNode(r[o - 2], r[o - 1].inverse, r[o - 1], r[o], this._$);
									break;
								case 12:
									this.$ = new a.BlockNode(r[o - 2], r[o - 1], r[o - 1].inverse, r[o], this._$);
									break;
								case 13:
									this.$ = r[o];
									break;
								case 14:
									this.$ = r[o];
									break;
								case 15:
									this.$ = new a.ContentNode(r[o], this._$);
									break;
								case 16:
									this.$ = new a.CommentNode(r[o], this._$);
									break;
								case 17:
									this.$ = new a.MustacheNode(r[o - 1], null, r[o - 2], e(r[o - 2], r[o]), this._$);
									break;
								case 18:
									this.$ = new a.MustacheNode(r[o - 1], null, r[o - 2], e(r[o - 2], r[o]), this._$);
									break;
								case 19:
									this.$ = {
										path: r[o - 1],
										strip: e(r[o - 2], r[o])
									};
									break;
								case 20:
									this.$ = new a.MustacheNode(r[o - 1], null, r[o - 2], e(r[o - 2], r[o]), this._$);
									break;
								case 21:
									this.$ = new a.MustacheNode(r[o - 1], null, r[o - 2], e(r[o - 2], r[o]), this._$);
									break;
								case 22:
									this.$ = new a.PartialNode(r[o - 2], r[o - 1], e(r[o - 3], r[o]), this._$);
									break;
								case 23:
									this.$ = e(r[o - 1], r[o]);
									break;
								case 24:
									this.$ = new a.SexprNode([r[o - 2]].concat(r[o - 1]), r[o], this._$);
									break;
								case 25:
									this.$ = new a.SexprNode([r[o]], null, this._$);
									break;
								case 26:
									this.$ = r[o];
									break;
								case 27:
									this.$ = new a.StringNode(r[o], this._$);
									break;
								case 28:
									this.$ = new a.IntegerNode(r[o], this._$);
									break;
								case 29:
									this.$ = new a.BooleanNode(r[o], this._$);
									break;
								case 30:
									this.$ = r[o];
									break;
								case 31:
									r[o - 1].isHelper = !0, this.$ = r[o - 1];
									break;
								case 32:
									this.$ = new a.HashNode(r[o], this._$);
									break;
								case 33:
									this.$ = [r[o - 2], r[o]];
									break;
								case 34:
									this.$ = new a.PartialNameNode(r[o], this._$);
									break;
								case 35:
									this.$ = new a.PartialNameNode(new a.StringNode(r[o], this._$), this._$);
									break;
								case 36:
									this.$ = new a.PartialNameNode(new a.IntegerNode(r[o], this._$));
									break;
								case 37:
									this.$ = new a.DataNode(r[o], this._$);
									break;
								case 38:
									this.$ = new a.IdNode(r[o], this._$);
									break;
								case 39:
									r[o - 2].push({
										part: r[o],
										separator: r[o - 1]
									}), this.$ = r[o - 2];
									break;
								case 40:
									this.$ = [{
										part: r[o]
									}];
									break;
								case 43:
									this.$ = [];
									break;
								case 44:
									r[o - 1].push(r[o]);
									break;
								case 47:
									this.$ = [r[o]];
									break;
								case 48:
									r[o - 1].push(r[o])
							}
						},
						table: [{
							3: 1,
							4: 2,
							5: [1, 3],
							8: 4,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							1: [3]
						}, {
							5: [1, 16],
							8: 17,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							1: [2, 2]
						}, {
							5: [2, 9],
							14: [2, 9],
							15: [2, 9],
							16: [2, 9],
							19: [2, 9],
							20: [2, 9],
							22: [2, 9],
							23: [2, 9],
							25: [2, 9]
						}, {
							4: 20,
							6: 18,
							7: 19,
							8: 4,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 21],
							20: [2, 8],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							4: 20,
							6: 22,
							7: 19,
							8: 4,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 21],
							20: [2, 8],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							5: [2, 13],
							14: [2, 13],
							15: [2, 13],
							16: [2, 13],
							19: [2, 13],
							20: [2, 13],
							22: [2, 13],
							23: [2, 13],
							25: [2, 13]
						}, {
							5: [2, 14],
							14: [2, 14],
							15: [2, 14],
							16: [2, 14],
							19: [2, 14],
							20: [2, 14],
							22: [2, 14],
							23: [2, 14],
							25: [2, 14]
						}, {
							5: [2, 15],
							14: [2, 15],
							15: [2, 15],
							16: [2, 15],
							19: [2, 15],
							20: [2, 15],
							22: [2, 15],
							23: [2, 15],
							25: [2, 15]
						}, {
							5: [2, 16],
							14: [2, 16],
							15: [2, 16],
							16: [2, 16],
							19: [2, 16],
							20: [2, 16],
							22: [2, 16],
							23: [2, 16],
							25: [2, 16]
						}, {
							17: 23,
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							17: 29,
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							17: 30,
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							17: 31,
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							21: 33,
							26: 32,
							32: [1, 34],
							33: [1, 35],
							40: [1, 28],
							43: 26
						}, {
							1: [2, 1]
						}, {
							5: [2, 10],
							14: [2, 10],
							15: [2, 10],
							16: [2, 10],
							19: [2, 10],
							20: [2, 10],
							22: [2, 10],
							23: [2, 10],
							25: [2, 10]
						}, {
							10: 36,
							20: [1, 37]
						}, {
							4: 38,
							8: 4,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							20: [2, 7],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							7: 39,
							8: 17,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 21],
							20: [2, 6],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							17: 23,
							18: [1, 40],
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							10: 41,
							20: [1, 37]
						}, {
							18: [1, 42]
						}, {
							18: [2, 43],
							24: [2, 43],
							28: 43,
							32: [2, 43],
							33: [2, 43],
							34: [2, 43],
							35: [2, 43],
							36: [2, 43],
							40: [2, 43],
							42: [2, 43]
						}, {
							18: [2, 25],
							24: [2, 25],
							36: [2, 25]
						}, {
							18: [2, 38],
							24: [2, 38],
							32: [2, 38],
							33: [2, 38],
							34: [2, 38],
							35: [2, 38],
							36: [2, 38],
							40: [2, 38],
							42: [2, 38],
							44: [1, 44]
						}, {
							21: 45,
							40: [1, 28],
							43: 26
						}, {
							18: [2, 40],
							24: [2, 40],
							32: [2, 40],
							33: [2, 40],
							34: [2, 40],
							35: [2, 40],
							36: [2, 40],
							40: [2, 40],
							42: [2, 40],
							44: [2, 40]
						}, {
							18: [1, 46]
						}, {
							18: [1, 47]
						}, {
							24: [1, 48]
						}, {
							18: [2, 41],
							21: 50,
							27: 49,
							40: [1, 28],
							43: 26
						}, {
							18: [2, 34],
							40: [2, 34]
						}, {
							18: [2, 35],
							40: [2, 35]
						}, {
							18: [2, 36],
							40: [2, 36]
						}, {
							5: [2, 11],
							14: [2, 11],
							15: [2, 11],
							16: [2, 11],
							19: [2, 11],
							20: [2, 11],
							22: [2, 11],
							23: [2, 11],
							25: [2, 11]
						}, {
							21: 51,
							40: [1, 28],
							43: 26
						}, {
							8: 17,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							20: [2, 3],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							4: 52,
							8: 4,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							20: [2, 5],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							14: [2, 23],
							15: [2, 23],
							16: [2, 23],
							19: [2, 23],
							20: [2, 23],
							22: [2, 23],
							23: [2, 23],
							25: [2, 23]
						}, {
							5: [2, 12],
							14: [2, 12],
							15: [2, 12],
							16: [2, 12],
							19: [2, 12],
							20: [2, 12],
							22: [2, 12],
							23: [2, 12],
							25: [2, 12]
						}, {
							14: [2, 18],
							15: [2, 18],
							16: [2, 18],
							19: [2, 18],
							20: [2, 18],
							22: [2, 18],
							23: [2, 18],
							25: [2, 18]
						}, {
							18: [2, 45],
							21: 56,
							24: [2, 45],
							29: 53,
							30: 60,
							31: 54,
							32: [1, 57],
							33: [1, 58],
							34: [1, 59],
							35: [1, 61],
							36: [2, 45],
							37: 55,
							38: 62,
							39: 63,
							40: [1, 64],
							42: [1, 27],
							43: 26
						}, {
							40: [1, 65]
						}, {
							18: [2, 37],
							24: [2, 37],
							32: [2, 37],
							33: [2, 37],
							34: [2, 37],
							35: [2, 37],
							36: [2, 37],
							40: [2, 37],
							42: [2, 37]
						}, {
							14: [2, 17],
							15: [2, 17],
							16: [2, 17],
							19: [2, 17],
							20: [2, 17],
							22: [2, 17],
							23: [2, 17],
							25: [2, 17]
						}, {
							5: [2, 20],
							14: [2, 20],
							15: [2, 20],
							16: [2, 20],
							19: [2, 20],
							20: [2, 20],
							22: [2, 20],
							23: [2, 20],
							25: [2, 20]
						}, {
							5: [2, 21],
							14: [2, 21],
							15: [2, 21],
							16: [2, 21],
							19: [2, 21],
							20: [2, 21],
							22: [2, 21],
							23: [2, 21],
							25: [2, 21]
						}, {
							18: [1, 66]
						}, {
							18: [2, 42]
						}, {
							18: [1, 67]
						}, {
							8: 17,
							9: 5,
							11: 6,
							12: 7,
							13: 8,
							14: [1, 9],
							15: [1, 10],
							16: [1, 12],
							19: [1, 11],
							20: [2, 4],
							22: [1, 13],
							23: [1, 14],
							25: [1, 15]
						}, {
							18: [2, 24],
							24: [2, 24],
							36: [2, 24]
						}, {
							18: [2, 44],
							24: [2, 44],
							32: [2, 44],
							33: [2, 44],
							34: [2, 44],
							35: [2, 44],
							36: [2, 44],
							40: [2, 44],
							42: [2, 44]
						}, {
							18: [2, 46],
							24: [2, 46],
							36: [2, 46]
						}, {
							18: [2, 26],
							24: [2, 26],
							32: [2, 26],
							33: [2, 26],
							34: [2, 26],
							35: [2, 26],
							36: [2, 26],
							40: [2, 26],
							42: [2, 26]
						}, {
							18: [2, 27],
							24: [2, 27],
							32: [2, 27],
							33: [2, 27],
							34: [2, 27],
							35: [2, 27],
							36: [2, 27],
							40: [2, 27],
							42: [2, 27]
						}, {
							18: [2, 28],
							24: [2, 28],
							32: [2, 28],
							33: [2, 28],
							34: [2, 28],
							35: [2, 28],
							36: [2, 28],
							40: [2, 28],
							42: [2, 28]
						}, {
							18: [2, 29],
							24: [2, 29],
							32: [2, 29],
							33: [2, 29],
							34: [2, 29],
							35: [2, 29],
							36: [2, 29],
							40: [2, 29],
							42: [2, 29]
						}, {
							18: [2, 30],
							24: [2, 30],
							32: [2, 30],
							33: [2, 30],
							34: [2, 30],
							35: [2, 30],
							36: [2, 30],
							40: [2, 30],
							42: [2, 30]
						}, {
							17: 68,
							21: 24,
							30: 25,
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							18: [2, 32],
							24: [2, 32],
							36: [2, 32],
							39: 69,
							40: [1, 70]
						}, {
							18: [2, 47],
							24: [2, 47],
							36: [2, 47],
							40: [2, 47]
						}, {
							18: [2, 40],
							24: [2, 40],
							32: [2, 40],
							33: [2, 40],
							34: [2, 40],
							35: [2, 40],
							36: [2, 40],
							40: [2, 40],
							41: [1, 71],
							42: [2, 40],
							44: [2, 40]
						}, {
							18: [2, 39],
							24: [2, 39],
							32: [2, 39],
							33: [2, 39],
							34: [2, 39],
							35: [2, 39],
							36: [2, 39],
							40: [2, 39],
							42: [2, 39],
							44: [2, 39]
						}, {
							5: [2, 22],
							14: [2, 22],
							15: [2, 22],
							16: [2, 22],
							19: [2, 22],
							20: [2, 22],
							22: [2, 22],
							23: [2, 22],
							25: [2, 22]
						}, {
							5: [2, 19],
							14: [2, 19],
							15: [2, 19],
							16: [2, 19],
							19: [2, 19],
							20: [2, 19],
							22: [2, 19],
							23: [2, 19],
							25: [2, 19]
						}, {
							36: [1, 72]
						}, {
							18: [2, 48],
							24: [2, 48],
							36: [2, 48],
							40: [2, 48]
						}, {
							41: [1, 71]
						}, {
							21: 56,
							30: 60,
							31: 73,
							32: [1, 57],
							33: [1, 58],
							34: [1, 59],
							35: [1, 61],
							40: [1, 28],
							42: [1, 27],
							43: 26
						}, {
							18: [2, 31],
							24: [2, 31],
							32: [2, 31],
							33: [2, 31],
							34: [2, 31],
							35: [2, 31],
							36: [2, 31],
							40: [2, 31],
							42: [2, 31]
						}, {
							18: [2, 33],
							24: [2, 33],
							36: [2, 33],
							40: [2, 33]
						}],
						defaultActions: {
							3: [2, 2],
							16: [2, 1],
							50: [2, 42]
						},
						parseError: function(e) {
							throw new Error(e)
						},
						parse: function(e) {
							function t() {
								var e;
								return e = i.lexer.lex() || 1, "number" != typeof e && (e = i.symbols_[e] || e), e
							}
							var i = this,
								n = [0],
								a = [null],
								s = [],
								r = this.table,
								o = "",
								l = 0,
								c = 0,
								d = 0;
							this.lexer.setInput(e), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, this.yy.parser = this, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {});
							var u = this.lexer.yylloc;
							s.push(u);
							var h = this.lexer.options && this.lexer.options.ranges;
							"function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError);
							for (var p, f, m, g, v, y, b, w, x, k = {};;) {
								if (m = n[n.length - 1], this.defaultActions[m] ? g = this.defaultActions[m] : ((null === p || "undefined" == typeof p) && (p = t()), g = r[m] && r[m][p]), "undefined" == typeof g || !g.length || !g[0]) {
									var C = "";
									if (!d) {
										x = [];
										for (y in r[m]) this.terminals_[y] && y > 2 && x.push("'" + this.terminals_[y] + "'");
										C = this.lexer.showPosition ? "Parse error on line " + (l + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + x.join(", ") + ", got '" + (this.terminals_[p] || p) + "'" : "Parse error on line " + (l + 1) + ": Unexpected " + (1 == p ? "end of input" : "'" + (this.terminals_[p] || p) + "'"), this.parseError(C, {
											text: this.lexer.match,
											token: this.terminals_[p] || p,
											line: this.lexer.yylineno,
											loc: u,
											expected: x
										})
									}
								}
								if (g[0] instanceof Array && g.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + m + ", token: " + p);
								switch (g[0]) {
									case 1:
										n.push(p), a.push(this.lexer.yytext), s.push(this.lexer.yylloc), n.push(g[1]), p = null, f ? (p = f, f = null) : (c = this.lexer.yyleng, o = this.lexer.yytext, l = this.lexer.yylineno, u = this.lexer.yylloc, d > 0 && d--);
										break;
									case 2:
										if (b = this.productions_[g[1]][1], k.$ = a[a.length - b], k._$ = {
												first_line: s[s.length - (b || 1)].first_line,
												last_line: s[s.length - 1].last_line,
												first_column: s[s.length - (b || 1)].first_column,
												last_column: s[s.length - 1].last_column
											}, h && (k._$.range = [s[s.length - (b || 1)].range[0], s[s.length - 1].range[1]]), v = this.performAction.call(k, o, c, l, this.yy, g[1], a, s), "undefined" != typeof v) return v;
										b && (n = n.slice(0, -1 * b * 2), a = a.slice(0, -1 * b), s = s.slice(0, -1 * b)), n.push(this.productions_[g[1]][0]), a.push(k.$), s.push(k._$), w = r[n[n.length - 2]][n[n.length - 1]], n.push(w);
										break;
									case 3:
										return !0
								}
							}
							return !0
						}
					},
					n = function() {
						var e = {
							EOF: 1,
							parseError: function(e, t) {
								if (!this.yy.parser) throw new Error(e);
								this.yy.parser.parseError(e, t)
							},
							setInput: function(e) {
								return this._input = e, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = {
									first_line: 1,
									first_column: 0,
									last_line: 1,
									last_column: 0
								}, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this
							},
							input: function() {
								var e = this._input[0];
								this.yytext += e, this.yyleng++, this.offset++, this.match += e, this.matched += e;
								var t = e.match(/(?:\r\n?|\n).*/g);
								return t ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e
							},
							unput: function(e) {
								var t = e.length,
									i = e.split(/(?:\r\n?|\n)/g);
								this._input = e + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t - 1), this.offset -= t;
								var n = this.match.split(/(?:\r\n?|\n)/g);
								this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), i.length - 1 && (this.yylineno -= i.length - 1);
								var a = this.yylloc.range;
								return this.yylloc = {
									first_line: this.yylloc.first_line,
									last_line: this.yylineno + 1,
									first_column: this.yylloc.first_column,
									last_column: i ? (i.length === n.length ? this.yylloc.first_column : 0) + n[n.length - i.length].length - i[0].length : this.yylloc.first_column - t
								}, this.options.ranges && (this.yylloc.range = [a[0], a[0] + this.yyleng - t]), this
							},
							more: function() {
								return this._more = !0, this
							},
							less: function(e) {
								this.unput(this.match.slice(e))
							},
							pastInput: function() {
								var e = this.matched.substr(0, this.matched.length - this.match.length);
								return (e.length > 20 ? "..." : "") + e.substr(-20).replace(/\n/g, "")
							},
							upcomingInput: function() {
								var e = this.match;
								return e.length < 20 && (e += this._input.substr(0, 20 - e.length)), (e.substr(0, 20) + (e.length > 20 ? "..." : "")).replace(/\n/g, "")
							},
							showPosition: function() {
								var e = this.pastInput(),
									t = new Array(e.length + 1).join("-");
								return e + this.upcomingInput() + "\n" + t + "^"
							},
							next: function() {
								if (this.done) return this.EOF;
								this._input || (this.done = !0);
								var e, t, i, n, a;
								this._more || (this.yytext = "", this.match = "");
								for (var s = this._currentRules(), r = 0; r < s.length && (i = this._input.match(this.rules[s[r]]), !i || t && !(i[0].length > t[0].length) || (t = i, n = r, this.options.flex)); r++);
								return t ? (a = t[0].match(/(?:\r\n?|\n).*/g), a && (this.yylineno += a.length), this.yylloc = {
									first_line: this.yylloc.last_line,
									last_line: this.yylineno + 1,
									first_column: this.yylloc.last_column,
									last_column: a ? a[a.length - 1].length - a[a.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t[0].length
								}, this.yytext += t[0], this.match += t[0], this.matches = t, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(t[0].length), this.matched += t[0], e = this.performAction.call(this, this.yy, this, s[n], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), e ? e : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
									text: "",
									token: null,
									line: this.yylineno
								})
							},
							lex: function() {
								var e = this.next();
								return "undefined" != typeof e ? e : this.lex()
							},
							begin: function(e) {
								this.conditionStack.push(e)
							},
							popState: function() {
								return this.conditionStack.pop()
							},
							_currentRules: function() {
								return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules
							},
							topState: function() {
								return this.conditionStack[this.conditionStack.length - 2]
							},
							pushState: function(e) {
								this.begin(e)
							}
						};
						return e.options = {}, e.performAction = function(e, t, i, n) {
							function a(e, i) {
								return t.yytext = t.yytext.substr(e, t.yyleng - i)
							}
							switch (i) {
								case 0:
									if ("\\\\" === t.yytext.slice(-2) ? (a(0, 1), this.begin("mu")) : "\\" === t.yytext.slice(-1) ? (a(0, 1), this.begin("emu")) : this.begin("mu"), t.yytext) return 14;
									break;
								case 1:
									return 14;
								case 2:
									return this.popState(), 14;
								case 3:
									return a(0, 4), this.popState(), 15;
								case 4:
									return 35;
								case 5:
									return 36;
								case 6:
									return 25;
								case 7:
									return 16;
								case 8:
									return 20;
								case 9:
									return 19;
								case 10:
									return 19;
								case 11:
									return 23;
								case 12:
									return 22;
								case 13:
									this.popState(), this.begin("com");
									break;
								case 14:
									return a(3, 5), this.popState(), 15;
								case 15:
									return 22;
								case 16:
									return 41;
								case 17:
									return 40;
								case 18:
									return 40;
								case 19:
									return 44;
								case 20:
									break;
								case 21:
									return this.popState(), 24;
								case 22:
									return this.popState(), 18;
								case 23:
									return t.yytext = a(1, 2).replace(/\\"/g, '"'), 32;
								case 24:
									return t.yytext = a(1, 2).replace(/\\'/g, "'"), 32;
								case 25:
									return 42;
								case 26:
									return 34;
								case 27:
									return 34;
								case 28:
									return 33;
								case 29:
									return 40;
								case 30:
									return t.yytext = a(1, 2), 40;
								case 31:
									return "INVALID";
								case 32:
									return 5
							}
						}, e.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:[\s\S]*?--\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{!--)/, /^(?:\{\{![\s\S]*?\}\})/, /^(?:\{\{(~)?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:-?[0-9]+(?=([~}\s)])))/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/], e.conditions = {
							mu: {
								rules: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32],
								inclusive: !1
							},
							emu: {
								rules: [2],
								inclusive: !1
							},
							com: {
								rules: [3],
								inclusive: !1
							},
							INITIAL: {
								rules: [0, 1, 32],
								inclusive: !0
							}
						}, e
					}();
				return i.lexer = n, t.prototype = i, i.Parser = t, new t
			}();
			return e = t
		}(),
		l = function(e, t) {
			"use strict";

			function i(e) {
				return e.constructor === s.ProgramNode ? e : (a.yy = s, a.parse(e))
			}
			var n = {},
				a = e,
				s = t;
			return n.parser = a, n.parse = i, n
		}(o, r),
		c = function(e) {
			"use strict";

			function t() {}

			function i(e, t, i) {
				if (null == e || "string" != typeof e && e.constructor !== i.AST.ProgramNode) throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + e);
				t = t || {}, "data" in t || (t.data = !0);
				var n = i.parse(e),
					a = (new i.Compiler).compile(n, t);
				return (new i.JavaScriptCompiler).compile(a, t)
			}

			function n(e, t, i) {
				function n() {
					var n = i.parse(e),
						a = (new i.Compiler).compile(n, t),
						s = (new i.JavaScriptCompiler).compile(a, t, void 0, !0);
					return i.template(s)
				}
				if (null == e || "string" != typeof e && e.constructor !== i.AST.ProgramNode) throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + e);
				t = t || {}, "data" in t || (t.data = !0);
				var a;
				return function(e, t) {
					return a || (a = n()), a.call(this, e, t)
				}
			}
			var a = {},
				s = e;
			return a.Compiler = t, t.prototype = {
				compiler: t,
				disassemble: function() {
					for (var e, t, i, n = this.opcodes, a = [], s = 0, r = n.length; r > s; s++)
						if (e = n[s], "DECLARE" === e.opcode) a.push("DECLARE " + e.name + "=" + e.value);
						else {
							t = [];
							for (var o = 0; o < e.args.length; o++) i = e.args[o], "string" == typeof i && (i = '"' + i.replace("\n", "\\n") + '"'), t.push(i);
							a.push(e.opcode + " " + t.join(" "))
						}
					return a.join("\n")
				},
				equals: function(e) {
					var t = this.opcodes.length;
					if (e.opcodes.length !== t) return !1;
					for (var i = 0; t > i; i++) {
						var n = this.opcodes[i],
							a = e.opcodes[i];
						if (n.opcode !== a.opcode || n.args.length !== a.args.length) return !1;
						for (var s = 0; s < n.args.length; s++)
							if (n.args[s] !== a.args[s]) return !1
					}
					if (t = this.children.length, e.children.length !== t) return !1;
					for (i = 0; t > i; i++)
						if (!this.children[i].equals(e.children[i])) return !1;
					return !0
				},
				guid: 0,
				compile: function(e, t) {
					this.opcodes = [], this.children = [], this.depths = {
						list: []
					}, this.options = t;
					var i = this.options.knownHelpers;
					if (this.options.knownHelpers = {
							helperMissing: !0,
							blockHelperMissing: !0,
							each: !0,
							"if": !0,
							unless: !0,
							"with": !0,
							log: !0
						}, i)
						for (var n in i) this.options.knownHelpers[n] = i[n];
					return this.accept(e)
				},
				accept: function(e) {
					var t, i = e.strip || {};
					return i.left && this.opcode("strip"), t = this[e.type](e), i.right && this.opcode("strip"), t
				},
				program: function(e) {
					for (var t = e.statements, i = 0, n = t.length; n > i; i++) this.accept(t[i]);
					return this.isSimple = 1 === n, this.depths.list = this.depths.list.sort(function(e, t) {
						return e - t
					}), this
				},
				compileProgram: function(e) {
					var t, i = (new this.compiler).compile(e, this.options),
						n = this.guid++;
					this.usePartial = this.usePartial || i.usePartial, this.children[n] = i;
					for (var a = 0, s = i.depths.list.length; s > a; a++) t = i.depths.list[a], 2 > t || this.addDepth(t - 1);
					return n
				},
				block: function(e) {
					var t = e.mustache,
						i = e.program,
						n = e.inverse;
					i && (i = this.compileProgram(i)), n && (n = this.compileProgram(n));
					var a = t.sexpr,
						s = this.classifySexpr(a);
					"helper" === s ? this.helperSexpr(a, i, n) : "simple" === s ? (this.simpleSexpr(a), this.opcode("pushProgram", i), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("blockValue")) : (this.ambiguousSexpr(a, i, n), this.opcode("pushProgram", i), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append")
				},
				hash: function(e) {
					var t, i, n = e.pairs;
					this.opcode("pushHash");
					for (var a = 0, s = n.length; s > a; a++) t = n[a], i = t[1], this.options.stringParams ? (i.depth && this.addDepth(i.depth), this.opcode("getContext", i.depth || 0), this.opcode("pushStringParam", i.stringModeValue, i.type), "sexpr" === i.type && this.sexpr(i)) : this.accept(i), this.opcode("assignToHash", t[0]);
					this.opcode("popHash")
				},
				partial: function(e) {
					var t = e.partialName;
					this.usePartial = !0, e.context ? this.ID(e.context) : this.opcode("push", "depth0"), this.opcode("invokePartial", t.name), this.opcode("append")
				},
				content: function(e) {
					this.opcode("appendContent", e.string)
				},
				mustache: function(e) {
					this.sexpr(e.sexpr), e.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append")
				},
				ambiguousSexpr: function(e, t, i) {
					var n = e.id,
						a = n.parts[0],
						s = null != t || null != i;
					this.opcode("getContext", n.depth), this.opcode("pushProgram", t), this.opcode("pushProgram", i), this.opcode("invokeAmbiguous", a, s)
				},
				simpleSexpr: function(e) {
					var t = e.id;
					"DATA" === t.type ? this.DATA(t) : t.parts.length ? this.ID(t) : (this.addDepth(t.depth), this.opcode("getContext", t.depth), this.opcode("pushContext")), this.opcode("resolvePossibleLambda")
				},
				helperSexpr: function(e, t, i) {
					var n = this.setupFullMustacheParams(e, t, i),
						a = e.id.parts[0];
					if (this.options.knownHelpers[a]) this.opcode("invokeKnownHelper", n.length, a);
					else {
						if (this.options.knownHelpersOnly) throw new s("You specified knownHelpersOnly, but used the unknown helper " + a, e);
						this.opcode("invokeHelper", n.length, a, e.isRoot)
					}
				},
				sexpr: function(e) {
					var t = this.classifySexpr(e);
					"simple" === t ? this.simpleSexpr(e) : "helper" === t ? this.helperSexpr(e) : this.ambiguousSexpr(e)
				},
				ID: function(e) {
					this.addDepth(e.depth), this.opcode("getContext", e.depth);
					var t = e.parts[0];
					t ? this.opcode("lookupOnContext", e.parts[0]) : this.opcode("pushContext");
					for (var i = 1, n = e.parts.length; n > i; i++) this.opcode("lookup", e.parts[i])
				},
				DATA: function(e) {
					if (this.options.data = !0, e.id.isScoped || e.id.depth) throw new s("Scoped data references are not supported: " + e.original, e);
					this.opcode("lookupData");
					for (var t = e.id.parts, i = 0, n = t.length; n > i; i++) this.opcode("lookup", t[i])
				},
				STRING: function(e) {
					this.opcode("pushString", e.string)
				},
				INTEGER: function(e) {
					this.opcode("pushLiteral", e.integer)
				},
				BOOLEAN: function(e) {
					this.opcode("pushLiteral", e.bool)
				},
				comment: function() {},
				opcode: function(e) {
					this.opcodes.push({
						opcode: e,
						args: [].slice.call(arguments, 1)
					})
				},
				declare: function(e, t) {
					this.opcodes.push({
						opcode: "DECLARE",
						name: e,
						value: t
					})
				},
				addDepth: function(e) {
					0 !== e && (this.depths[e] || (this.depths[e] = !0, this.depths.list.push(e)))
				},
				classifySexpr: function(e) {
					var t = e.isHelper,
						i = e.eligibleHelper,
						n = this.options;
					if (i && !t) {
						var a = e.id.parts[0];
						n.knownHelpers[a] ? t = !0 : n.knownHelpersOnly && (i = !1)
					}
					return t ? "helper" : i ? "ambiguous" : "simple"
				},
				pushParams: function(e) {
					for (var t, i = e.length; i--;) t = e[i], this.options.stringParams ? (t.depth && this.addDepth(t.depth), this.opcode("getContext", t.depth || 0), this.opcode("pushStringParam", t.stringModeValue, t.type), "sexpr" === t.type && this.sexpr(t)) : this[t.type](t)
				},
				setupFullMustacheParams: function(e, t, i) {
					var n = e.params;
					return this.pushParams(n), this.opcode("pushProgram", t), this.opcode("pushProgram", i), e.hash ? this.hash(e.hash) : this.opcode("emptyHash"), n
				}
			}, a.precompile = i, a.compile = n, a
		}(i),
		d = function(e, t) {
			"use strict";

			function i(e) {
				this.value = e
			}

			function n() {}
			var a, s = e.COMPILER_REVISION,
				r = e.REVISION_CHANGES,
				o = e.log,
				l = t;
			n.prototype = {
				nameLookup: function(e, t) {
					var i, a;
					return 0 === e.indexOf("depth") && (i = !0), a = /^[0-9]+$/.test(t) ? e + "[" + t + "]" : n.isValidJavaScriptVariableName(t) ? e + "." + t : e + "['" + t + "']", i ? "(" + e + " && " + a + ")" : a
				},
				compilerInfo: function() {
					var e = s,
						t = r[e];
					return "this.compilerInfo = [" + e + ",'" + t + "'];\n"
				},
				appendToBuffer: function(e) {
					return this.environment.isSimple ? "return " + e + ";" : {
						appendToBuffer: !0,
						content: e,
						toString: function() {
							return "buffer += " + e + ";"
						}
					}
				},
				initializeBuffer: function() {
					return this.quotedString("")
				},
				namespace: "Handlebars",
				compile: function(e, t, i, n) {
					this.environment = e, this.options = t || {}, o("debug", this.environment.disassemble() + "\n\n"), this.name = this.environment.name, this.isChild = !!i, this.context = i || {
						programs: [],
						environments: [],
						aliases: {}
					}, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.registers = {
						list: []
					}, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.compileChildren(e, t);
					var a, s = e.opcodes;
					this.i = 0;
					for (var r = s.length; this.i < r; this.i++) a = s[this.i], "DECLARE" === a.opcode ? this[a.name] = a.value : this[a.opcode].apply(this, a.args), a.opcode !== this.stripNext && (this.stripNext = !1);
					if (this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new l("Compile completed with content left on stack");
					return this.createFunctionContext(n)
				},
				preamble: function() {
					var e = [];
					if (this.isChild) e.push("");
					else {
						var t = this.namespace,
							i = "helpers = this.merge(helpers, " + t + ".helpers);";
						this.environment.usePartial && (i = i + " partials = this.merge(partials, " + t + ".partials);"), this.options.data && (i += " data = data || {};"), e.push(i)
					}
					this.environment.isSimple ? e.push("") : e.push(", buffer = " + this.initializeBuffer()), this.lastContext = 0, this.source = e
				},
				createFunctionContext: function(e) {
					var t = this.stackVars.concat(this.registers.list);
					if (t.length > 0 && (this.source[1] = this.source[1] + ", " + t.join(", ")), !this.isChild)
						for (var i in this.context.aliases) this.context.aliases.hasOwnProperty(i) && (this.source[1] = this.source[1] + ", " + i + "=" + this.context.aliases[i]);
					this.source[1] && (this.source[1] = "var " + this.source[1].substring(2) + ";"), this.isChild || (this.source[1] += "\n" + this.context.programs.join("\n") + "\n"), this.environment.isSimple || this.pushSource("return buffer;");
					for (var n = this.isChild ? ["depth0", "data"] : ["Handlebars", "depth0", "helpers", "partials", "data"], a = 0, s = this.environment.depths.list.length; s > a; a++) n.push("depth" + this.environment.depths.list[a]);
					var r = this.mergeSource();
					if (this.isChild || (r = this.compilerInfo() + r), e) return n.push(r), Function.apply(this, n);
					var l = "function " + (this.name || "") + "(" + n.join(",") + ") {\n  " + r + "}";
					return o("debug", l + "\n\n"), l
				},
				mergeSource: function() {
					for (var e, t = "", i = 0, n = this.source.length; n > i; i++) {
						var a = this.source[i];
						a.appendToBuffer ? e = e ? e + "\n    + " + a.content : a.content : (e && (t += "buffer += " + e + ";\n  ", e = void 0), t += a + "\n  ")
					}
					return t
				},
				blockValue: function() {
					this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
					var e = ["depth0"];
					this.setupParams(0, e), this.replaceStack(function(t) {
						return e.splice(1, 0, t), "blockHelperMissing.call(" + e.join(", ") + ")"
					})
				},
				ambiguousBlockValue: function() {
					this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
					var e = ["depth0"];
					this.setupParams(0, e);
					var t = this.topStack();
					e.splice(1, 0, t), this.pushSource("if (!" + this.lastHelper + ") { " + t + " = blockHelperMissing.call(" + e.join(", ") + "); }")
				},
				appendContent: function(e) {
					this.pendingContent && (e = this.pendingContent + e), this.stripNext && (e = e.replace(/^\s+/, "")), this.pendingContent = e
				},
				strip: function() {
					this.pendingContent && (this.pendingContent = this.pendingContent.replace(/\s+$/, "")), this.stripNext = "strip"
				},
				append: function() {
					this.flushInline();
					var e = this.popStack();
					this.pushSource("if(" + e + " || " + e + " === 0) { " + this.appendToBuffer(e) + " }"), this.environment.isSimple && this.pushSource("else { " + this.appendToBuffer("''") + " }")
				},
				appendEscaped: function() {
					this.context.aliases.escapeExpression = "this.escapeExpression", this.pushSource(this.appendToBuffer("escapeExpression(" + this.popStack() + ")"))
				},
				getContext: function(e) {
					this.lastContext !== e && (this.lastContext = e)
				},
				lookupOnContext: function(e) {
					this.push(this.nameLookup("depth" + this.lastContext, e, "context"))
				},
				pushContext: function() {
					this.pushStackLiteral("depth" + this.lastContext)
				},
				resolvePossibleLambda: function() {
					this.context.aliases.functionType = '"function"', this.replaceStack(function(e) {
						return "typeof " + e + " === functionType ? " + e + ".apply(depth0) : " + e
					})
				},
				lookup: function(e) {
					this.replaceStack(function(t) {
						return t + " == null || " + t + " === false ? " + t + " : " + this.nameLookup(t, e, "context")
					})
				},
				lookupData: function() {
					this.pushStackLiteral("data")
				},
				pushStringParam: function(e, t) {
					this.pushStackLiteral("depth" + this.lastContext), this.pushString(t), "sexpr" !== t && ("string" == typeof e ? this.pushString(e) : this.pushStackLiteral(e))
				},
				emptyHash: function() {
					this.pushStackLiteral("{}"), this.options.stringParams && (this.push("{}"), this.push("{}"))
				},
				pushHash: function() {
					this.hash && this.hashes.push(this.hash), this.hash = {
						values: [],
						types: [],
						contexts: []
					}
				},
				popHash: function() {
					var e = this.hash;
					this.hash = this.hashes.pop(), this.options.stringParams && (this.push("{" + e.contexts.join(",") + "}"), this.push("{" + e.types.join(",") + "}")), this.push("{\n    " + e.values.join(",\n    ") + "\n  }")
				},
				pushString: function(e) {
					this.pushStackLiteral(this.quotedString(e))
				},
				push: function(e) {
					return this.inlineStack.push(e), e
				},
				pushLiteral: function(e) {
					this.pushStackLiteral(e)
				},
				pushProgram: function(e) {
					null != e ? this.pushStackLiteral(this.programExpression(e)) : this.pushStackLiteral(null)
				},
				invokeHelper: function(e, t, i) {
					this.context.aliases.helperMissing = "helpers.helperMissing", this.useRegister("helper");
					var n = this.lastHelper = this.setupHelper(e, t, !0),
						a = this.nameLookup("depth" + this.lastContext, t, "context"),
						s = "helper = " + n.name + " || " + a;
					n.paramsInit && (s += "," + n.paramsInit), this.push("(" + s + ",helper ? helper.call(" + n.callParams + ") : helperMissing.call(" + n.helperMissingParams + "))"), i || this.flushInline()
				},
				invokeKnownHelper: function(e, t) {
					var i = this.setupHelper(e, t);
					this.push(i.name + ".call(" + i.callParams + ")")
				},
				invokeAmbiguous: function(e, t) {
					this.context.aliases.functionType = '"function"', this.useRegister("helper"), this.emptyHash();
					var i = this.setupHelper(0, e, t),
						n = this.lastHelper = this.nameLookup("helpers", e, "helper"),
						a = this.nameLookup("depth" + this.lastContext, e, "context"),
						s = this.nextStack();
					i.paramsInit && this.pushSource(i.paramsInit), this.pushSource("if (helper = " + n + ") { " + s + " = helper.call(" + i.callParams + "); }"), this.pushSource("else { helper = " + a + "; " + s + " = typeof helper === functionType ? helper.call(" + i.callParams + ") : helper; }")
				},
				invokePartial: function(e) {
					var t = [this.nameLookup("partials", e, "partial"), "'" + e + "'", this.popStack(), "helpers", "partials"];
					this.options.data && t.push("data"), this.context.aliases.self = "this", this.push("self.invokePartial(" + t.join(", ") + ")")
				},
				assignToHash: function(e) {
					var t, i, n = this.popStack();
					this.options.stringParams && (i = this.popStack(), t = this.popStack());
					var a = this.hash;
					t && a.contexts.push("'" + e + "': " + t), i && a.types.push("'" + e + "': " + i), a.values.push("'" + e + "': (" + n + ")")
				},
				compiler: n,
				compileChildren: function(e, t) {
					for (var i, n, a = e.children, s = 0, r = a.length; r > s; s++) {
						i = a[s], n = new this.compiler;
						var o = this.matchExistingProgram(i);
						null == o ? (this.context.programs.push(""), o = this.context.programs.length, i.index = o, i.name = "program" + o, this.context.programs[o] = n.compile(i, t, this.context), this.context.environments[o] = i) : (i.index = o, i.name = "program" + o)
					}
				},
				matchExistingProgram: function(e) {
					for (var t = 0, i = this.context.environments.length; i > t; t++) {
						var n = this.context.environments[t];
						if (n && n.equals(e)) return t
					}
				},
				programExpression: function(e) {
					if (this.context.aliases.self = "this", null == e) return "self.noop";
					for (var t, i = this.environment.children[e], n = i.depths.list, a = [i.index, i.name, "data"], s = 0, r = n.length; r > s; s++) t = n[s], 1 === t ? a.push("depth0") : a.push("depth" + (t - 1));
					return (0 === n.length ? "self.program(" : "self.programWithDepth(") + a.join(", ") + ")"
				},
				register: function(e, t) {
					this.useRegister(e), this.pushSource(e + " = " + t + ";")
				},
				useRegister: function(e) {
					this.registers[e] || (this.registers[e] = !0, this.registers.list.push(e))
				},
				pushStackLiteral: function(e) {
					return this.push(new i(e))
				},
				pushSource: function(e) {
					this.pendingContent && (this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))), this.pendingContent = void 0), e && this.source.push(e)
				},
				pushStack: function(e) {
					this.flushInline();
					var t = this.incrStack();
					return e && this.pushSource(t + " = " + e + ";"), this.compileStack.push(t), t
				},
				replaceStack: function(e) {
					var t, n, a, s = "",
						r = this.isInline();
					if (r) {
						var o = this.popStack(!0);
						if (o instanceof i) t = o.value, a = !0;
						else {
							n = !this.stackSlot;
							var l = n ? this.incrStack() : this.topStackName();
							s = "(" + this.push(l) + " = " + o + "),", t = this.topStack()
						}
					} else t = this.topStack();
					var c = e.call(this, t);
					return r ? (a || this.popStack(), n && this.stackSlot--, this.push("(" + s + c + ")")) : (/^stack/.test(t) || (t = this.nextStack()), this.pushSource(t + " = (" + s + c + ");")), t
				},
				nextStack: function() {
					return this.pushStack()
				},
				incrStack: function() {
					return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName()
				},
				topStackName: function() {
					return "stack" + this.stackSlot
				},
				flushInline: function() {
					var e = this.inlineStack;
					if (e.length) {
						this.inlineStack = [];
						for (var t = 0, n = e.length; n > t; t++) {
							var a = e[t];
							a instanceof i ? this.compileStack.push(a) : this.pushStack(a)
						}
					}
				},
				isInline: function() {
					return this.inlineStack.length
				},
				popStack: function(e) {
					var t = this.isInline(),
						n = (t ? this.inlineStack : this.compileStack).pop();
					if (!e && n instanceof i) return n.value;
					if (!t) {
						if (!this.stackSlot) throw new l("Invalid stack pop");
						this.stackSlot--
					}
					return n
				},
				topStack: function(e) {
					var t = this.isInline() ? this.inlineStack : this.compileStack,
						n = t[t.length - 1];
					return !e && n instanceof i ? n.value : n
				},
				quotedString: function(e) {
					return '"' + e.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"'
				},
				setupHelper: function(e, t, i) {
					var n = [],
						a = this.setupParams(e, n, i),
						s = this.nameLookup("helpers", t, "helper");
					return {
						params: n,
						paramsInit: a,
						name: s,
						callParams: ["depth0"].concat(n).join(", "),
						helperMissingParams: i && ["depth0", this.quotedString(t)].concat(n).join(", ")
					}
				},
				setupOptions: function(e, t) {
					var i, n, a, s = [],
						r = [],
						o = [];
					s.push("hash:" + this.popStack()), this.options.stringParams && (s.push("hashTypes:" + this.popStack()), s.push("hashContexts:" + this.popStack())), n = this.popStack(), a = this.popStack(), (a || n) && (a || (this.context.aliases.self = "this", a = "self.noop"), n || (this.context.aliases.self = "this", n = "self.noop"), s.push("inverse:" + n), s.push("fn:" + a));
					for (var l = 0; e > l; l++) i = this.popStack(), t.push(i), this.options.stringParams && (o.push(this.popStack()), r.push(this.popStack()));
					return this.options.stringParams && (s.push("contexts:[" + r.join(",") + "]"), s.push("types:[" + o.join(",") + "]")), this.options.data && s.push("data:data"), s
				},
				setupParams: function(e, t, i) {
					var n = "{" + this.setupOptions(e, t).join(",") + "}";
					return i ? (this.useRegister("options"), t.push("options"), "options=" + n) : (t.push(n), "")
				}
			};
			for (var c = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "), d = n.RESERVED_WORDS = {}, u = 0, h = c.length; h > u; u++) d[c[u]] = !0;
			return n.isValidJavaScriptVariableName = function(e) {
				return !n.RESERVED_WORDS[e] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e) ? !0 : !1
			}, a = n
		}(n, i),
		u = function(e, t, i, n, a) {
			"use strict";
			var s, r = e,
				o = t,
				l = i.parser,
				c = i.parse,
				d = n.Compiler,
				u = n.compile,
				h = n.precompile,
				p = a,
				f = r.create,
				m = function() {
					var e = f();
					return e.compile = function(t, i) {
						return u(t, i, e)
					}, e.precompile = function(t, i) {
						return h(t, i, e)
					}, e.AST = o, e.Compiler = d, e.JavaScriptCompiler = p, e.Parser = l, e.parse = c, e
				};
			return r = m(), r.create = m, s = r
		}(s, r, l, c, d);
	return u
}();
define("handlebars", function(e) {
	return function() {
		var t;
		return t || e.Handlebars
	}
}(this)), define("handlebarsHelpers", ["handlebars"], function(e) {
	e.registerHelper("rating", function(t) {
		var i, n = Math.floor(t),
			a = t % 1 !== 0,
			s = $("body").data("rating-text");
		if ("star" === s) {
			i = ['<ul class="star-rating" >'];
			for (var r = 0; n > r; r++) i.push('<li class="icon-star"></li>');
			a && i.push('<li class="icon-star-half" />'), i.push("</ul>")
		} else {
			i = ['<ul class="text-rating" >'];
			for (var o = 0; n > o; o++) i.push("<li>" + s + "</li>");
			a && i.push("<li>+</li>"), i.push("</ul>")
		}
		return new e.SafeString(i.join(""))
	}), e.registerHelper("airportCols", function(t, i) {
		for (var n = t.length, a = 3, s = 12 / a, r = ['<div class="col-md-' + s + '"><ul>'], o = Math.ceil(n / a), l = 0, c = 0; n > c; c++) l === o && (r.push('</ul></div><div class="col-md-' + s + '"><ul>'), l = 0), l++, r.push("<li>" + i.fn(t[c]) + "</li>");
		return r.push("</ul></div>"), new e.SafeString(r.join(""))
	}), e.registerHelper("key", function(t, i) {
		return new e.SafeString(t.replace(/\&amp;|\s+/g, "_"))
	}), e.registerHelper("regionText", function(e) {
		var t = $("<div>").html(e);
		return t.text()
	}), e.registerHelper("equal", function(e, t, i) {
		if (arguments.length < 3) throw new Error("Handlebars Helper equal needs 2 parameter");
		return e !== t ? i.inverse(this) : i.fn(this)
	}), e.registerHelper("dataCode", function(e) {
		var t = e.split("|");
		return t[2]
	})
}), define("helpers/addClasses", ["jquery"], function(e) {
	function t(t, i) {
		var n = window.navigator.userAgent,
			a = n.match(t) ? !0 : !1;
		return a && i && e("html").addClass(i), a
	}
	return t
}), define("helpers/requestAnimationFrameWrapper", [], function() {
	return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e, t) {
		window.setTimeout(e, 1e3 / 60)
	}
}), define("helpers/dockable", ["jquery", "pubSub", "./requestAnimationFrameWrapper"], function(e, t, i) {
	function n() {
		this.items = [], this.doc = e(document), this.init()
	}

	function a(t, i) {
		this.ele = t, this.opts = e.extend({}, {
			vOffset: this.ele.data("offset") || 0,
			dockedClass: "fixed",
			name: this.ele.data("name") || !1,
			padBody: !0,
			wrapper: e([]),
			breakpoints: ["lg"],
			conditionToDock: function() {
				return !0
			}
		}, i), this.isDocked = !1, this.id = this.opts.name || "dockable" + Math.round(1e6 * Math.random()), this.namespace = "dockable/" + this.id, this.init()
	}
	var s = {
		init: function() {
			function t() {
				if (!o.opts.dontDockCondition || !o.opts.dontDockCondition())
					for (var t = 0, i = window.pageYOffset - t, l = o.items.length, c = 0; l > c; c++) n = o.items[c], o.heightChanged() && (n.setProps(), c === l && (o.docHeight = o.doc.outerHeight(!0))), a = n.y - t, s = i >= a && !o[n.id] && 0 !== i && n.conditionToDock(), r = a >= i && o[n.id], (s || r) && e.publish("dockable/" + n.id, [t, i]),
						n.isDocked && (t += n.h)
			}
			var n, a, s, r, o = this,
				l = function() {
					i(t)
				};
			e(window).on("scroll", l), this.docHeight = this.doc.outerHeight(!0)
		},
		getDockedHeight: function() {
			for (var e = 0, t = this.items.length, i = 0; t > i; i++) e += this.items[i].isDocked ? this.items[i].h : 0;
			return e
		},
		calcPosititions: function() {
			for (var e, t = this.items.length, i = 0; t > i; i++) e = this.items[i], e.isDocked || (e.y = e.ele.offset().top + e.vOffset, e.h = e.ele.outerHeight(!0))
		},
		heightChanged: function() {
			var e = this.doc.outerHeight(!0);
			return e !== this.docHeight
		}
	};
	n.prototype = e.extend({}, n.prototype, s);
	var r = {
		init: function() {
			var t = this;
			if (this.ele.length) {
				var i = "dockable/" + this.id;
				this.setProps(), this.vOffset = this.opts.vOffset, e.subscribe(i, e.proxy(t.toggleDocking, t)), window.tui = window.tui || {}, tui.DockableController = tui.DockableController || new n, tui.DockableController.opts = t.opts, this.controller = tui.DockableController, this.addToController()
			}
		},
		addToController: function() {
			this.controller.items.push(this), this.controller[this.id] = this.isDocked
		},
		conditionToDock: function() {
			return e.inArray(TUIUtil.getCurrentBreakPoint(), this.opts.breakpoints) < 0 ? !1 : this.opts.conditionToDock()
		},
		toggleDocking: function(t, i, n) {
			var a = this;
			this.ele[this.isDocked ? "removeClass" : "addClass"](this.opts.dockedClass).css("top", this.isDocked ? 0 : i), this.isDocked = this.ele.is("." + this.opts.dockedClass), tui.DockableController[this.id] = this.isDocked,
				function() {
					if (a.opts.wrapper.length && e.inArray(TUIUtil.getCurrentBreakPoint(), a.opts.breakpoints) > -1) {
						var t = tui.DockableController.getDockedHeight();
						a.opts.wrapper.css({
							paddingTop: t
						})
					}
				}(), this.opts.onToggleDocking && this.opts.onToggleDocking.call(this)
		},
		setProps: function() {
			this.y = this.isDocked ? this.y : this.ele.offset().top + this.opts.vOffset, this.h = this.ele.outerHeight(!0)
		}
	};
	for (var o in r) a.prototype[o] = r[o];
	return e.fn.dockable = function(t) {
		return this.each(function() {
			var i = e(this);
			new a(i, t)
		})
	}, a
});
var Tui = Tui || {};
Tui.carousel = function() {
		"use strict";
		var e = function(t, i) {
			this.$element = $(t), this.options = $.extend({}, e.defaults, i), this.init()
		};
		return e.prototype = {
			_isLocked: !1,
			_isInited: !1,
			_currentIndex: -1,
			init: function() {
				if (!this._isInited) {
					var e, t, i, n, a, s, r = this.options,
						o = this.$element;
					if (this._isInited = !0, e = this.$items = o.find(r.itemSelector), !(e.length <= 1)) {
						if (r.mainClass && o.addClass(r.mainClass), r.addItem && (i = e.clone(), s = [], i.each(function() {
								a = document.createElement(r.itemTag), a.appendChild(this), s.push(a)
							}), n = $(s), e.parent().html("").append(n), e = this.$items = n), r.itemClass && e.addClass(r.itemClass), r.addContainer ? (t = this.$container = $(document.createElement(r.containerTag)), i = e.clone(), t.append(i), e.parent().html("").append(t), e = this.$items = i) : t = this.$container = o.find(r.containerSelector), r.containerClass && t.addClass(r.containerClass), r.showNavigation && !$.support.touch) {
							var l = this.$navigation = $(r.navigationTemplate);
							o.append(l);
							this.$navigationPrevItem = l.find(r.navigationPrevItemSelector), this.$navigationNextItem = l.find(r.navigationNextItemSelector);
							l.on("vclick", r.navigationPrevLinkSelector + "," + r.navigationNextLinkSelector, $.proxy(this.navigationClickHandler, this)), l.on("click", r.navigationPrevLinkSelector + "," + r.navigationNextLinkSelector, $.proxy(this.navigationClickHandler, this))
						}
						if (r.showIndicators) {
							var c = (this.$indicators = $([]), this.$indicatorContainer = $(r.indicatorContainerTemplate));
							o.append(c), c.on("vclick", r.indicatorSelector, $.proxy(this.indicatorClickHandler, this))
						}
						$.support.touch && o.on("swipeleft swiperight", $.proxy(this.swipeHandler, this)), this.updateItemCount(), this.goTo(r.startAtIndex, !0)
					}
				}
			},
			getItemCount: function() {
				return this.$items ? this.$items.length : 0
			},
			updateItemCount: function() {
				var e, t, i = (this.$element, this.$container),
					n = this.$indicatorContainer,
					a = this.$items,
					s = this.options,
					r = this.getItemCount();
				if (i.css("width", 100 * r + "%"), a.css("width", 100 / r + "%"), n) {
					for (n.empty(), e = [], t = 0; r > t; t++) e.push($(s.indicatorTemplate).get(0));
					var o = this.$indicators = $(e);
					n.append(o)
				}
			},
			goTo: function(e, t) {
				var i = this.options,
					n = this.getItemCount(),
					a = this._currentIndex,
					s = i.easing,
					r = t ? 0 : i.duration,
					o = this.$container;
				if (e = e || 0, !(this._isLocked || 0 > e || e >= n || e === a)) {
					this._currentIndex = e, this._isLocked = !0;
					var l = $.proxy(function() {
							this._isLocked = !1
						}, this),
						c = 100 * e;
					o.animate({
						left: -c + "%"
					}, {
						duration: r,
						easing: s,
						complete: l
					}), this.renderNavigation(), this.renderIndicators()
				}
			},
			renderNavigation: function() {
				var e = this.options,
					t = this.$navigationPrevItem,
					i = this.$navigationNextItem,
					n = this._currentIndex,
					a = this.getItemCount();
				if (t && i) {
					var s = e.activeClass,
						r = e.inactiveClass,
						o = 0 === n,
						l = n === a - 1,
						c = t.add(i);
					c.removeClass(s, r), t.addClass(o ? r : s), i.addClass(l ? r : s)
				}
			},
			renderIndicators: function() {
				var e = this.options,
					t = this.$indicators,
					i = this._currentIndex;
				if (t) {
					var n = e.activeClass,
						a = e.inactiveClass;
					t.removeClass(n).addClass(a), t.slice(i, i + 1).removeClass(a).addClass(n)
				}
			},
			navigationClickHandler: function(e) {
				e.preventDefault();
				var t, i = this.options,
					n = this._currentIndex,
					a = $(e.currentTarget);
				a.is(i.navigationPrevLinkSelector) ? t = n - 1 : a.is(i.navigationNextLinkSelector) && (t = n + 1), this.goTo(t)
			},
			indicatorClickHandler: function(e) {
				e.preventDefault();
				var t = (this.options, this.$indicators),
					i = $(e.currentTarget),
					n = t.index(i);
				this.goTo(n)
			},
			swipeHandler: function(e) {
				var t, i = (this.options, this._currentIndex);
				"swipeleft" === e.type ? t = i + 1 : "swiperight" === e.type && (t = i - 1), this.goTo(t)
			}
		}, e.defaults = {
			showIndicators: !0,
			showNavigation: !0,
			addContainer: !1,
			addItem: !1,
			startAtIndex: 0,
			duration: 320,
			easing: "swing",
			activeClass: "bs-carousel-active",
			inactiveClass: "bs-carousel-inactive",
			mainClass: "bs-carousel",
			containerTag: "UL",
			containerClass: "bs-carousel-container",
			containerSelector: null,
			itemTag: "LI",
			itemClass: "bs-carousel-item",
			itemSelector: null,
			navigationTemplate: '<ul class="bs-carousel-navigation"><li class="bs-carousel-navigation-prev"><a href="#" class="bs-carousel-navigation-prev-link"></a></li><li class="bs-carousel-navigation-next"><a href="#" class="bs-carousel-navigation-next-link"></a></li></ul>',
			indicatorContainerTemplate: '<ul class="bs-carousel-indicators"></ul>',
			indicatorTemplate: '<li class="bs-carousel-indicator"><span></span></li>',
			navigationPrevItemSelector: "li.bs-carousel-navigation-prev",
			navigationNextItemSelector: "li.bs-carousel-navigation-next",
			navigationPrevLinkSelector: "a.bs-carousel-navigation-prev-link",
			navigationNextLinkSelector: "a.bs-carousel-navigation-next-link",
			indicatorSelector: "li.bs-carousel-indicator"
		}, e
	}(), define("helpers/tui.carousel", function() {}), define("helpers/resize", ["jquery", "pubSub"], function(e) {
		function t(t) {
			this.opts = e.extend({}, {
				sizes: {
					xs: 480,
					sm: 768,
					md: 992,
					lg: 1024
				}
			}, t), this.currentSize = this.opts.sizes.xs
		}
		return t.prototype.init = function() {
			function t(e, t) {
				a.currentSize = t
			}
			var i, n = e(document),
				a = this,
				s = this.opts.sizes,
				r = function(e) {
					for (var t in e.opts.sizes) return t
				}(this);
			return e(window).on("resize", function() {
				i = n.width();
				for (var t in s) r = i >= s[t] ? t : r;
				a.currentSize !== r && (a.currentSize = r, e.publish("breakpointchange", r))
			}), e.subscribe("breakpointchange", t), e(window).trigger("resize"), e.unsubscribe("breakpointchange", t), this
		}, t
	}), require(["jquery", "jqueryCookie", "pubSub", "handlebars", "handlebarsHelpers", "helpers/addClasses", "helpers/dockable", "helpers/tui.carousel", "helpers/resize"], function(e, t, i, n, a, s, r, o, l) {
		s(/iPhone|iPad|iPod/i, "IOS"), "undefined" == typeof tuiConfig && (window.tuiConfig = {}), "undefined" == typeof tui && (window.tui = {}), "undefined" == typeof tui.commonUX && (window.tui.commonUX = {}), tuiConfig.resizer = new l({
			sizes: tuiConfig.breakpoints
		}).init()
	}), define("base", function() {}), define("text", ["module"], function(e) {
		"use strict";
		var t, i, n = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
			a = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
			s = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
			r = "undefined" != typeof location && location.href,
			o = r && location.protocol && location.protocol.replace(/\:/, ""),
			l = r && location.hostname,
			c = r && (location.port || void 0),
			d = [],
			u = e.config && e.config() || {};
		return t = {
			version: "2.0.5",
			strip: function(e) {
				if (e) {
					e = e.replace(a, "");
					var t = e.match(s);
					t && (e = t[1])
				} else e = "";
				return e
			},
			jsEscape: function(e) {
				return e.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
			},
			createXhr: u.createXhr || function() {
				var e, t, i;
				if ("undefined" != typeof XMLHttpRequest) return new XMLHttpRequest;
				if ("undefined" != typeof ActiveXObject)
					for (t = 0; 3 > t; t += 1) {
						i = n[t];
						try {
							e = new ActiveXObject(i)
						} catch (a) {}
						if (e) {
							n = [i];
							break
						}
					}
				return e
			},
			parseName: function(e) {
				var t, i, n, a = !1,
					s = e.indexOf("."),
					r = 0 === e.indexOf("./") || 0 === e.indexOf("../");
				return -1 !== s && (!r || s > 1) ? (t = e.substring(0, s), i = e.substring(s + 1, e.length)) : t = e, n = i || t, s = n.indexOf("!"), -1 !== s && (a = "strip" === n.substring(s + 1), n = n.substring(0, s), i ? i = n : t = n), {
					moduleName: t,
					ext: i,
					strip: a
				}
			},
			xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
			useXhr: function(e, i, n, a) {
				var s, r, o, l = t.xdRegExp.exec(e);
				return l ? (s = l[2], r = l[3], r = r.split(":"), o = r[1], r = r[0], !(s && s !== i || r && r.toLowerCase() !== n.toLowerCase() || (o || r) && o !== a)) : !0
			},
			finishLoad: function(e, i, n, a) {
				n = i ? t.strip(n) : n, u.isBuild && (d[e] = n), a(n)
			},
			load: function(e, i, n, a) {
				if (a.isBuild && !a.inlineText) return void n();
				u.isBuild = a.isBuild;
				var s = t.parseName(e),
					d = s.moduleName + (s.ext ? "." + s.ext : ""),
					h = i.toUrl(d),
					p = u.useXhr || t.useXhr;
				!r || p(h, o, l, c) ? t.get(h, function(i) {
					t.finishLoad(e, s.strip, i, n)
				}, function(e) {
					n.error && n.error(e)
				}) : i([d], function(e) {
					t.finishLoad(s.moduleName + "." + s.ext, s.strip, e, n)
				})
			},
			write: function(e, i, n, a) {
				if (d.hasOwnProperty(i)) {
					var s = t.jsEscape(d[i]);
					n.asModule(e + "!" + i, "define(function () { return '" + s + "';});\n")
				}
			},
			writeFile: function(e, i, n, a, s) {
				var r = t.parseName(i),
					o = r.ext ? "." + r.ext : "",
					l = r.moduleName + o,
					c = n.toUrl(r.moduleName + o) + ".js";
				t.load(l, n, function(i) {
					var n = function(e) {
						return a(c, e)
					};
					n.asModule = function(e, t) {
						return a.asModule(e, c, t)
					}, t.write(e, l, n, s)
				}, s)
			}
		}, "node" === u.env || !u.env && "undefined" != typeof process && process.versions && process.versions.node ? (i = require.nodeRequire("fs"), t.get = function(e, t) {
			var n = i.readFileSync(e, "utf8");
			0 === n.indexOf("\ufeff") && (n = n.substring(1)), t(n)
		}) : "xhr" === u.env || !u.env && t.createXhr() ? t.get = function(e, i, n, a) {
			var s, r = t.createXhr();
			if (r.open("GET", e, !0), a)
				for (s in a) a.hasOwnProperty(s) && r.setRequestHeader(s.toLowerCase(), a[s]);
			u.onXhr && u.onXhr(r, e), r.onreadystatechange = function(t) {
				var a, s;
				4 === r.readyState && (a = r.status, a > 399 && 600 > a ? (s = new Error(e + " HTTP status: " + a), s.xhr = r, n(s)) : i(r.responseText))
			}, r.send(null)
		} : ("rhino" === u.env || !u.env && "undefined" != typeof Packages && "undefined" != typeof java) && (t.get = function(e, t) {
			var i, n, a = "utf-8",
				s = new java.io.File(e),
				r = java.lang.System.getProperty("line.separator"),
				o = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s), a)),
				l = "";
			try {
				for (i = new java.lang.StringBuffer, n = o.readLine(), n && n.length() && 65279 === n.charAt(0) && (n = n.substring(1)), i.append(n); null !== (n = o.readLine());) i.append(r), i.append(n);
				l = String(i.toString())
			} finally {
				o.close()
			}
			t(l)
		}), t
	}), define("text!search-panel/templates/destination-browse-list-v3.hbs", [], function() {
		return '<div class="seprator"></div>\n<div class="country-flyout-header">\n	<span class="right">\n		<a class="btn-done" href="#"><i class="icon-x"></i></a>\n	</span>\n</div>\n<section class="scrollable-container">\n	{{#each columnList}}\n		<div class="col-{{colName}} col-md-4 col-sm-6 col-xs-12">\n			<ul class="col-{{colName}}-list">\n				{{#each columnItems}}\n					<li class="country">\n						<div class="country-name {{#if disabled}}disabled {{/if}} {{#if selected}}selected {{/if}} " tabindex="0">\n							<span class="country-name-container" data-code="{{destinationCode}}" data-type="{{destinationType}}" data-hierarchy="{{destinationHierarchy}}" >{{destinationName}}</span>\n							<span class="icon-wrapper show-destination"><i class="icon-way-right"></i></span>\n						</div>\n						<ul class="country-destinations" >\n							{{#each children}}\n								<li class="child {{destinationType}}" data-code="{{destinationCode}}" data-type="{{destinationType}}" data-hierarchy="{{destinationHierarchy}}" >\n									<div class="child-name  {{#if disabled}}disabled {{/if}}  {{#if selected}}selected{{/if}}" >\n										<span class="name-text">{{destinationName}}</span>\n										{{#if selected}}\n											<span class="icon-close-circle remove-leaf"></span>\n										{{/if}}\n										<span class="show-resorts icon-wrapper hidden"><i class="icon-way-right"></i></span>\n									</div>\n								</li>\n							{{/each}}\n						</ul>\n					</li>\n				{{/each}}\n			</ul>\n		</div>\n	{{/each}}\n</section>\n'
	}), define("text!search-panel/templates/disabledDestinationMessage.hbs", [], function() {
		return '\n{{#if  validationErrorMessage}}\n		<div class="validation-err-msg error-msg" data-targetPanel="{{validationErrorMessage.validationType}}">\n\n\n			<p>{{{validationErrorMessage.message}}}</p>\n\n			{{#if validationErrorMessage.matchedDestination}}\n				<p><a id="{{validationErrorMessage.matchedDestination.code}}" data-name="{{validationErrorMessage.matchedDestination.name}}" data-hierarchy="{{validationErrorMessage.matchedDestination.hierarchy}}" data-type="{{validationErrorMessage.matchedDestination.type}}" data-code="{{validationErrorMessage.matchedDestination.code}}" data-countrycode="{{validationErrorMessage.matchedDestination.countryCode}}" class="alternate-link" href="javascript:void(0)"><em>{{{validationErrorMessage.alternateLinkText}}}</em></a> </p>\n			{{/if}}\n		</div>\n{{/if}}\n'
	}), define("text!search-panel/templates/destination-children-v3.hbs", [], function() {
		return '\n<li class="child select-label" data-code="{{parentCode}}" data-type="{{parentType}}" data-hierarchy="{{parentHierarchy}}" data-name="{{parentName}}" >\n		<div class="child-name  select-all-destinations {{#if parentDisabled}}disabled {{/if}}  {{#if parentSelected}}selected{{/if}}">\n			<span class="name-text">{{selectAllLabel}} {{parentName}}</span>\n			{{#if parentSelected}}\n				<span class="icon-close-circle remove-leaf remove-country"></span>\n			{{/if}}\n		</div>\n</li>\n\n{{#each results}}\n	<li class="child {{#equal destinationType \'destination\'}} destination {{/equal}} {{#equal destinationType \'resort\'}} resort orphan {{/equal}} {{#equal destinationType \'region\'}} resort orphan {{/equal}}{{#if disabled}} disabled {{/if}}  {{#if selected}}selected{{/if}}" data-code="{{destinationCode}}" data-type="{{destinationType}}" data-hierarchy="{{destinationHierarchy}}" >\n		<div class="child-name {{#equal destinationType \'destination\'}} destination {{/equal}} {{#equal destinationType \'resort\'}} resort {{/equal}} {{#equal destinationType \'region\'}} resort {{/equal}} {{#if disabled}}disabled {{/if}}  {{#if selected}}selected{{/if}}">\n			<span class="name-text">{{destinationName}}</span>\n			{{#equal destinationType \'destination\'}}\n				<span class="show-resorts icon-wrapper"><i class="icon-way-right"></i></span>\n			{{/equal}}\n			{{#if selected}}\n				{{#equal destinationType \'resort\'}}\n					<span class="icon-close-circle remove-leaf"></span>\n				{{/equal}}\n				{{#equal destinationType \'region\'}}\n					<span class="icon-close-circle remove-leaf"></span>\n				{{/equal}}\n			{{/if}}\n		</div>\n		{{#equal destinationType \'destination\'}}\n			<ul class="resorts-container">\n			</ul>\n		{{/equal}}\n	</li>\n{{/each}}\n'
	}), define("text!search-panel/templates/resorts-children-v3.hbs", [], function() {
		return '\n<li class="child select-label" data-code="{{parentCode}}" data-type="{{parentType}}" data-hierarchy="{{parentHierarchy}}" data-name="{{parentName}}">\n		<div class="child-name select-all-resorts {{#if parentDisabled}}disabled {{/if}}  {{#if parentSelected}}selected{{/if}}">\n			<span class="name-text">{{selectAllLabel}} {{parentName}}</span>\n			{{#if parentSelected}}\n				<span class="icon-close-circle remove-leaf remove-destination"></span>\n			{{/if}}\n		</div>\n</li>\n\n{{#each results}}\n	<li class="child {{destinationType}} {{#if disabled}}disabled {{/if}} {{#if selected}}selected{{/if}}" data-code="{{destinationCode}}" data-type="{{destinationType}}" data-hierarchy="{{destinationHierarchy}}" >\n		<div class="child-name resort-name {{#if disabled}}disabled {{/if}}  {{#if selected}}selected{{/if}}">\n			<span class="name-text">{{destinationName}}</span>\n			{{#if selected}}\n				<span class="icon-close-circle remove-leaf"></span>\n			{{/if}}\n		</div>\n	</li>\n{{/each}}\n'
	}), define("search-panel/search-destination-v3", ["base", "jquery", "handlebars", "text!./templates/destination-browse-list-v3.hbs", "text!./templates/disabledDestinationMessage.hbs", "text!./templates/destination-children-v3.hbs", "text!./templates/resorts-children-v3.hbs"], function(e, t, i, n, a, s, r) {
		function o(e, t) {
			return e && e.length ? (this.ele = e, this.animationSpeed = 400, this.template = i.compile(n), this.controller = t.controller, this.autosuggest = t.autosuggest, this.disabledDestTemplate = i.compile(a), this.destinationTemplate = i.compile(s), this.resortTemplate = i.compile(r), this.init(), void(this.labels = this.ele.data("labels"))) : !1
		}
		var l, c = {
			init: function() {
				l = this, l.setVariables(), l.selectEvent(), l.unselectEvent(), l.ele.on("click", function() {
					TUIUtil.closeTooltip(l.ele, l.closeTooltipAction)
				})
			},
			setVariables: function() {
				l.countryContainer = l.ele.find(".country-container"), l.countryService = l.countryContainer.data("countryservice"), l.destinationService = l.countryContainer.data("destinationservice"), l.resortService = l.countryContainer.data("resortservice"), l.maxItemsInAColumn = 10
			},
			loadCountries: function() {
				l.cleanup(l.countryContainer), l.countryContainer.removeAttr("style");
				var e = t.Deferred(),
					i = t.extend({}, l.controller.getFormValues(), {
						destinationTab: "allDestinations-countries"
					});
				return TUIUtil.genericAjaxRequest({
					dontPool: !0,
					url: l.countryService,
					dataType: "json",
					cache: !1,
					type: "post",
					contentType: "application/json",
					data: JSON.stringify(i)
				}).done(function(e) {
					l.renderCountryDetsinations(e), l.ele.find(".panel").removeClass("flyout-loading"), l.controller.targetedPanel.removeClass("loading")
				}), e.promise()
			},
			cleanup: function(e) {
				e.empty()
			},
			loadDestinations: function(e, i) {
				TUIUtil.toggleLoader(e.parents("li.country"), !1), l.cleanup(e);
				var n = t.Deferred(),
					a = t.extend({}, l.controller.getFormValues(), {
						destinationTab: "allDestinations-country",
						destinationKey: i.data("code"),
						destinationType: i.data("type")
					});
				return TUIUtil.genericAjaxRequest({
					url: l.destinationService,
					dataType: "json",
					cache: !1,
					type: "post",
					contentType: "application/json",
					data: JSON.stringify(a)
				}).done(function(t) {
					var n = l.updateJSON(t, i),
						a = l.checkAllChildStatus(n);
					TUIUtil.toggleLoader(e.parents("li.country"), !0), e.append(l.destinationTemplate(a))
				}), n.promise()
			},
			loadResorts: function(e, i) {
				l.cleanup(e), TUIUtil.toggleLoader(e.parents("li.child"), !1);
				var n = t.Deferred(),
					a = t.extend({}, l.controller.getFormValues(), {
						destinationTab: "allDestinations-country",
						destinationKey: i.data("code"),
						destinationType: i.data("type"),
						countryKey: i.parents(".country").find(".country-name-container").data("code")
					});
				return TUIUtil.genericAjaxRequest({
					url: l.resortService,
					dataType: "json",
					cache: !1,
					type: "post",
					contentType: "application/json",
					data: JSON.stringify(a)
				}).done(function(t) {
					var n = l.updateJSON(t, i),
						a = l.checkAllChildStatus(n);
					TUIUtil.toggleLoader(e.parents("li.child"), !0), e.append(l.resortTemplate(a))
				}), n.promise()
			},
			updateJSON: function(e, t) {
				return e.selectAllLabel = l.labels.selectAllLabel, e.parentCode = t.data("code"), e.parentType = t.data("type"), e.parentHierarchy = t.data("hierarchy"), e.parentName = t.text(), e
			},
			checkAllChildStatus: function(e) {
				var i = 0,
					n = 0;
				return t.each(e.results, function(e, t) {
					t.disabled || i++, t.selected && n++
				}), i === n && 0 !== n && (e.parentSelected = !0), 0 === i && (e.parentDisabled = !0), e
			},
			renderCountryDetsinations: function(e) {
				l.setMaxColumnSize(e), e = l.distributeInColumns(e), l.countryContainer.append(l.template(e))
			},
			setMaxColumnSize: function(e) {
				var i, n = e.results.length;
				t.each(e.results, function(e, t) {
					n += t.children.length
				}), i = "sm" === TUIUtil.getCurrentBreakPoint() ? n / 2 || l.maxItemsInAColumn : n / 3 || l.maxItemsInAColumn, i = parseInt(i, 10) + 1, l.maxItemsInAColumn = i
			},
			distributeInColumns: function(e) {
				var i, n, a = [],
					s = [],
					r = [];
				t.each(e.results, function(e, t) {
					var o = l.getColumnAvailability(a);
					if (o > 0 && t.children.length <= o && !i) return a.push(t), !0;
					i = !0;
					var c = l.getColumnAvailability(s);
					return c > 0 && t.children.length <= c && !n ? (s.push(t), !0) : (n = !0, void r.push(t))
				});
				var o = {
					columnList: [{
						colName: "one",
						columnItems: a
					}, {
						colName: "two",
						columnItems: s
					}, {
						colName: "three",
						columnItems: r
					}]
				};
				return o
			},
			getColumnAvailability: function(e) {
				var i = 0;
				return t.each(e, function(e, t) {
					i = i + t.children.length + 1
				}), l.maxItemsInAColumn - i
			},
			selectEvent: function() {
				l.countryContainer.on("click", ".resort-name:not(.disabled):not(.selected), .child-name.resort:not(.disabled):not(.selected) ", l.handleChildAddition), l.countryContainer.on("click", ".child-name.disabled , .country-name.disabled ", l.addDisabledDestination), l.countryContainer.on("click", ".select-all-destinations:not(.disabled):not(.selected), .select-all-resorts:not(.disabled):not(.selected)", l.handleParentAddition), l.countryContainer.on("click", ".country-name:not(.disabled)", l.expandCollapseDestination), l.countryContainer.on("click", ".child-name.destination:not(.disabled)", l.expandCollapseDestination), l.countryContainer.on("keydown", l.handleKeyNavigation), l.countryContainer.on("mouseover", ".country-name, .child-name", function(e) {
					var i = t(e.delegateTarget).find(".active");
					i.length && i.removeClass("active"), t(this).addClass("active").focus()
				}), l.countryContainer.on("mouseleave", ".country-name, .child-name", function(e) {
					t(this).removeClass("active")
				})
			},
			expandCollapseDestination: function() {
				var e, i, n = t(this),
					a = !1,
					s = n.find("i");
				n.hasClass("country-name") ? (a = !0, e = n.find(".country-name-container"), i = n.next(".country-destinations")) : (e = n.parents("li.child"), i = n.next(".resorts-container")), n.hasClass("open") ? (n.removeClass("open"), s.removeClass("icon-way-down").addClass("icon-way-right"), i.empty()) : (n.addClass("open"), s.removeClass("icon-way-right").addClass("icon-way-down"), a ? l.loadDestinations(i, e) : l.loadResorts(i, e))
			},
			unselectEvent: function() {
				l.countryContainer.on("click", ".icon-close-circle", l.handleSelectionRemoval)
			},
			getScrollableHeight: function() {
				var e = l.countryContainer.closest(".panel").height();
				return .8 * e || 400
			},
			expandDestination: function() {},
			createBreadCrumbs: function() {},
			breadCrumbEventHandler: function() {},
			addDisabledDestination: function() {
				var e, i, n, a, s, r = t(this);
				if (r.hasClass("country-name")) {
					var o = r.find("span.country-name-container");
					e = o.data("code"), a = e, n = o.data("type"), i = o.text(), s = o.data("hierarchy")
				} else {
					var c = r.parents(".child");
					e = c.data("code"), a = c.parents(".country").find(".country-name-container").data("code"), n = c.data("type"), i = c.find(".name-text").text(), s = c.data("hierarchy")
				}
				var d = {
					code: e,
					name: i,
					countrycode: a,
					type: n,
					hierarchy: s
				};
				l.autosuggest.validateDisabledDestination(d, l.showDisabledMessage, r, l.ele)
			},
			showDisabledMessage: function(e, i) {
				if (l.ele.find(".loader-container").remove(), l.ele.find(".tui-tooltip-inline").remove(), !t.isEmptyObject(e)) {
					var n = e.validationErrorMessage;
					TUIUtil.showInlineMessage(i, {
						message: l.disabledDestTemplate(e),
						cssClass: "alldestination-tooltip",
						closeIcon: !0,
						closeTooltipCallback: l.closeTooltipAction
					}), l.controller.changeDateAction(n), t(".alldestination-tooltip").width(l.countryContainer.find(".country-name").first().width()), setTimeout(function() {
						l.checkIfScrollbar()
					}, 100)
				}
			},
			checkIfScrollbar: function() {
				var e = l.controller.ele[0].scrollHeight,
					t = l.controller.ele.height();
				TUIUtil.printLog("Search Panel scrollableHeight : " + e + " & normal height is: " + t);
				var i = e - t;
				if (i > 0) {
					var n = l.countryContainer.height();
					l.countryContainer.height(n + i)
				}
			},
			closeTooltipAction: function(e) {
				return !0
			},
			addRemoveTags: function(e, i, n, a) {
				if (n) t.each(i, function(e, i) {
					var n = t(i).parents(".child").data("code");
					l.autosuggest.removeTag("", "", n)
				}), e.hasClass("country-name-container") ? e.parents(".country").find(".select-all-destinations").trigger("click") : e.find(".select-all-resorts").trigger("click");
				else {
					var s, r, o = !0;
					e.hasClass("destination") ? (s = e.data("code"), r = e.parents(".country").find(".country-name-container").data("code"), l.autosuggest.removeTag("", "", s)) : (r = e.find(".country-name-container").data("code"), l.autosuggest.removeTag("", "", r)), t.each(i, function(e, i) {
						var n = t(i),
							s = n.data("code"),
							c = n.data("type"),
							d = n.data("hierarchy"),
							u = t.trim(n.find("span:eq(0)").text());
						a !== s && (l.addDirectTag(u, c, s, d, r, "", o), n.find(".child-name").addClass("selected"))
					})
				}
			},
			addDirectTag: function(e, t, i, n, a, s, r, o) {
				l.autosuggest.addTag(e, t, i, n, a, s), r || "xs" === TUIUtil.getCurrentBreakPoint() ? l.controller.scrollTillSearchPanel() : l.flySpan(o)
			},
			handleChildAddition: function() {
				var e, i, n, a, s, r = t(this),
					o = r.parent(),
					c = t.trim(r.find("span:eq(0)").text()),
					d = o.data("type"),
					u = o.data("code"),
					h = o.data("hierarchy"),
					p = r.parents("li.country").find(".country-name-container").data("code");
				r.hasClass("resort-name") ? (s = o.parents(".destination"), e = o.siblings(".resort")) : (s = o.parents(".country").find(".country-name-container"), e = o.siblings(":not(.select-label)")), i = e.find(".disabled"), n = e.find(".selected"), a = e.length - i.length, a === n.length ? l.addRemoveTags(s, n, !0) : l.addDirectTag(c, d, u, h, p, "", !1, r)
			},
			handleParentAddition: function() {
				var e, i = t(this),
					n = i.parent(),
					a = n.data("code"),
					s = n.data("type"),
					r = n.data("hierarchy");
				if (i.hasClass("select-all-resorts") || i.hasClass("select-all-destinations") ? (e = n.data("name"), l.removeChildren(i)) : e = t.trim(i.find("span:eq(0)").text()), i.hasClass("select-all-resorts")) {
					var o = i.parents(".country"),
						c = o.find(".country-name-container"),
						d = o.find("li.destination"),
						u = o.find(".orphan"),
						h = d.filter(".disabled"),
						p = d.filter(".selected");
					u = u.not(".disabled").not(".selected");
					var f = d.length - h.length - p.length - u.length;
					1 === f ? l.addRemoveTags(c, p, !0) : l.addDirectTag(e, s, a, r, a, "", !1, i)
				} else i.hasClass("select-all-destinations") && l.checkHiddenGrandChildren(a), l.addDirectTag(e, s, a, r, a, "", !1, i)
			},
			checkHiddenGrandChildren: function(e) {
				var i = l.autosuggest.getFormValues(),
					n = i && i.searchValues ? i.searchValues : [];
				t.each(n, function(t, i) {
					i.countryCode === e && l.autosuggest.removeTag("", "", i.code)
				})
			},
			tagRemoved: function(e) {
				var t, i = l.countryContainer.find(".country").find("[data-code = " + e + "]");
				if (i.hasClass("country-name-container")) {
					var n = i.parents(".country");
					t = n.find(".icon-close-circle"), n.find(".selected").removeClass("selected")
				} else t = i.find(".icon-close-circle");
				t.length > 0 ? t.trigger("click") : i.hasClass("selected") && (i.removeClass("selected"), i.find(".child-name").removeClass("selected"))
			},
			removeChildren: function(e) {
				var i;
				i = e.hasClass("select-all-resorts") ? e.closest(".destination").find(".resort-name.selected") : e.closest(".country").find(".child-name.selected"), t.each(i, function(e, i) {
					var n = t(i).closest(".child");
					l.autosuggest.removeTag("", "", n.data("code")), t(i).removeClass("selected"), n.removeClass("selected")
				})
			},
			flySpan: function(e) {
				var i = t.trim(e.text()),
					n = '<span class="flyingspan">' + i + "</span>",
					a = t("#field-destination-picker").offset().top,
					s = t("#field-destination-picker").offset().left,
					r = e.parent().offset().top,
					o = e.parent().offset().left;
				t(n).appendTo(t("body")).css({
					top: r,
					left: o
				}).animate({
					top: a + 15 + "px",
					left: s + "px"
				}, l.animationSpeed, function() {
					t(".flyingspan").fadeOut(l.animationSpeed, function() {
						t(".flyingspan").remove(), l.controller.scrollTillSearchPanel()
					})
				})
			},
			handleSelectionRemoval: function(e) {
				e.stopPropagation();
				var i = t(this),
					n = "";
				if (i.hasClass("remove-country")) {
					var a = i.parents(".country"),
						s = i.parents(".select-all-destinations"),
						r = a.find(".country-destinations"),
						o = r.find(".child-name.selected"),
						c = a.find(".country-name");
					n = a.find(".country-name-container").data("code"), l.autosuggest.removeTag("", "", n), s.removeClass("selected"), c.removeClass("selected"), t.each(o, function(e, i) {
						t(i).removeClass("selected"), t(i).parent().removeClass("selected")
					})
				} else if (i.hasClass("remove-destination")) {
					var d = i.parents(".child.destination"),
						u = d.find(".child-name.destination"),
						h = i.parents(".select-all-resorts"),
						p = h.parents(".resorts-container"),
						f = p.find(".resort-name.selected"),
						m = d.parents(".country"),
						g = m.find(".country-name"),
						v = g.hasClass("selected"),
						y = m.find(".select-all-destinations"),
						b = m.find(".country-destinations").find("> .child.selected");
					n = d.data("code"), v ? (g.removeClass("selected"), y.removeClass("selected"), l.addRemoveTags(g, b, !1, n)) : l.autosuggest.removeTag("", "", n), h.removeClass("selected"), d.removeClass("selected"), u.removeClass("selected"), t.each(f, function(e, i) {
						t(i).removeClass("selected")
					})
				} else if (i.hasClass("remove-leaf")) {
					var w, x = i.parents(".child.resort"),
						k = i.parents(".child-name"),
						C = i.parents(".child.destination"),
						T = x.parents(".country").find(".country-name"),
						D = C.find(".child-name.destination"),
						S = x.siblings(":not(.select-label)"),
						_ = S.filter(".selected"),
						I = T.hasClass("selected"),
						A = C.hasClass("selected"),
						P = x.parents(".country").find(".select-all-destinations"),
						M = C.find(".select-all-resorts"),
						E = C.data("code");
					n = x.data("code"), k.removeClass("selected"), k.closest(".child").removeClass("selected"), w = x.parents(".country").find(".country-destinations").find("> .child.selected"), I && A ? (T.removeClass("selected"), P.removeClass("selected"), C.removeClass("selected"), M.removeClass("selected"), D.removeClass("selected"), l.addRemoveTags(C, _, !1), l.addRemoveTags(T, w, !1, E)) : I ? (T.removeClass("selected"), P.removeClass("selected"), l.addRemoveTags(T, w, !1, n)) : A ? (C.removeClass("selected"), M.removeClass("selected"), D.removeClass("selected"), l.addRemoveTags(C, _, !1)) : l.autosuggest.removeTag("", "", n)
				}
			},
			handleKeyNavigation: function(e) {
				if (38 !== e.keyCode && 40 !== e.keyCode && 13 !== e.keyCode) return !0;
				var i = t(this),
					n = i.find(".active"),
					a = n.parent(),
					s = a.parent().parent(),
					r = s.parent().parent(),
					o = a.hasClass("country");
				a.hasClass("child");
				return TUIUtil.isElementVisibleOnScreen(n) ? (e.preventDefault(), void(40 === e.keyCode ? l.handleDownKey(i, n, a, s, r, o) : 38 === e.keyCode ? l.handleUpKey(i, n, a, s, o) : 13 === e.keyCode && l.handleEnterKey(n))) : !0
			},
			handleDownKey: function(e, i, n, a, s, r) {
				if (i.length) {
					var o, l;
					if (i.removeClass("active"), r) o = n.nextAll().find(".country-name").not(".disabled").first(), o.length || (o = a.nextAll().find(".country-name").not(".disabled").first()), i.hasClass("open") ? (l = n.find(".child-name").not(".disabled").first(), !l.length && o.length ? l = o : l.length || o.length || (l = i)) : (l = o, o.length || (l = i)), l.addClass("active");
					else {
						if (l = n.nextAll().find(".child-name").not(".disabled").first(), i.hasClass("open")) {
							var c = n.find(".child-name").not(".disabled").not(".destination").first();
							!c.length && l.length ? c = l : c.length || l.length || (c = a.nextAll().find(".country-name").not(".disabled").first(), c.length || (c = s.nextAll().find(".country-name").not(".disabled").first(), c.length || (c = i)), l = c), l = c
						} else if (!l.length && !i.hasClass("open"))
							if (a.hasClass("country")) o = a.nextAll().find(".country-name").not(".disabled"), l = o.first(), o.length || (o = s.nextAll().find(".country-name").not(".disabled"), l = o.first(), o.length || (l = i));
							else if (a.nextAll().not(".disabled").length) l = a.nextAll().find(".child-name").not(".disabled").first();
						else {
							var d = s.nextAll().find(".country-name").not(".disabled");
							d.length ? l = d.first() : (d = s.parent().parent().nextAll().find(".country-name").not(".disabled"), l = d.length ? d.first() : i)
						}
						l.addClass("active")
					}
					TUIUtil.isElementVisibleOnScreen(l) || (l.hasClass("resort-name") ? t(window).scrollTop(l.parents(".destination").offset().top) : t(window).scrollTop(l.parents(".country").offset().top))
				}
			},
			handleUpKey: function(e, i, n, a, s) {
				if (i.length) {
					var r, o, l;
					i.removeClass("active"), s ? (r = n.prevAll().find(".country-name").not(".disabled").last(), r.hasClass("open") ? (o = r.parent().find(".child-name").not(".disabled").last(), o.length || (o = r)) : (o = r, r.length || (o = a.prevAll().find(".country-name").not(".disabled").last(), o.length ? o.length && o.hasClass("open") && (o = o.siblings().find(".child-name").not(".disabled").last()) : o = i)), o.addClass("active"), l = o) : (r = n.prevAll().find(".child-name").not(".disabled").last(), n.prevAll().length || (r = a.hasClass("country") ? a.find(".country-name") : a.find(".open")), r.addClass("active"), l = r), TUIUtil.isElementVisibleOnScreen(l) || (l.hasClass("resort-name") ? t(window).scrollTop(l.parents(".destination").offset().top) : t(window).scrollTop(l.parents(".country").offset().top))
				}
			},
			handleEnterKey: function(e) {
				var t = e.find(".icon-close-circle");
				e.length && (e.hasClass("selected") && t.length ? e.find(".icon-close-circle").trigger("click") : e.trigger("click"))
			}
		};
		return t.extend(o.prototype, c),
			o
	}),
	function(e, t, i) {
		function n(e) {
			var t = {},
				n = /^jQuery\d+$/;
			return i.each(e.attributes, function(e, i) {
				i.specified && !n.test(i.name) && (t[i.name] = i.value)
			}), t
		}

		function a(e, t) {
			var n = this,
				a = i(n);
			if (n.value == a.attr("placeholder") && a.hasClass("placeholder"))
				if (a.data("placeholder-password")) {
					if (a = a.hide().next().show().attr("id", a.removeAttr("id").data("placeholder-id")), e === !0) return a[0].value = t;
					a.focus()
				} else n.value = "", a.removeClass("placeholder"), n == r() && n.select()
		}

		function s() {
			var e, t = this,
				s = i(t),
				r = this.id;
			if ("" == t.value) {
				if ("password" == t.type) {
					if (!s.data("placeholder-textinput")) {
						try {
							e = s.clone().attr({
								type: "text"
							})
						} catch (o) {
							e = i("<input>").attr(i.extend(n(this), {
								type: "text"
							}))
						}
						e.removeAttr("name").data({
							"placeholder-password": s,
							"placeholder-id": r
						}).bind("focus.placeholder", a), s.data({
							"placeholder-textinput": e,
							"placeholder-id": r
						}).before(e)
					}
					s = s.removeAttr("id").hide().prev().attr("id", r).show()
				}
				s.addClass("placeholder"), s[0].value = s.attr("placeholder")
			} else s.removeClass("placeholder")
		}

		function r() {
			try {
				return t.activeElement
			} catch (e) {}
		}
		var o, l, c = "[object OperaMini]" == Object.prototype.toString.call(e.operamini),
			d = "placeholder" in t.createElement("input") && !c,
			u = "placeholder" in t.createElement("textarea") && !c,
			h = i.fn,
			p = i.valHooks,
			f = i.propHooks;
		d && u ? (l = h.placeholder = function() {
			return this
		}, l.input = l.textarea = !0) : (l = h.placeholder = function() {
			var e = this;
			return e.filter((d ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind({
				"focus.placeholder": a,
				"blur.placeholder": s
			}).data("placeholder-enabled", !0).trigger("blur.placeholder"), e
		}, l.input = d, l.textarea = u, o = {
			get: function(e) {
				var t = i(e),
					n = t.data("placeholder-password");
				return n ? n[0].value : t.data("placeholder-enabled") && t.hasClass("placeholder") ? "" : e.value
			},
			set: function(e, t) {
				var n = i(e),
					o = n.data("placeholder-password");
				return o ? o[0].value = t : n.data("placeholder-enabled") ? ("" == t ? (e.value = t, e != r() && s.call(e)) : n.hasClass("placeholder") ? a.call(e, !0, t) || (e.value = t) : e.value = t, n) : e.value = t
			}
		}, d || (p.input = o, f.value = o), u || (p.textarea = o, f.value = o), i(function() {
			i(t).delegate("form", "submit.placeholder", function() {
				var e = i(".placeholder", this).each(a);
				setTimeout(function() {
					e.each(s)
				}, 10)
			})
		}), i(e).bind("beforeunload.placeholder", function() {
			i(".placeholder").each(function() {
				this.value = ""
			})
		}))
	}(this, document, jQuery), define("vendor/placeholder.min", function() {}), define("TUIUtil", ["jquery", "vendor/placeholder.min"], function(e) {
		function t(e, t) {
			"string" == typeof e && e.indexOf("px") && (e = e.split("px")[0]);
			var i = .125,
				n = e * i;
			return n = Math.floor(n), t && (n -= t), n
		}
		window.TUIUtil = {}, TUIUtil.init = function() {}, TUIUtil.isCookieDisabled = !1, TUIUtil.isWindowmobile = navigator.userAgent.match(/iemobile/i);
		var i = window.navigator.userAgent.indexOf("MSIE"),
			n = e("#search-panel"),
			a = function() {
				var e = navigator.cookieEnabled ? !0 : !1;
				return "undefined" != typeof navigator.cookieEnabled || e || (document.cookie = "testcookie", e = -1 !== document.cookie.indexOf("testcookie") ? !0 : !1), e ? !0 : !1
			};
		a() ? TUIUtil.isCookieDisabled = !1 : TUIUtil.isCookieDisabled = !0, TUIUtil.trimText = function(i, n, a) {
			var s, r;
			if (n && i) {
				a ? (r = e('<ul class="tags"><li><span>' + i + "+" + a + '</span><span class="icon-close-circle"></li></ul>').css({
					visibility: "hidden",
					"white-space": "nowrap"
				}).appendTo(n), s = 8) : (r = e('<ul class="tags"><li><span>' + i + '</span><span class="icon-close-circle"></li></ul>').css({
					visibility: "hidden",
					"white-space": "nowrap"
				}).appendTo(n), s = 6);
				var o = r.find("li").width(),
					l = n.width(),
					c = n.find(".icon-close-circle").width();
				o > l - c && (i = i.substring(0, t(l, s)), i += "..."), r.remove()
			}
			return i
		}, TUIUtil.placeHolder = function() {
			e("input, textarea").placeholder()
		}, TUIUtil.isElementVisibleOnScreen = function(t, i) {
			var n = e(t),
				a = e(window),
				s = 10,
				r = a.scrollTop(),
				o = r + a.height() + s,
				l = n.offset().top,
				c = l + n.height();
			return i ? o >= l : o >= c && l >= r
		}, TUIUtil.setPosition = function(e, t, i) {
			var n = parseInt(e.parent().css("left"), 10),
				a = parseInt(e.parent().parent().width(), 10),
				s = 100 * n / a,
				r = e.width(),
				o = 1 - e.parent().width() / r;
			if (r > 0 && r / e.parent().width() >= 2 && (o = 1), e.css("left", -s * o + "%"), 0 === r && e.css({
					right: "0",
					left: "auto"
				}), t && i && t === i) {
				var l = e.closest(".ui-slider-handle").css("left", "100%");
				l.siblings(".ui-slider-range").width("100%")
			}
		}, TUIUtil.printLog = function(e) {
			if (window.console && console.log && (tuiConfig.isDevMode || -1 !== window.location.search.indexOf("jsdebug"))) {
				var t = new Date,
					i = "";
				i = t.getHours() + "-" + t.getMinutes() + "-" + t.getSeconds();
				var n = "Log Time : " + i + " : " + e;
				"string" != typeof e && (console.log("Log Time for log below:" + i), n = e), console.log(n)
			}
		}, TUIUtil.ajaxPool = [], TUIUtil.genericAjaxRequest = function(t) {
			TUIUtil.ajaxPool.length && (e.each(TUIUtil.ajaxPool, function(e, t) {
				this.abort()
			}), TUIUtil.ajaxPool.length = 0);
			var i = {
				type: "GET",
				cache: !1,
				error: function(e, t, i) {
					"abort" !== t && TUIUtil.printLog("Ajax Call failed :" + t + "XHR: " + e + ", errorThrown:" + i)
				}
			};
			if (void 0 === t.url || "" === t.url) return !1;
			t.showLoader && (t.beforeSend || (t.beforeSend = function() {
				TUIUtil.showLoader(t.showLoaderAt), t.loaderClass ? t.showLoaderAt.find(".pre-loader.custom-loader").addClass(t.loaderClass) : t.showLoaderAt.find(".pre-loader.custom-loader").css({
					width: "100%",
					height: "100%",
					position: "absolute",
					"z-index": "999"
				})
			})), t.successCallback && (t.success = function(i) {
				i && "string" == typeof i && (i = e.trim(i)), t.showLoader === !0 && TUIUtil.hideLoader(t.showLoaderAt), TUIUtil.requesting = !1, t.successCallback(i)
			});
			var n = {};
			e.extend(n, i, t), TUIUtil.requesting = !0;
			var a = e.ajax(n);
			return n.dontPool || TUIUtil.ajaxPool.push(a), a
		}, TUIUtil.showLoader = function(t) {
			var i = e("<div></div>").addClass("pre-loader");
			if ("undefined" != typeof t) {
				i.addClass("custom-loader");
				var n = e(t).attr("data-loader-location");
				n ? e("#" + n).prepend(i) : e(t).prepend(i)
			} else i.appendTo("body")
		}, TUIUtil.updateCurrencyParams = function() {
			"undefined" != typeof hotelData && TUIUtil.isSearchResultPage() && (hotelData.currencySymbol && e("body").data("currency", hotelData.currencySymbol), hotelData.groupingSeparator && (e("body").data("currencyseparator", hotelData.groupingSeparator), o = hotelData.groupingSeparator))
		}, TUIUtil.isSearchResultPage = function() {
			return e("#result-page-wrapper").length
		}, TUIUtil.hideLoader = function(t) {
			var i;
			if ("undefined" != typeof t) {
				var n = e(t).attr("data-loader-location");
				i = n ? e("#" + n).find(".pre-loader") : e(t).find(".pre-loader")
			} else i = e("div.pre-loader");
			i.length > 0 && i.remove()
		}, TUIUtil.getCurrentBreakPoint = function() {
			var t = e(window).width(),
				i = "lg";
			return i = t >= 1200 ? "lg" : t >= 992 ? "md" : t >= 768 ? "sm" : "xs"
		}, TUIUtil.detectDeviceType = function() {
			var e = "";
			return navigator.userAgent.match(/Android/i) ? (e = "Android", n.addClass("android")) : navigator.userAgent.match(/webOS/i) ? (e = "webOS", n.addClass("webOs")) : navigator.userAgent.match(/iPhone/i) ? (e = "iPhone", n.addClass("iPhone")) : navigator.userAgent.match(/iPad/i) ? (e = "iPad", n.addClass("iPad")) : navigator.userAgent.match(/iPod/i) ? (e = "iPod", n.addClass("iPod")) : navigator.userAgent.match(/BlackBerry/i) ? (e = "BlackBerry", n.addClass("blackBerry")) : navigator.userAgent.match(/Windows Phone/i) && (e = "Windows Phone", n.addClass("windowsPhone")), e
		}, TUIUtil.detectOrientaion = function() {
			var e = "";
			switch (window.orientation) {
				case -90:
				case 90:
					e = "landscape";
					break;
				default:
					e = "portrait"
			}
			return e
		}, TUIUtil.isTouchDevice = function() {
			return "ontouchstart" in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0
		}, TUIUtil.deviceType = TUIUtil.detectDeviceType(), TUIUtil.detectmob = function() {
			var t = e(window).width();
			return 768 > t ? !0 : !1
		}, TUIUtil.dateConverter = function(e) {
			if (e && 3 === e.split("/").length) {
				var t = e.split("/"),
					i = new Date;
				return t[2] = 0 === t[2].indexOf("20") ? t[2] : "20" + t[2], i = new Date(t[2], t[1] - 1, t[0])
			}
		}, TUIUtil.dateDayConverter = function(t) {
			var i, n, a, s, r, o = e("#searchWhen").length ? e("#searchWhen").data("labels") : null,
				l = t;
			if (t) {
				if (i = t.split("/"), n = i.reverse().join("/"), a = new Date(n), a && o) {
					var c = a.getDay();
					7 === c && (c = 0), r = o.dayNamesShort[c]
				}
				3 === i.length && (s = 1 * i[1], l = n), r && (l = r + " " + l)
			}
			return l
		}, TUIUtil.toggleLoader = function(e, t, i) {
			if (t) i || (i = ".loader-container"), e.find(i).remove();
			else {
				var n = "";
				"BODY" === e.prop("tagName") && (n = "page"), e.append('<div class="loader-container ' + n + '"><div class="loader"></div></div>')
			}
		}, TUIUtil.showInlineMessage = function(t, i, n) {
			var a = e.extend({}, {
					message: "",
					type: "error",
					removeOthers: !0,
					cssClass: "",
					highlightElement: [],
					arrow: !0,
					closeIcon: !1,
					container: e(s),
					top: null,
					left: null
				}, i),
				o = e(r(a.message, !0, a.arrow, a.closeIcon));
			o.addClass(a.cssClass), a.removeOthers && (a.container.find(".tui-tooltip-inline").remove(), a.container.find(".tui-tooltip-error").removeClass("tui-tooltip-error")), "error" === a.type && a.highlightElement.length && a.highlightElement.addClass("tui-tooltip-error"), n ? t.append(o) : t.parents("article").hasClass("all-destinations") ? t.next("label").after(o) : t.after(o), a.closeTooltipCallback && o.on("click", ".icon-close-circle", function(e) {
				e.preventDefault(), e.stopPropagation(), TUIUtil.closeTooltip(a.container, a.closeTooltipCallback)
			})
		};
		var s = e("body");
		TUIUtil.tooltip = function(t, i) {
			var n = e.extend({}, {
					message: "",
					type: "error",
					removeOthers: !0,
					cssClass: "",
					highlightElement: [],
					container: e(s),
					arrow: !0,
					closeIcon: !1,
					top: null,
					left: null
				}, i),
				a = e(r(n.message, !1, n.arrow, n.closeIcon));
			a.addClass(n.cssClass), n.removeOthers && (n.container.find(".tui-tooltip").remove(), n.container.find(".tui-tooltip-error").removeClass("tui-tooltip-error")), "error" === n.type && n.highlightElement.length && n.highlightElement.addClass("tui-tooltip-error"), a.appendTo(n.container).hide(), n.closeTooltipCallback && n.container.on("click", ".icon-close-circle", function() {
				TUIUtil.closeTooltip(n.container, n.closeTooltipCallback)
			}), setTimeout(function() {
				var e = t.offset();
				n.top || (n.top = e.top + t.height() + 15), n.left || (n.left = e.left), a.css({
					left: n.left,
					top: n.top
				}).show()
			}, 100)
		}, TUIUtil.closeTooltip = function(e, t) {
			e.find(".tui-tooltip-inline,.tui-tooltip").remove(), e.find(".tui-tooltip-error").removeClass("tui-tooltip-error"), t()
		}, TUIUtil.conceptClasses = ["bluecouples", "bluestar", "bluevillage", "bluevillagefamilylife", "holidayvillages", "sensimar", "magiclife", "scene", "sensatori", "splashworld", "suneoclub", "riu"];
		var r = function(e, t, i, n) {
			var a = "tui-tooltip";
			t && (a = "tui-tooltip-inline");
			var s = '<div class="' + a + '">';
			return n && (s += '<i class="icon-close-circle"></i>'), s += '<div class="tooltip-content">' + e + "</div></div>"
		};
		TUIUtil.ie8OrLower = function() {
				var t = e("html").hasClass("lt-ie9");
				return t ? !0 : !1
			}, TUIUtil.currency = "", TUIUtil.getCurrency = function() {
				return TUIUtil.currency ? TUIUtil.currency : (TUIUtil.currency = e("body").data("currency"), TUIUtil.currency || (TUIUtil.currency = "&euro;"), TUIUtil.currency)
			}, TUIUtil.isMordernIE = !0,
			function() {
				TUIUtil.isMordernIE = e("html").hasClass("lt-ie9") || e("html").hasClass("ie9") ? !1 : !0
			}();
		var o = s.data("currencyseparator") || null;
		return TUIUtil.formatPrice = function(e, t) {
			if (!e || !o) return e;
			e += "";
			for (var i = e.split("."), n = i[0], a = i.length > 1 ? "." + i[1] : "", s = /(\d+)(\d{3})/; s.test(n);) n = n.replace(s, "$1" + o + "$2");
			var r = n + a;
			return t ? r + "" + TUIUtil.getCurrency() : r
		}, TUIUtil.getDateChunksArray = function(e, t) {
			var i = TUIUtil.dateConverter(e),
				n = Date.parse(i),
				a = 864e5,
				s = [];
			if (i)
				for (var r = 0, o = n; t > r; r++, o += a) {
					var l = {};
					i = new Date(o), l.date = i.getDate(), l.month = i.getMonth(), l.year = i.getYear() + 1900, l.day = i.getDay(), l.time = i.getTime(), s.push(l)
				}
			return s
		}, TUIUtil.getDateSliderLabels = function(e, t, i, n) {
			if (e) {
				var a = i[e.day],
					s = t[e.month],
					r = e.date,
					o = "";
				return o = n ? a + " " + r + " " + s : r + " " + s
			}
		}, TUIUtil.setBackgroundImage = function() {
			var t = TUIUtil.getCurrentBreakPoint(),
				i = e("body").data("bgimageurl");
			i && ("lg" === t || "md" === t || "sm" === t) && e("body").css("background-image", "url(" + i + ")")
		}, TUIUtil.isSafariBrowser = function() {
			var e = !1,
				t = navigator.userAgent.toLowerCase();
			return -1 !== t.indexOf("safari") && (e = t.indexOf("chrome") > -1 ? !1 : !0), e
		}, TUIUtil.istabletOrDesktop = function() {
			return "lg" === TUIUtil.getCurrentBreakPoint() || "md" === TUIUtil.getCurrentBreakPoint() || "sm" === TUIUtil.getCurrentBreakPoint() ? !0 : !1
		}, TUIUtil.isStartPageSearchPanel = function() {
			return e(".start-page #search-panel").length ? !0 : !1
		}, TUIUtil.isMSIE = function() {
			return i > 0 ? !0 : !1
		}, TUIUtil.checkOldSafari = function() {
			if (navigator.userAgent.indexOf("Safari") > -1) {
				var t = navigator.userAgent,
					i = e(window).width(),
					n = t.substring(t.indexOf("Version/") + 8, t.indexOf(" Safari/"));
				n = parseInt(n.substring(0, n.indexOf(".")), 10), 6 >= n && i > 1024 && e("html").addClass("safari-v6")
			}
		}(), Array.prototype.contains = function(e) {
			for (var t = 0; t < this.length; t++)
				if (this[t] === e) return !0;
			return !1
		}, Array.prototype.unique = function() {
			for (var e = [], t = 0; t < this.length; t++) e.contains(this[t]) || e.push(this[t]);
			return e
		}, TUIUtil
	}), define("text!search-panel/templates/autosuggestion-template-v3.hbs", [], function() {
		return '<div class="txt-right sm-button-done xs-button-done">\n	<a class="btn-done" href="#"><i class="icon-x"></i></a>\n</div>\n<div class="scroll-panel">\n{{#if  noResultsMessage}}\n		<div id="noResultsFound" class="error-msg">\n		<i class="icon-warning"></i>\n		{{noResultsMessage}}</div>\n{{/if}}\n\n{{#if  validationErrorMessage}}\n		<div class="validation-err-msg error-msg" data-targetPanel="{{validationErrorMessage.validationType}}">\n\n\n			<p><i class="icon-info"></i>{{{validationErrorMessage.message}}}</p>\n\n			{{#if validationErrorMessage.matchedDestination}}\n				<p><a id="{{validationErrorMessage.matchedDestination.code}}" data-name="{{validationErrorMessage.matchedDestination.name}}" data-hierarchy="{{validationErrorMessage.matchedDestination.hierarchy}}" data-type="{{validationErrorMessage.matchedDestination.type}}" data-code="{{validationErrorMessage.matchedDestination.code}}" data-countrycode="{{validationErrorMessage.matchedDestination.countryCode}}" class="alternate-link" href="javascript:void(0)"><em>{{validationErrorMessage.alternateLinkText}}</em></a> </p>\n			{{/if}}\n		</div>\n{{/if}}\n{{#if autoSuggestResponse}}\n			 	{{#each autoSuggestResponse}}\n			 			{{# if this.options}}\n			 			{{# if groupLabel}}\n			 				<div class="{{type}}-group search-res-grp-heading">{{groupLabel}}</div>\n			 			{{/if}}\n			 			<ul id="{{type}}_results" class="{{type}}-list search-result-grp {{# unless groupLabel}}add-top-border {{/unless}}">\n			 				{{#each options}}\n			 					<li class="{{type}} {{#if disabled}}disabled{{/if}} {{iconClass}}" data-hierarchy="{{hierarchy}}" data-type="{{type}}" data-code="{{code}}" data-countrycode="{{countryCode}}" id="{{code}}" data-name="{{name}}">\n			 						<em >{{name}}{{#if hierarchy}}, {{hierarchy}}{{/if}}</em>\n			 					</li>\n			 				{{/each}}\n			 			</ul>\n			 			{{/if}}\n			 	{{/each}}\n\n{{/if}}\n</div>\n\n\n'
	}), define("search-panel/search-autosuggest-v3", ["jquery", "./search-destination-v3", "TUIUtil", "handlebars", "text!./templates/autosuggestion-template-v3.hbs", "text!./templates/disabledDestinationMessage.hbs", "jqueryCookie"], function(e, t, i, n, a, s) {
		function r(e, t) {
			this.ele = $("#searchPanel-field-search-redesign"), this.opts = $.extend({}, {
				dataURL: this.ele.data("service")
			}, t), this.data = {}, this.controller = t.controller || !1, this.template = n.compile(a), this.disabledDestTemplate = n.compile(s), this.formData = {}, this.currentAutoSuggestCall = null, this.wrapper = $("#searchDestinationsRedesign"), this.tags = this.wrapper.find(".tagHolder").find("ul.tags"), this.placeholder = this.wrapper.find(".placeholder-text"), this.tagCounts = $(".tag-count"), this.tagScroll = $(".tag-scroll"), this.searchResults = $("#recentSearchResults"), this.exampleResults = $("#forExampleResults"), i.placeHolder(), this.searchInput = x, this.isFlyoutOpen = !1, this.disableDestService = this.wrapper.data("disabledestservice"), this.labels = C.data("labels"), this.destinationWrapper = $("#field-destination-picker"), this.init()
		}

		function o() {
			q = [], j = [];
			var e = {
					autoSuggestResponse: []
				},
				t = Q(),
				i = G(M),
				n = ie(t, i),
				a = ne(t, i, G(n.options || [])),
				s = ee(n.options, a.options);
			n.options = s.RSArray, a.options = s.FEArray, e.autoSuggestResponse.push(n, a), n.options.length || a.options.length ? y(e) : S.emptyCheck()
		}
		var l, c, d, u, h, p, f, m, g, v, y, b, w, x = $("#searchPanel-field-search-redesign"),
			k = x.attr("placeholder"),
			C = $("#searchResultFlyoutRedesign"),
			T = $("#searchDestinationRedesign").length ? $("#searchDestinationRedesign") : $("body"),
			D = x.data("morelabel") || "",
			S = [],
			_ = 0,
			I = 0,
			A = $("#noResultsFound"),
			P = $(".autosuggest-spinner"),
			M = [],
			E = 500,
			N = x.data("threshold") || 3,
			U = x.data("maxsuggestion") || 5,
			O = "RecentSearches",
			F = T.find(".field-search").data("recentsearch") || "Recent Searches",
			R = T.find(".field-search").data("forexample") || "For Examples",
			W = {},
			L = $("#searchResultFlyoutRedesign").data("totalrecentsandforexamples"),
			H = i.isSafariBrowser(),
			j = [],
			q = [];
		l = {
			init: function() {
				S = this, S.reinitVars(), S.searchResultFlyout = C, _ = 0, I = 0, this.destinationBrowseList = new t($("#searchDestinationRedesign"), {
					dataURL: S.opts.dataURL,
					controller: S.controller,
					autosuggest: S
				}), M = [], m(), this.wrapperHeight = this.wrapper.height(), this.wrapper.on("click", function(e) {
					var t, n = $(this);
					$(e.target);
					S.updateDisplay(), t = n.find("a.icon-close"), $("body").hasClass("readonly-search") || (i.isTouchDevice() || n.find(".tag-scroll").css({
						width: n.outerWidth() - 20,
						"padding-right": "8px"
					}), n.addClass("focus")), $(document).on("click.searchDestinationFocus", function(e) {
						$.contains(n[0], e.target) || $.contains(C[0], e.target) || n.is(e.target) || $(e.target).is(".icon-search") || $(e.target).is("a.icon-close") || ($(document).off("click.searchDestinationFocus"), n.removeClass("tag-scroll-true"))
					})
				}), this.controller.ele.on("click", ".destination-flyout a.btn-done", function(e) {
					e.preventDefault(), $(this).parents(".destination-flyout").hide()
				}), $(".search-inner-wrapper").on("click", ".field-label-container", function(e) {
					S.destinationWrapper.trigger("click").focus()
				}), this.controller.ele.on("click", ".destinations-activities", function(e) {
					var t = $("#search-panel").height(),
						i = T.height(),
						n = $("#search-panel").offset().top - $(window).scrollTop(),
						a = "";
					a = $("#search-panel").hasClass("fixed") || n < parseInt($(window).height() / 2, 10) ? t + 3 : -i - 3, S.wrapper.parents(".field-search:first").closest(".searchWrapper").find(".destination-flyout").show(), T.css({
						top: a
					}), S.isFlyoutOpen = !0, e.stopPropagation()
				}), re(), $.subscribe("search/destinations/change", $.proxy(S.updateDisplay, S)), S.destinationWrapper.on("click", ".icon-close-circle", S.removeDestinationTag), $.subscribe("breakpointchange", function() {
					S.wrapperHeight = S.wrapper.height(), S.updateDisplay()
				})
			},
			reinitVars: function() {
				x = $("#searchPanel-field-search-redesign"), S.searchInput = x, k = x.attr("placeholder"), C = $("#searchResultFlyoutRedesign"), T = $("#searchDestinationRedesign").length ? $("#searchDestinationRedesign") : $("body"), D = x.data("morelabel") || "", A = $("#noResultsFound"), P = $(".autosuggest-spinner"), N = x.data("threshold") || 3, U = x.data("maxsuggestion") || 5, F = T.find(".field-search").data("recentsearch") || "Recent Searches", R = T.find(".field-search").data("forexample") || "For Examples", L = $("#searchResultFlyoutRedesign").data("totalrecentsandforexamples")
			},
			get: function() {
				var e = S.controller.getFormValues();
				return e.searchQuery = x.val(), i.genericAjaxRequest({
					url: S.opts.dataURL,
					cache: !1,
					type: "post",
					dataType: "json",
					contentType: "application/json",
					data: JSON.stringify(e)
				})
			},
			showHideMobilePickerField: function(e) {
				"xs" === i.getCurrentBreakPoint() && (e ? S.destinationWrapper.show() : S.destinationWrapper.hide())
			},
			getFormValues: function(e) {
				return M = this.trimSearchValues(M), this.formData = {
					searchValues: e && "SEARCH_PIPE" === e ? M : ae(M)
				}, this.formData
			},
			showSpinner: function(e) {
				e ? (C.find(".search-result-panel").addClass("hidden"), P.removeClass("hidden")) : (P.addClass("hidden"), C.find(".search-result-panel").removeClass("hidden"))
			},
			trimSearchValues: function(e) {
				var t = [];
				return $.each(e, function(e, i) {
					var n = i.split("|"),
						a = [n[0], n[1], n[2], "", n[4]];
					t.push(a.join("|"))
				}), t
			},
			getSelectedInputs: function() {
				return M
			},
			checkTagExists: function(e) {
				var t, i = !1,
					n = M.length;
				for (t = 0; n > t; t++) {
					var a = M[t].split("|"),
						s = a[2];
					s === e && (i = !0)
				}
				return i
			},
			addTag: function(e, t, i, n, a, s) {
				e && e.length && (e = e.trim(), S.checkTagExists(i) || (M.push(e + "|" + t + "|" + i + "|" + n + "|" + a), this.tags.append('<li data-code="' + i + '"><span>' + e + '</span><a class="icon-close-circle" href="#" /></li>'), S.updateDisplay(), S.checkAndUpdateDates(e, t, i, n), S.hideAutosuggestion()))
			},
			hideAutosuggestion: function() {
				C.removeClass("open").hide()
			},
			removeTag: function(e, t, i, n, a, s) {
				var r, o = this.tags.find("li").filter('[data-code="' + i + '"]'),
					l = M.length;
				for (o.length && o.remove(), r = 0; l > r; r++) {
					if (0 === o.length) return;
					M[r].split("|")[2].indexOf(i) >= 0 && (M.splice(r, 1), r = l)
				}
				S.updateDisplay(), S.identifyRemainingTag(M)
			},
			openPanel: function() {
				d()
			},
			setFocusOnInputField: function() {
				x.val("").focus(), H && x.trigger("click"), i.isMSIE() && x.trigger("focusin").focus(), C.is(":visible") && o()
			},
			removeDestinationTag: function() {
				S.setSearchIntakeValues(), $(this).parents("ul").empty(), S.tags.empty(), S.updateDisplay(), S.identifyRemainingTag(M), setTimeout(function() {
					S.destinationWrapper.trigger("click")
				}, 100)
			},
			identifyRemainingTag: function(e) {
				var t, i, n, a, s;
				1 === e.length && (t = e[0].split("|"), i = t[0], n = t[1], a = t[2], s = t[3]), S.checkAndUpdateDates(i, n, a, s)
			},
			clearAllTags: function() {
				M = [], this.tags.html(""), this.tagCounts.html(""), this.searchInput.val(""), $.publish("search/destinations/change")
			},
			setSearchIntakeValues: function(e) {
				M = e && e.length ? e : []
			},
			trimExtraResults: function(e) {
				var t = e && e.autoSuggestResponse ? e.autoSuggestResponse[0].options : [];
				if (t.length > U) {
					var i = t.splice(0, U);
					e.autoSuggestResponse[0].options = i
				}
			},
			setFirstSelected: function(e) {
				e.find("#_results").find("li:first-child").addClass(" selected")
			},
			getAddedTags: function() {
				return M
			},
			highlightResult: function() {
				A.hide(), x.val().length >= 0 ? (C.find("li").removeClass("match").hide().filter(function() {
					return -1 !== x.val().toLowerCase().indexOf(x.val().toLowerCase())
				}).addClass("match").show(), u(x.val()), 0 === $("#recentSearchResults li.match").length ? A.show() : $("#recentSearchResults li.match").length > 0 && A.hide()) : $("#searchResultFlyoutRedesign li").show().add("#searchResultFlyoutRedesign").removeClass("match")
			},
			emptyCheck: function() {
				var e = $("#searchResultFlyoutRedesign");
				if (e.length && e.is(":visible")) {
					var t = e.find(".panel");
					if (t.length) {
						var i = t.html().trim();
						t.is(":empty") && (e.find(".enscroll-track").hide(), t.removeAttr("style")), i ? v(e, !0) : v(e, !1)
					}
				}
			},
			checkAndUpdateDates: function(e, t, i, n) {},
			handleNoValidation: function(e) {
				return e && e.validationErrorMessage || (e = {
					validationErrorMessage: {
						message: e && e.noResultsMessage ? e.noResultsMessage : "Sorry not available",
						alternateLinkText: null,
						validationType: null,
						matchedDestination: null
					}
				}), e
			},
			validateDisabledDestination: function(e, t, n, a) {
				a && i.toggleLoader(a);
				var s = S.controller.getFormValues();
				s.disabledDestination = e, i.genericAjaxRequest({
					url: S.disableDestService,
					cache: !1,
					type: "post",
					dataType: "json",
					contentType: "application/json",
					data: JSON.stringify(s),
					success: function(e) {
						e = S.handleNoValidation(e), t && t(e, n)
					},
					error: B
				})
			},
			updateDisplay: function() {
				var e, t = M,
					n = t.length,
					a = n ? t[0].split("|")[0] : k,
					s = $(".icon-globe").outerWidth() + 10,
					r = (S.wrapper.find("#searchPanel-field-search"), "");
				S.placeholder.css("maxWidth", S.wrapper.width() - (s + S.tagCounts.width())), S.tagCounts.text(""), n > 1 && (r = "+" + parseInt(n - 1, 10)), n > 0 ? x.attr("placeholder", "") : x.attr("placeholder", k), S.placeholder.text(a), this.destinationWrapper.attr("title", a), a = i.trimText(a, this.destinationWrapper, r), this.destinationWrapper.html(updateInputText(a, r, n)), e = S.wrapper.height();
				var o = !0;
				S.wrapper[o ? "addClass" : "removeClass"]("multiLine"), b()
			}
		}, updateInputText = function(e, t, i) {
			var n;
			return i > 0 ? (n = '<ul class="tags">', n += "<li>", n += "<span>", n += e + t, n += "</span>", n += '<span class="icon-close-circle">', n += "</li>", n += "</ul>") : (n = '<span class="placeholder-text">', n += e, n += "</span>"), n
		}, v = function(e, t) {
			var i = e.find(".search-result-panel");
			if (i.hasClass("error-msg-visible") && 0 === e.find(".error-msg").length && i.removeClass("error-msg-visible"), t) {
				$(".destination-flyout").hide();
				var n = S.wrapper.position(),
					a = n.top + S.wrapper.outerHeight() + 8,
					s = x.offset().left,
					r = S.controller.panelArrow.parent().offset() ? S.controller.panelArrow.parent().offset().left : 40,
					o = s - r;
				e.addClass("open").css({
					top: 0
				}), S.controller.panelArrow.css({
					left: 35 > o ? 35 : o,
					top: a - 10
				}).show(), S.controller.panels.not(e).removeClass("open"), S.controller.$openPanel = e, S.controller.bindGlobalClosePanel(), T.is(":visible") || T.addClass("open").show(), T.is(":visible") && !T.hasClass("open") && T.addClass("open")
			} else e.removeClass("open"), $(document).off("click.closePanel");
			S.controller.panelOpen = t, S.controller.scrollWindowTillHeader(S.wrapper, !0)
		}, w = function() {
			var e = T,
				t = $("#searchResultFlyoutRedesign"),
				n = t.find(".panel"),
				a = $("#search-panel").height(),
				s = S.viewAllBtn.height();
			n.removeAttr("style");
			var r = .75 * (window.innerHeight - a - S.wrapper.height() - 60),
				o = e.find("> .panel").width() + 10,
				l = (n.height(), n.parent().find(".enscroll-track").parent());
			n.parent().find(".enscroll-track").parent().remove(), "xs" !== i.getCurrentBreakPoint() && (n.css({
				height: r - s,
				overflow: "auto",
				"padding-right": 5,
				width: o
			}), $(l).remove(), n.enscroll({
				verticalTrackClass: "track4",
				verticalHandleClass: "handle4",
				minScrollbarLength: 28,
				easingDuration: 100
			}))
		}, b = function() {
			var e = S.wrapper.find(".tag-scroll");
			if (z(), e.length) {
				var t = 150,
					i = M.length,
					n = S.wrapper.outerWidth(),
					a = (e.height(), e.parent().find(".enscroll-track").parent());
				e.parent().find(".enscroll-track").parent().remove(), e.css({
					"max-height": t,
					overflow: "auto",
					"padding-right": "0px",
					width: n
				}), $(a).remove(), i > 1 ? setTimeout(function() {
					e.siblings().remove(), e.enscroll({
						verticalTrackClass: "track4",
						verticalHandleClass: "handle4",
						minScrollbarLength: 28,
						easingDuration: 100
					}), e.scrollTop(e[0].scrollHeight);
					var t = $(".tag-scroll").next().css("display");
					"block" === t ? (S.wrapper.addClass("tag-scroll-true"), $(".tag-scroll").next().addClass("tag-scroll-bar")) : S.wrapper.removeClass("tag-scroll-true")
				}, 0) : (S.wrapper.removeClass("tag-scroll-true"), z())
			}
		};
		var z = function() {
			var e = $(".dropdown-panel.search-destination .tagHolder"),
				t = e.find(".tag-wrapper"),
				i = e.find(".field-wrapper"),
				n = e.find(".search-destination-field"),
				a = e.width(),
				s = t.width(),
				r = a - s;
			50 > r ? (i.width(a - 20), n.width(a - 30), n.css("maxWidth", a - 30)) : (i.width(r - 10), n.width(i.width() - 20), n.css("maxWidth", i.width()))
		};
		h = function() {
			S.ele.val().length > 0 && window.setTimeout(function() {
				c()
			}, 2e3)
		}, u = function(e) {
			function t() {
				var t, i = $(this),
					n = i.find("i").text(),
					a = $.trim(i.text()),
					s = $.trim(a.replace(n, "")),
					r = e.toLowerCase(),
					o = s.toLowerCase().indexOf(r),
					l = o + e.length - 1,
					c = s.slice(0, o),
					d = a.slice(o, l + 1),
					u = s.slice(l + 1);
				o > -1 && (t = '<span data-icon=""></span><em>' + c + "<strong>" + d + "</strong>" + u + " <i>" + n + "</i></em>", i.html(t))
			}
			e && e.length && C.find("li.match").each(t)
		};
		var V = function(e, t) {
				B();
				var n = e.validationErrorMessage;
				if (n && n.validationType) {
					var a = S.disabledDestTemplate(e);
					i.showInlineMessage(t, {
						message: a,
						cssClass: "code-" + n.matchedDestination.code,
						highlightElement: [],
						arrow: !0,
						container: t,
						left: 0
					})
				} else if (n && n.matchedDestination) S.addTag(n.matchedDestination.name, n.matchedDestination.type, n.matchedDestination.code, n.matchedDestination.hierarchy, n.matchedDestination.countryCode), S.controller.closePanel();
				else {
					if (n && n.message) {
						var s = S.disabledDestTemplate(e);
						i.showInlineMessage(t, {
							message: s,
							cssClass: "not-available",
							highlightElement: [],
							arrow: !0,
							container: t,
							left: 0
						})
					}
					i.printLog("No validation json recieved")
				}
			},
			B = function() {
				C.find(".loader-container").remove(), C.find(".tui-tooltip-inline").remove()
			};
		g = function(e) {
			var t = $(this);
			if (t.hasClass("error-msg")) return !1;
			if (t.hasClass("none")) return !1;
			if (Y(t) && t.is("li")) {
				if (S.checkTagExists(t.data("code")) || t.siblings(".code-" + t.data("code")).length) return !1;
				var n = {
					code: t.data("code"),
					name: $.trim(t.find("em").text().replace(t.find("i").text(), "")),
					type: t.data("type"),
					countryCode: t.data("countrycode"),
					hierarchy: t.data("hierarchy")
				};
				B(), S.validateDisabledDestination(n, V, t, C.find("div.panel"))
			} else {
				var a = t.data("name"),
					s = t.data("type"),
					r = t.data("hierarchy"),
					o = t.data("countrycode"),
					l = t.data("code");
				if (t.hasClass("alternate-link")) {
					var c = t.parents(".validation-err-msg").data("targetpanel");
					"both" === c && (c = "where", se()), "when" === c && se(), S.addTag(a, s, l, r, o), x.val("").blur(), $('[data-panel="' + c + '"]').trigger("click")
				} else S.addTag(a, s, l, r, o), "auto" !== e ? (x.val("").keyup(), i.isMSIE() && x.focus()) : x.val("");
				S.controller.closePanel(), "xs" !== i.getCurrentBreakPoint() || $("#searchDestinationRedesign").hasClass("open") || S.showHideMobilePickerField(!0)
			}
			return B(), !1
		};
		var Y = function(e) {
			return e.parents("#recentSearches_results").length || e.parents("#forExample_results").length ? !0 : !1
		};
		d = function(e) {
			S.destinationBrowseList.cleanup(S.destinationBrowseList.countryContainer), S.isFlyoutOpen = !0, C.find("div.panel").empty(), C.find("hidden-xs").removeClass("hidden-xs");
			var t = T,
				i = ($("#searchResultFlyoutRedesign"), t.find(".searchWrapper .search-field-group")),
				n = S.wrapper;
			t.find(".search-result-panel"), i.height();
			t.find(".panel").removeAttr("style"), n.removeClass("hidden"), S.isFlyoutOpen === !1 && (S.isFlyoutOpen = !0), t.removeAttr("style").addClass("open").show(), S.destinationBrowseList.loadCountries(), C.show(), z(), S.showHideMobilePickerField(!1)
		}, c = function(e) {
			e.preventDefault(), W = {}, $(".destination-flyout").hide();
			var t, i, n, a = e.keyCode,
				s = C.find("li"),
				r = s.length,
				l = C.find("li.selected"),
				c = C.find("li.active"),
				d = C.find("li:first"),
				u = C.find("li:first.active"),
				h = C.find("li:last");
			if (8 === a && 0 === x.val().length) return C.find("div.panel").empty(), o(), !1;
			if (40 === a || 38 === a || 27 === a || 13 === a) {
				if (40 === a) {
					if (c.length) return i = s.index(c), n = i === r - 1 ? i : i + 1, c.removeClass("active"), void s.eq(n).addClass("selected");
					if (h.length && h.hasClass("selected")) return;
					t = s.index(l), l.removeClass("selected"), r > t + 1 && s.eq(t + 1).addClass("selected")
				} else if (38 === a) {
					if (c.length) return i = s.index(c), n = 0 === i ? i : i - 1, c.removeClass("active"), void s.eq(n).addClass("selected");
					if (d.length && d.hasClass("selected")) return d.removeClass("selected"), void x.focus();
					if (t = -1 !== s.index(l) ? s.index(l) : 0, l.removeClass("selected"), u.length || !t) return;
					r - t >= 0 ? s.eq(t - 1).addClass("selected") : s.eq(r - 1).addClass("selected")
				} else 13 === a && p(e);
				return !1
			}
			S.timeout && (clearTimeout(S.timeout), S.timeout = null), S.currentAutoSuggestCall && S.currentAutoSuggestCall.abort(), x.val().length >= N && S.showSpinner(!0), S.timeout = window.setTimeout(function() {
				if (T.is(":visible") && $(".country-container").find(".scrollable-container").length) {
					if (x.val().length < N) {
						var e = C.find("#forExample_results").is(":visible");
						return e ? ($(".destination-flyout").is(":visible") && $(".destination-flyout").hide(), void v(C, !0)) : ($(".destination-flyout").is(":visible") && $(".destination-flyout").hide(), C.find("div.panel").empty(), o(), !1)
					}
					S.currentAutoSuggestCall = S.get().done(y).fail(function() {})
				}
			}, E)
		}, p = function(e) {
			var t = C.find("li.selected");
			return t.length || "auto" === e ? void(t.length && t.trigger("click")) : X(e)
		}, f = function(e, t) {
			var i = C.find("li.match");
			return i.length ? X(e, t) : void 0
		};
		var X = function(e, t) {
				S.currentAutoSuggestCall && S.currentAutoSuggestCall.abort();
				var i = S.searchInput.data("nomatchmsg"),
					n = S.searchInput.val(),
					a = C.find("ul#_results").find("li"),
					s = !1,
					r = S.searchInput.val().toLowerCase();
				if (a = a.first(), 1 === a.length) {
					var o = a.find("em").text(),
						l = "";
					if (o = o.trim(), o.indexOf(",")) {
						var c = o.split(",");
						l = c[0]
					}
					if (o = o.trim(), o = o.toLowerCase(), l = l.toLowerCase(), o === r || l === r) g.call(a, e), s = !0;
					else {
						if ("auto" === e && !t) return;
						K(i, n)
					}
				} else K(i, n);
				return s
			},
			K = function(e, t) {
				C.find("ul#_results").addClass("error-msg-visible").empty().append('<li class="error-msg"><span>' + e + "<b>" + t + "</b></span></li>")
			};
		y = function(e) {
			S.showSpinner(!1), W = e, x.trigger("focusin").focus(), "iPad" === i.detectDeviceType && (x.trigger("touchstart").focus(), x.on("touchstart", function() {
				$(this).focus()
			})), S.controller.closePanel(x), C = $("#searchResultFlyoutRedesign");
			var t = C.find("div.panel");
			t.empty(), e.done = S.labels.done, e.allDestinationLabel = S.allDestinationLabel, S.trimExtraResults(e), t.append(S.template(e)), S.highlightResult(), v(C, !0), C.show(), S.wrapper.removeClass("loading"), i.isMSIE() && x.focus().val(x.val()), C.off("touchstart").on("touchstart", ".scroll-panel", function(e) {
				i.isTouchDevice() && x.blur()
			}), "xs" === i.getCurrentBreakPoint() && S.showHideMobilePickerField(!1)
		};
		var J = function(e, t, i) {
				if (e && e.autoSuggestResponse && 1 === e.autoSuggestResponse.length && e.autoSuggestResponse[0].options && 1 === e.autoSuggestResponse[0].options.length) {
					if (S.checkTagExists(e.autoSuggestResponse[0].options[0].code)) return;
					i ? p(t) : f(t, i)
				}
			},
			G = function(e) {
				var t = [],
					i = ["LABEL", "CONCEPT"],
					n = ["RESORT", "DESTINATION", "COUNTRY", "REGION"];
				return $.each(e, function(e, a) {
					var s = "";
					return s = "string" == typeof a ? a.split("|")[1] : a.type, -1 !== $.inArray(s, t) ? !0 : void(-1 !== $.inArray(s.toUpperCase(), i) ? t = t.concat(i) : -1 !== $.inArray(s.toUpperCase(), n) ? t = t.concat(n) : t.push(s));
				}), t
			},
			Q = function() {
				var e = [];
				return $.each(M, function(t, i) {
					e.push(i.split("|")[2])
				}), e
			},
			Z = function(e, t, i) {
				return void 0 !== t ? ($.each(e, function(e, n) {
					var a = !1;
					$.each(t, function(e, t) {
						n.code === t && (a = !0)
					}), a || ("RS" === i ? j.push(n) : "FE" === i && q.push(n))
				}), "RS" === i ? j : q) : void 0
			},
			ee = function(e, t) {
				var i, n = [],
					a = [];
				return e && e.length && L && (n = e.length >= L ? e.slice(0, L) : e), e = n, i = L - e.length, t && t.length && i && (a = t.length >= i ? t.slice(0, i) : t), t = a, {
					RSArray: e,
					FEArray: t
				}
			},
			te = function(e, t) {
				if (!e || 0 === e.length) return t;
				var i = [];
				return $.each(t, function(t, n) {
					return -1 !== $.inArray(n.type.toUpperCase(), e) ? !0 : void i.push(n)
				}), i
			},
			ie = function(e, t) {
				var i = {};
				if ($.cookie(O)) {
					var n = $.cookie(O);
					n = n.replace(/(\\r\\n|\\n|\\r)/gm, "");
					var a = $.parseJSON(n);
					a.recentSearchValues && a.recentSearchValues.length && (a.recentSearchValues = Z(a.recentSearchValues, e, "RS"), i = {
						type: "recentSearches",
						groupLabel: F,
						options: a.recentSearchValues
					})
				}
				return i
			},
			ne = function(e, t, i) {
				var n = {};
				if (window.forExampleJSON) {
					var a = window.forExampleJSON;
					a = JSON.stringify(a), a = a.replace(/(\\r\\n|\\n|\\r)/gm, "");
					var s = $.parseJSON(a);
					s && s.length && (s = Z(s, e, "FE"), s = te(t, s), s = te(i, s), s = te(t, s), n = {
						type: "forExample",
						groupLabel: R,
						options: s
					})
				}
				return n
			},
			ae = function() {
				var e = [];
				return $.each(M, function(t, i) {
					var n = i.split("|"),
						a = {
							name: n[0],
							code: n[2],
							type: n[1],
							hierarchy: n[3]
						};
					n[4] && (a.countryCode = n[4]), e.push(a)
				}), e
			};
		m = function() {
			T.on("click", "#searchResultFlyout li,.alternate-link", g), T.on("click", "#searchResultFlyoutRedesign li,.alternate-link", g), T.on("keyup", "#searchPanel-field-search", function(e) {
				return 27 === e.keyCode ? !1 : void l.highlightResult()
			}), T.on("click", "#searchPanel-field-search-redesign", function(e) {
				c(e), i.istabletOrDesktop() || S.controller.scrollWindowTillHeader(S.wrapper, !0)
			}), T.on("click", ".tag-wrapper", function(e) {
				$("#searchPanel-field-search-redesign").focus()
			}), C.on("mouseover", "li", function(e) {
				var t = C.find("li.selected");
				t.length && t.removeClass("selected"), $(this).addClass("active")
			}), C.on("mouseleave", "li", function(e) {
				$(this).removeClass("active")
			}), T.on("click", ".selected .icon-close-circle", function() {
				var e = $(this).parent(),
					t = e.parent(),
					i = $.trim(e.find("span:eq(0)").text()),
					n = t.data("type"),
					a = t.data("code"),
					s = t.data("hierarchy"),
					r = t.data("code");
				S.removeTag(i, n, a, s, r), e.removeClass("selected")
			}), T.on("keyup", "#searchPanel-field-search-redesign", c), T.on("blur", "#searchPanel-field-search-redesign", function(e) {
				var t = T.find(".search-result-grp li");
				if (t.length && W) {
					var i = t.first().is(":active");
					J(W, "auto", i)
				}
				x.val("")
			}), T.on("keydown", "#searchPanel-field-search-redesign", function(e) {
				if (9 === e.keyCode) p(e);
				else if (8 === e.keyCode) {
					if (x.val()) return !0;
					S.tags.find("li").length && S.tags.find("li:last").find("a.icon-close-circle").trigger("click")
				} else 38 === e.keyCode && e.preventDefault()
			}), C.on("mouseover", "li", function(e) {
				var t = C.find("li.selected");
				t.length && t.removeClass("selected"), $(this).addClass("active")
			}), C.on("mouseleave", "li", function(e) {
				$(this).removeClass("active")
			}), S.tags.on("click", "a.icon-close-circle", function(e) {
				e.preventDefault(), e.stopPropagation();
				var t = $(this),
					i = t.parent("li"),
					n = i.data("code");
				S.removeTag("", "", n, null, null, !0), S.destinationBrowseList.tagRemoved(n)
			})
		};
		var se = function() {
				S.controller.resetDates()
			},
			re = function() {};
		return $.extend(r.prototype, l), r
	}),
	function(e, t) {
		e.fn.counterWidget = function(t) {
			function i(e) {
				var t = [],
					i = e.minParam || 0,
					n = e.minParam || 0;
				if ("number" == typeof e.maxParam)
					for (n = e.maxParam; n >= i;) t.push(i), i++;
				else e.maxParam && (n = e.maxParam, t = n);
				return t
			}

			function n(t, i) {
				var n;
				return e.each(i, function(e, i) {
					t == i && (n = e)
				}), n
			}

			function a(t, i, n, a, s) {
				if ("+" === i) {
					if (a === n.length - 1) return;
					e(t).html(n[++a])
				} else if ("-" === i) {
					var r = 0;
					if (s.minParam && (r = s.minParam), a === r) return;
					e(t).html(n[--a])
				}
			}

			function s(t, i) {
				var n = e('<a href="">+</a>').attr("class", o.plusClass).addClass(i.cssClass);
				return minus = e('<a href="">-</a>').attr("class", o.minusClass).addClass(i.cssClass), wrapperPlus = e("<span></span>").attr("class", o.wrapperClass), wrapperMinus = e("<span></span>").attr("class", o.wrapperClass), container = e("<div></div>").attr("class", o.containerClass), wrapperMinus.append(minus).appendTo(container), t.appendTo(container), wrapperPlus.append(n).appendTo(container), container.appendTo(i.appendInto), container
			}

			function r(t, i, s, r) {
				var o, l = 0;
				i.find(".plus").unbind("click"), i.find(".minus").unbind("click"), i.find(".plus").on("click", function(i) {
					i.preventDefault(), o = t.text(), l = n(o, r), a(t, "+", r, l, s), s.callBack(i, e(this), s)
				}), i.find(".minus").on("click", function(i) {
					i.preventDefault(), o = t.text(), l = n(o, r), a(t, "-", r, l, s), s.callBack(i, e(this), s)
				})
			}
			var o = e.extend(!0, {}, e.fn.counterWidget.defaults, t);
			return this.each(function() {
				var n = e(this);
				n.html(t.currentValue);
				var a = i(t),
					o = s(n, t);
				r(n, o, t, a)
			})
		}, e.fn.counterWidget.defaults = {
			plusClass: "plus",
			minusClass: "minus",
			wrapperClass: "wrapper",
			containerClass: "mywid",
			pageContainer: "body"
		}
	}(jQuery, window), define("vendor/counterWidget", function() {}), define("text!search-panel/templates/party-room.hbs", [], function() {
		return '<ul>\n	<li class="col-xs-12 container-roomname">\n		<header>\n			<h4 class="room-header">\n				{{#if isRoom1}}\n					{{room1}}\n				{{/if}}\n				{{#if isRoom2}}\n					{{room2}}\n				{{/if}}\n				{{#if isRoom3}}\n					{{room3}}\n				{{/if}}\n			</h4>\n			<i class="icon-arrow-down">&nbsp;</i>\n			<div class="container-closeroom">\n				{{#if isRoom2 }}\n					<a href="#" class="icon-bubble-close"></a>\n				{{/if}}\n				{{#if isRoom3}}\n					<a href="#" class="icon-bubble-close"></a>\n				{{/if}}\n			</div>\n		</header>\n	</li>\n	<li class="col-sm-4 col-xs-12 container-adult">\n		<label class="col-xs-12" for="adult-member-r{{roomNumber}}">{{adults}}</label>\n		<span class="widspan">\n			<em name="adults" class="counter-widget adult">{{adultCount}}</em>\n		</span>\n	</li>\n	<li class="col-sm-4 col-xs-12 container-kids">\n		<label class="col-xs-12" for="children-r{{roomNumber}}">{{childAge}} </label>\n		<span class="widspan">\n			<em name="children" class="counter-widget child">{{kidsCount}}</em>\n		</span>\n	</li>\n	<li class="col-sm-4 col-xs-12 container-kidsage">\n		<div class="return-date" style="display:none;">\n			<label class="col-xs-6">{{ageMessage}}</label>\n		</div>\n	</li>\n</ul>\n'
	}), define("search-panel/search-who-v3", ["jquery", "vendor/counterWidget", "handlebars", "text!./templates/party-room.hbs"], function(e, t, i, n) {
		function a(e, t) {
			this.ele = e, this.controller = t.controller, this.init(), this.formData = {}
		}
		var s, r, o, l, c, d, u, h, p, f, m = [],
			g = e("#who"),
			v = g.data("placeholder"),
			y = e("#searchWho"),
			b = 0,
			w = "",
			x = "",
			k = "",
			C = "",
			T = "",
			D = {
				roomCount: 1,
				init: function() {
					s = this, b = s.ele.width(), s.template = i.compile(n), r = s.ele.find("#room-1"), o = s.ele.find("#room-2"), l = s.ele.find("#room-3"), s.maxJSON = s.ele.find(".who").data("partyjmaxson"), d = s.ele.data("maxadultlimit"), u = s.ele.data("maxchildrenlimit"), h = s.ele.data("maxtravellerlimit"), p = s.ele.data("labels"), c = s.ele.find(".member-list"), w = c.data("adulterrormsg"), T = c.data("childerrormsg"), x = c.data("maxchildrenerrormsg"), C = c.data("maxtravellererrormsg"), k = c.data("maxtravellererrormsg"), e.subscribe("search_mode_changed", e.proxy(s.updatePartyMode, s)), f = c.data("noageerrmsg") || "Please select a valid age", m = y.find(".choose-rooms").find(".room"), e(".return-date").hide(), s.addRoom(), s.erMsgChildren(), s.closeRoom(), s.removeTag(), Q(), ee()
				},
				updatePartyMode: function() {
					var t = e("#search-panel-tabs").find("button.active").data("tabname") || "package";
					C = "flight" === t ? c.data("maxseatlimitmsg") : c.data("maxtravellererrormsg")
				},
				removeTag: function() {
					g.on("click", ".icon-close-circle", function(e) {
						s.controller.fromSubmit = !1, e.stopPropagation(), g.empty(), g.attr("title", v), s.resetParty(), g.trigger("click").focus()
					})
				},
				paintRooms: function(t) {
					s.ele.find(".room").empty().hide(), t && t.rooms || (t = {
						rooms: []
					}), 0 === t.rooms.length && (t = s.ele.data("defaultsize")), e.each(t.rooms, function(t, i) {
						var n = e("#" + i.id);
						n.show(), F(n, i)
					}), Z(t.rooms.length)
				},
				resetParty: function() {
					s.paintRooms(s.ele.data("defaultsize")), g.empty().append('<span class="placeholder-text">' + v + "</span>"), s.formData = {}
				},
				getPartySizeAvailability: function(t, i) {
					var n = e.Deferred(),
						a = e.extend({}, this.controller.getFormValues(), {
							action: "party"
						});
					return TUIUtil.genericAjaxRequest({
						url: i,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(a)
					}).done(function(e) {
						I(e), n.resolve(!0)
					}), n.promise()
				},
				getWhoString: function(e, t, i) {
					e || (e = 1), t || (t = 2);
					var n = "";
					return n += t + " ", n += 1 === t ? p.adult : p.adults, i && (n += ", ", n += i + " ", n += 1 === i ? p.child : p.children), e > 1 && (n += ", ", n += e + " ", n += p.rooms), n
				},
				erMsgChildren: function() {
					e("body").delegate(".child-selector select", "change", s.placeholderCallback)
				},
				addRoom: function() {
					e(".room").hide(), r.show(), s.ele.on("click", ".addroom-container .add-room", function(t) {
						if (e(this).hasClass("disabled")) return !1;
						t.preventDefault();
						var i = null;
						return e(this).hasClass("disable") ? !1 : (!o.is(":visible") && l.is(":visible") && A(), e.each(m, function(t, n) {
							return n = e(n), n.is(":visible") ? void 0 : (F(n, {
								id: n.attr("id"),
								adults: "1",
								children: "0",
								childAgeList: []
							}), n.hasClass("collapsed") && n.removeClass("collapsed"), n.show(), i = n, !1)
						}), s.placeholderCallback(null, i.find("a.adult-selector")), Z(s.formData.rooms.length), void s.scrolltoBottom())
					})
				},
				scrolltoBottom: function() {
					var e = s.ele.find(".who-panel");
					e.animate({
						scrollTop: e.offset().top
					}, 500)
				},
				showAddRoom: function(e) {
					e ? s.ele.find(".addroom-container .add-room").show() : s.ele.find(".addroom-container .add-room").hide()
				},
				triggerChange: function() {
					var e = m.not(".disable").first().find(".container-adult .minus");
					s.placeholderCallback(null, e)
				},
				setFieldValue: function(t) {
					var i = 0,
						n = 0;
					y = e("#searchWho"), y.find(".room").each(function() {
						var t = e(this),
							a = t.find(".counter-widget.adult");
						a.length && (i += parseInt(e(this).find(".counter-widget.adult").text(), 10), n += parseInt(e(this).find(".counter-widget.child").text(), 10))
					}), s.setPartyTags(s.getWhoString(B(), i, n), t), s.controller.fromSubmit = !1
				},
				setPartyTags: function(e, t) {
					if (s.isDefaultPartySize() && !t) return void(s.formData && s.formData.rooms && delete s.formData.rooms);
					g.attr("title", e), e = TUIUtil.trimText(e, g);
					var i = "<ul>";
					i += "<li>", i += "<span>", i += e, i += "</span>", i += '<span class="icon-close-circle" />', i += "</li>", i += "</ul>", g.empty().append(i)
				},
				isDefaultPartySize: function() {
					var e = !1,
						t = s.getFormValues();
					if (t.rooms) {
						if (1 === t.rooms.length) {
							var i = t.rooms[0];
							"2" === i.adults && "0" === i.children && (e = !0)
						}
					} else e = !0;
					return g.find(".icon-close-circle").length && (e = !1), e
				},
				closeRoom: function() {
					s.ele.on("click", "a.icon-bubble-close", function(t) {
						t.preventDefault();
						var i = e(this).parents(".room");
						i.empty().hide(), _(), s.formData.rooms = J(), Z(s.formData.rooms.length), s.placeholderCallback(t, e(this)), t.stopPropagation()
					})
				},
				getFormValues: function(e) {
					return e ? s.sortRoomNumbers() : s.formData
				},
				sortRoomNumbers: function() {
					return s.formData && s.formData.rooms && e.each(s.formData.rooms, function(e, t) {
						t.id = "room-" + (e + 1)
					}), s.formData
				},
				showValidation: function() {
					var t = K("infant-limit"),
						i = K("adult-children-limit");
					(-1 !== t || -1 !== i) && e(".tui-tooltip.searchwho").show()
				},
				placeholderCallback: function(t, i) {
					var n, a = (e("#searchWho"), i ? i : e(this)),
						c = a.parents(".room");
					i && (i.hasClass("icon-close-circle") || i.hasClass("icon-bubble-close")) && (m.removeClass("disable"), m.find(".overlay").remove(), s.ele.find(".add-room").removeClass("disable"), i = r.find("a.plus.adult-selector")), s.ele.find(".add-room").removeClass("disabled"), ("A" === a.prop("tagName") || "SELECT" === a.prop("tagName")) && (s.cleanupTooltips(".tui-tooltip-inline"), n = P(a, c), G(c, n)), s.formData.rooms = J(), l.is(":visible") && o.is(":visible") ? s.showAddRoom(!1) : s.showAddRoom(!0), s.setFieldValue()
				},
				cleanupTooltips: function(t) {
					t || (t = ".tui-tooltip"), e("body").find(t).remove(), e(".choose-rooms").find(".overlay").remove(), s.ele.find("span.tui-tooltip-error").removeClass("tui-tooltip-error"), s.controller.errorValidations = []
				}
			},
			S = function(e) {
				var t = "";
				switch (e) {
					case 1:
						t = p.room1;
						break;
					case 2:
						t = p.room2;
						break;
					case 3:
						t = p.room3
				}
				return t
			},
			_ = function() {
				var t = 1,
					i = !1,
					n = e("#searchWho").find("a.add-room");
				e.each(m, function(n, a) {
					a = e(a), a.find("header").show(), e(a).is(":visible") ? (e(a).find("h4").text(S(t)), t++) : i = !0
				}), n[i ? "show" : "hide"]()
			},
			I = function(t) {
				t || (t = {}), s.seatValidation = t, t.maxRoomSizeMessage && (k = t.maxRoomSizeMessage), e.isEmptyObject(s.formData) && s.paintRooms(s.ele.data("defaultsize"))
			},
			A = function() {
				var t = l.find("select");
				e.each(t, function(t, i) {
					i = e(i);
					var n = i.attr("id");
					n && i.attr(n, n.replace("3", "2"))
				});
				var i = o.find("select");
				e.each(i, function(t, i) {
					i = e(i);
					var n = i.attr("id");
					n && i.attr(n, n.replace("2", "3"))
				}), l.attr("id", "room-2"), o.attr("id", "room-3"), o.insertAfter(o.next()), o = s.ele.find("#room-2"), l = s.ele.find("#room-3"), m = e("#searchWho").find(".choose-rooms").find(".room")
			},
			P = function(e, t) {
				var i = !1;
				return i = e.hasClass("returnAge") ? O(e, t) && E(e, t) ? !M(e, t) : !0 : e.hasClass("adult-selector") ? N(e, t) ? !M(e, t) : !0 : e.hasClass("children-selector") ? U(e, t) ? !M(e, t) : !0 : !M(e, t), X(".tui-tooltip-inline", i, "who"), i
			},
			M = function(e, t) {
				var i = O(e, t) && N(e, t) && U(e, t) && E(e, t) && j(e, t);
				return i
			},
			E = function(t, i) {
				for (var n, a = parseInt(i.find(".counter-widget.adult").text(), 10), s = !1, r = t.parents(".room").find(".return-date"), o = r.find("select"), l = o.length, c = 0, d = 0; l > d; d++) {
					var u = e(o[d]).val();
					if ("-" === u) return n = e(o[d]), z("childinfantage", n, i, i.attr("id")), s = !0, !1;
					("< 2" === u || "1" === u || "<2" === u) && (c += 1)
				}
				return c > a && (s = !0, n = t.hasClass("returnAge") ? t : r.first(), z("infantage", n, i, i.attr("id"))), !s
			},
			N = function(e, t) {
				var i = 0,
					n = !1;
				return i += parseInt(t.find(".counter-widget.adult").text(), 10), i > d ? (n = !0, "A" === e.prop("tagName") && z("adult", e, t, t.attr("id")), !1) : !n
			},
			U = function(e, t) {
				var i = 0,
					n = !1;
				return i += parseInt(t.find(".counter-widget.child").text(), 10), i > u ? (n = !0, "A" === e.prop("tagName") && z("children", e, t, t.attr("id")), !1) : !n
			},
			O = function(e, t) {
				var i = 0,
					n = 0,
					a = !1,
					s = 0;
				return i += parseInt(t.find(".counter-widget.adult").text(), 10), n += parseInt(t.find(".counter-widget.child").text(), 10), s = i + n, s > h ? (a = !0, ("A" === e.prop("tagName") || "SELECT" === e.prop("tagName")) && z("maxRoomOccupants", e, t, t.attr("id")), !1) : !a
			},
			F = function(t, i) {
				var n, a = !1,
					r = !1,
					o = !1;
				"room-1" === i.id ? (n = 1, a = !0) : "room-2" === i.id ? (n = 2, r = !0) : "room-3" === i.id && (n = 3, o = !0), i.adultCount = i.adults, i.kidsCount = i.children;
				var l = e.extend({}, i, p, {
					roomNumber: n,
					isRoom1: a,
					isRoom2: r,
					isRoom3: o
				});
				t.append(s.template(l));
				var c = {};
				c.currentValue = 0, c.callBack = $, c.appendInto = t.find(".adult").closest("span"), c.cssClass = "adult-selector", c.maxParam = s.maxJSON.maxAdult, c.minParam = 1, i && (c.currentValue = i.adults), t.find(".adult").counterWidget(c), c.appendInto = t.find(".child").closest("span"), c.cssClass = "children-selector", c.maxParam = s.maxJSON.maxKids, c.minParam = 0, i && (c.currentValue = i.children);
				var d = t.find(".child");
				d.counterWidget(c), W(t, c, d, i), t.show()
			},
			$ = function(e, t, i) {
				if (t.hasClass("children-selector")) {
					if (t.hasClass("children-selector")) {
						var n = t.parents(".room");
						W(n, i, t)
					}
				} else s.placeholderCallback(e, t)
			},
			R = function(t) {
				var i = '<div class="age-dropdown"><select name="returningAge' + t + '" class="returnAge">';
				return e.each(s.maxJSON.kidsAgeArray, function(e, t) {
					var n = 0 === e ? 'selected=""' : "",
						a = t;
					("1" === t || "<2" === t || "< 2" === t) && (a = 1), i += '<option value="' + a + '"  ' + n + ">" + t + "</option>"
				}), i += "</select></div>"
			},
			W = function(t, i, n, a) {
				i.cssClass = "returnAge", i.maxParam = s.maxJSON.kidsAgeArray;
				var r = t.find("select");
				i.currentValue = s.maxJSON.kidsAgeArray[0];
				var o = 1 * t.find("em.counter-widget.child").text();
				0 === o ? t.find(".return-date").hide() : t.find(".return-date").show();
				var l = o - r.length;
				l > 0 ? L(t, l, r.length, a) : 0 > l && H(t, l), a && e.each(t.find(".return-date").find("select"), function(t, i) {
					var n = a.childAgeList[t];
					(1 === n || "<2" === n || "< 2" === n) && (n = 1), e(i).val(n)
				});
				var c = t.find(".return-date").find("select").first();
				c.length || (c = t.find("a.plus.children-selector")), s.placeholderCallback(null, c)
			},
			L = function(e, t, i, n) {
				for (var a = 0; t > a; a++) {
					var s;
					s = n ? a + 1 : i + 1;
					var r = '<div class="drop-down child-selector right col-xs-12">	<label class="col-sm-6 col-md-3" >' + p.child + " " + s + "  </label>" + R(a) + "</div>";
					e.find(".return-date").append(r)
				}
			},
			H = function(e, t) {
				e.find(".return-date").find(".child-selector").slice(t).remove()
			},
			j = function(t, i) {
				var n = 0,
					a = 0,
					r = 0,
					o = 0,
					l = 0,
					c = !1;
				if ("undefined" == typeof s.seatValidation) return !c;
				e.each(m, function(t, i) {
					var s = e(i);
					if (s.is(":visible")) {
						var c = parseInt(s.find(".counter-widget.adult").text(), 10),
							d = q(s),
							u = c + d;
						n += c, a += d, 0 === t ? r = u : 1 === t ? o = u : 2 === t && (l = u)
					}
				});
				var d = n + a;
				if (s.seatValidation.seatAndRoomValidation && s.seatValidation.seatAndRoomValidation.length) {
					var u = (parseInt(i.find(".counter-widget.adult").text(), 10), parseInt(i.find(".counter-widget.child").text(), 10), !1),
						h = !1;
					e.each(s.seatValidation.seatAndRoomValidation, function(e, t) {
						var i = !0;
						return t.seatsAvailable >= d ? t.maxRoomSize >= r && t.maxRoomSize >= o && t.maxRoomSize >= l ? h = !1 : (h = !0, i = !1) : i = !1, i ? (u = !0, !1) : void 0
					}), u || (c = !0, h ? ("A" === t.prop("tagName") || "SELECT" === t.prop("tagName")) && z("maxtraveller", t, i, i.attr("id")) : ("A" === t.prop("tagName") || "SELECT" === t.prop("tagName")) && z("seatFull", t, i, i.attr("id")))
				} else s.seatValidation.avaliableSeats && d > s.seatValidation.avaliableSeats ? (c = !0, ("A" === t.prop("tagName") || "SELECT" === t.prop("tagName")) && z("seatFull", t, i, i.attr("id"))) : (("A" === t.prop("tagName") || "SELECT" === t.prop("tagName")) && z("seatFull", t, i, i.attr("id")), c = !0);
				return !c
			},
			q = function(t) {
				var i = t.find("em.counter-widget.child"),
					n = 0;
				return parseInt(i.text(), 10) > 0 && e.each(t.find("select.returnAge"), function(t, i) {
					var a = e(i).val();
					!isNaN(a) && parseInt(a, 10) >= 2 && n++
				}), n
			},
			z = function(t, i, n, a) {
				var r, o = i,
					l = "",
					c = [],
					d = a + " searchwho ",
					u = '<i class="icon-bubble-important"></i>';
				switch (t) {
					case "adult":
						l = V(w, u), d += " adult ", o = i.hasClass("adult-selector") ? i : n.find(".adult-selector").first();
						break;
					case "children":
						l = V(x, u), d += " children ", i.hasClass("children-selector") ? o = i : (r = n.find(".counter-widget.child"), e.each(r, function(t, i) {
							return e(i).is(":visible") && e(i).text() ? (c = e(i), !1) : void 0
						}), c.length || (c = n.find(".child:visible").first()));
						break;
					case "maxRoomOccupants":
						l = V(C, u), i.hasClass("returnAge") && (o = i = n.find(".children-selector")), d += i.hasClass("adult-selector") ? " adult " : i.hasClass("children-selector") ? " children " : " common ";
						break;
					case "maxtraveller":
						l = V(k, u), i.hasClass("returnAge") && (o = i = n.find(".children-selector")), d += i.hasClass("adult-selector") ? " adult " : i.hasClass("children-selector") ? " children " : " common ";
						break;
					case "infantage":
						l = V(T, u), d = d + " childage " + o.data("column");
						break;
					case "seatFull":
						l = V(s.seatValidation.seatFullMessage, u), i.hasClass("returnAge") && (o = i = n.find(".children-selector")), d += i.hasClass("adult-selector") ? " adult " : i.hasClass("children-selector") ? " children " : " common ";
						break;
					case "childinfantage":
						l = V(f, u), d += " common", i.hasClass("returnAge") ? (i.addClass(o.data("column")), o = i) : (r = n.find(".children-selector"), e.each(r, function(t, i) {
							return e(i).is(":visible") && e(i).text() ? (c = e(i), !1) : void 0
						}), c.length || (c = n.find(".children-selector:visible").first()))
				}
				var h = n.find("ul");
				if ("infantage" === t || "childinfantage" === t) h = n.find(".return-date"), TUIUtil.showInlineMessage(h, {
					message: l,
					cssClass: d,
					highlightElement: o.closest("span.widspan"),
					left: n.offset().left
				}, !0);
				else {
					var p = Y(i, n);
					TUIUtil.showInlineMessage(p, {
						message: l,
						cssClass: d,
						highlightElement: o.closest("span.widspan"),
						left: n.offset().left
					}, !0)
				}
				s.ele.find(".add-room").addClass("disabled")
			},
			V = function(e, t) {
				return "<p>" + e + "</p>" + t
			},
			B = function() {
				var t = 0,
					i = s.ele.find(".choose-rooms").find(".room");
				return i.each(function() {
					var i = parseInt(e(this).find(".counter-widget.adult").text(), 10);
					i > 0 && t++
				}), t
			},
			Y = function(e, t) {
				var i = t.find("ul");
				return e && e.length && (i = e.closest("li")), i
			},
			X = function(e, t, i) {
				if (t) - 1 === K(i) && s.controller.errorValidations.push({
					panelId: "#who",
					type: i
				});
				else {
					s.cleanupTooltips(e);
					var n = K(i); - 1 !== n && s.controller.errorValidations.splice(n)
				}
			},
			K = function(t) {
				var i = -1;
				return e.each(s.controller.errorValidations, function(e, n) {
					return n.type === t ? (i = e, !1) : void 0
				}), i
			},
			J = function() {
				var t = [];
				return e("#searchWho .rooms-content .room").each(function(i) {
					var n = [],
						a = e(this),
						s = "room-" + (i + 1),
						r = a.find(".adult");
					if (0 === r.length) return !0;
					var o = a.find(".counter-widget.adult").text(),
						l = a.find(".counter-widget.child").text(),
						c = {};
					a.find(".return-date select.returnAge").each(function() {
						n.push(e(this).val())
					}), c = {
						id: s,
						childAgeList: n,
						children: l,
						adults: o
					}, t.push(c)
				}), t
			},
			G = function(e, t) {
				var i = e.siblings();
				t ? (i.addClass("disable"), 0 === i.find(".overlay").length && i.append('<div class="overlay" />')) : (i.removeClass("disable"), i.find(".overlay").remove())
			},
			Q = function() {
				y.on("click", ".change-date-partysize", function(t) {
					s.controller.searchWhen.resetDates(), s.controller.searchWhen.resetDuration(), s.cleanupTooltips(".tui-tooltip-inline"), s.setFieldValue(), setTimeout(function() {
						e("#when").trigger("click")
					}, 100)
				})
			},
			Z = function(t) {
				var i = r.find(".container-roomname h4"),
					n = e(".container-roomname"),
					a = TUIUtil.getCurrentBreakPoint();
				i.removeClass("hidden"), r.removeClass("firstRoom"), t && 1 === t ? (r.addClass("firstRoom"), "xs" !== a && i.addClass("hidden")) : t > 2 ? n.removeClass("hidden") : (n.removeClass("hidden"), n.find("header").show())
			},
			ee = function() {
				y.find(".room").on("click", "header", function(t) {
					if ("xs" === TUIUtil.getCurrentBreakPoint()) {
						t.preventDefault();
						var i = e(this);
						i.parents(".room").toggleClass("collapsed")
					}
				})
			};
		for (var te in D) a.prototype[te] = D[te];
		return a
	}),
	function(e) {
		e.fn.hoverIntent = function(t, i, n) {
			var a = {
				interval: 100,
				sensitivity: 6,
				timeout: 0
			};
			a = "object" == typeof t ? e.extend(a, t) : e.isFunction(i) ? e.extend(a, {
				over: t,
				out: i,
				selector: n
			}) : e.extend(a, {
				over: t,
				out: t,
				selector: i
			});
			var s, r, o, l, c = function(e) {
					s = e.pageX, r = e.pageY
				},
				d = function(t, i) {
					return i.hoverIntent_t = clearTimeout(i.hoverIntent_t), Math.sqrt((o - s) * (o - s) + (l - r) * (l - r)) < a.sensitivity ? (e(i).off("mousemove.hoverIntent", c), i.hoverIntent_s = !0, a.over.apply(i, [t])) : (o = s, l = r, i.hoverIntent_t = setTimeout(function() {
						d(t, i)
					}, a.interval), void 0)
				},
				u = function(e, t) {
					return t.hoverIntent_t = clearTimeout(t.hoverIntent_t), t.hoverIntent_s = !1, a.out.apply(t, [e])
				},
				h = function(t) {
					var i = e.extend({}, t),
						n = this;
					n.hoverIntent_t && (n.hoverIntent_t = clearTimeout(n.hoverIntent_t)), "mouseenter" === t.type ? (o = i.pageX, l = i.pageY, e(n).on("mousemove.hoverIntent", c), n.hoverIntent_s || (n.hoverIntent_t = setTimeout(function() {
						d(i, n)
					}, a.interval))) : (e(n).off("mousemove.hoverIntent", c), n.hoverIntent_s && (n.hoverIntent_t = setTimeout(function() {
						u(i, n)
					}, a.timeout)))
				};
			return this.on({
				"mouseenter.hoverIntent": h,
				"mouseleave.hoverIntent": h
			}, a.selector)
		}
	}(jQuery), define("jqueryhoverIntent", function() {}),
	function(e) {
		"function" == typeof define && define.amd ? define("vendor/core", ["jquery"], e) : e(jQuery)
	}(function(e) {
		function t(t, n) {
			var a, s, r, o = t.nodeName.toLowerCase();
			return "area" === o ? (a = t.parentNode, s = a.name, t.href && s && "map" === a.nodeName.toLowerCase() ? (r = e("img[usemap=#" + s + "]")[0], !!r && i(r)) : !1) : (/input|select|textarea|button|object/.test(o) ? !t.disabled : "a" === o ? t.href || n : n) && i(t)
		}

		function i(t) {
			return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
				return "hidden" === e.css(this, "visibility")
			}).length
		}
		e.ui = e.ui || {}, e.extend(e.ui, {
			version: "1.11.0",
			keyCode: {
				BACKSPACE: 8,
				COMMA: 188,
				DELETE: 46,
				DOWN: 40,
				END: 35,
				ENTER: 13,
				ESCAPE: 27,
				HOME: 36,
				LEFT: 37,
				PAGE_DOWN: 34,
				PAGE_UP: 33,
				PERIOD: 190,
				RIGHT: 39,
				SPACE: 32,
				TAB: 9,
				UP: 38
			}
		}), e.fn.extend({
			scrollParent: function() {
				var t = this.css("position"),
					i = "absolute" === t,
					n = this.parents().filter(function() {
						var t = e(this);
						return i && "static" === t.css("position") ? !1 : /(auto|scroll)/.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
					}).eq(0);
				return "fixed" !== t && n.length ? n : e(this[0].ownerDocument || document)
			},
			uniqueId: function() {
				var e = 0;
				return function() {
					return this.each(function() {
						this.id || (this.id = "ui-id-" + ++e)
					})
				}
			}(),
			removeUniqueId: function() {
				return this.each(function() {
					/^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id")
				})
			}
		}), e.extend(e.expr[":"], {
			data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
				return function(i) {
					return !!e.data(i, t)
				}
			}) : function(t, i, n) {
				return !!e.data(t, n[3])
			},
			focusable: function(i) {
				return t(i, !isNaN(e.attr(i, "tabindex")))
			},
			tabbable: function(i) {
				var n = e.attr(i, "tabindex"),
					a = isNaN(n);
				return (a || n >= 0) && t(i, !a)
			}
		}), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(t, i) {
			function n(t, i, n, s) {
				return e.each(a, function() {
					i -= parseFloat(e.css(t, "padding" + this)) || 0, n && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0), s && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
				}), i
			}
			var a = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"],
				s = i.toLowerCase(),
				r = {
					innerWidth: e.fn.innerWidth,
					innerHeight: e.fn.innerHeight,
					outerWidth: e.fn.outerWidth,
					outerHeight: e.fn.outerHeight
				};
			e.fn["inner" + i] = function(t) {
				return void 0 === t ? r["inner" + i].call(this) : this.each(function() {
					e(this).css(s, n(this, t) + "px")
				})
			}, e.fn["outer" + i] = function(t, a) {
				return "number" != typeof t ? r["outer" + i].call(this, t) : this.each(function() {
					e(this).css(s, n(this, t, !0, a) + "px")
				})
			}
		}), e.fn.addBack || (e.fn.addBack = function(e) {
			return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
		}), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
			return function(i) {
				return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
			}
		}(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.fn.extend({
			focus: function(t) {
				return function(i, n) {
					return "number" == typeof i ? this.each(function() {
						var t = this;
						setTimeout(function() {
							e(t).focus(), n && n.call(t)
						}, i)
					}) : t.apply(this, arguments)
				}
			}(e.fn.focus),
			disableSelection: function() {
				var e = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
				return function() {
					return this.bind(e + ".ui-disableSelection", function(e) {
						e.preventDefault()
					})
				}
			}(),
			enableSelection: function() {
				return this.unbind(".ui-disableSelection")
			},
			zIndex: function(t) {
				if (void 0 !== t) return this.css("zIndex", t);
				if (this.length)
					for (var i, n, a = e(this[0]); a.length && a[0] !== document;) {
						if (i = a.css("position"), ("absolute" === i || "relative" === i || "fixed" === i) && (n = parseInt(a.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
						a = a.parent()
					}
				return 0
			}
		}), e.ui.plugin = {
			add: function(t, i, n) {
				var a, s = e.ui[t].prototype;
				for (a in n) s.plugins[a] = s.plugins[a] || [], s.plugins[a].push([i, n[a]])
			},
			call: function(e, t, i, n) {
				var a, s = e.plugins[t];
				if (s && (n || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType))
					for (a = 0; a < s.length; a++) e.options[s[a][0]] && s[a][1].apply(e.element, i)
			}
		}
	}),
	function(e) {
		"function" == typeof define && define.amd ? define("vendor/datepicker", ["jquery", "./core"], e) : e(jQuery)
	}(function(e) {
		function t(e) {
			for (var t, i; e.length && e[0] !== document;) {
				if (t = e.css("position"), ("absolute" === t || "relative" === t || "fixed" === t) && (i = parseInt(e.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i;
				e = e.parent()
			}
			return 0
		}

		function i() {
			this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
				closeText: "Done",
				prevText: "Prev",
				nextText: "Next",
				currentText: "Today",
				monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
				monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
				dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
				dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
				dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
				weekHeader: "Wk",
				dateFormat: "mm/dd/yy",
				firstDay: 0,
				isRTL: !1,
				showMonthAfterYear: !1,
				yearSuffix: ""
			}, this._defaults = {
				showOn: "focus",
				showAnim: "fadeIn",
				showOptions: {},
				defaultDate: null,
				appendText: "",
				buttonText: "...",
				buttonImage: "",
				buttonImageOnly: !1,
				hideIfNoPrevNext: !1,
				navigationAsDateFormat: !1,
				gotoCurrent: !1,
				changeMonth: !1,
				changeYear: !1,
				yearRange: "c-10:c+10",
				showOtherMonths: !1,
				selectOtherMonths: !1,
				showWeek: !1,
				calculateWeek: this.iso8601Week,
				shortYearCutoff: "+10",
				minDate: null,
				maxDate: null,
				duration: "fast",
				beforeShowDay: null,
				beforeShow: null,
				onSelect: null,
				onChangeMonthYear: null,
				onClose: null,
				numberOfMonths: 1,
				showCurrentAtPos: 0,
				stepMonths: 1,
				stepBigMonths: 12,
				altField: "",
				altFormat: "",
				constrainInput: !0,
				showButtonPanel: !1,
				autoSize: !1,
				disabled: !1
			}, e.extend(this._defaults, this.regional[""]), this.regional.en = e.extend(!0, {}, this.regional[""]), this.regional["en-US"] = e.extend(!0, {}, this.regional.en), this.dpDiv = n(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
		}

		function n(t) {
			var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
			return t.delegate(i, "mouseout", function() {
				e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
			}).delegate(i, "mouseover", function() {
				e.datepicker._isDisabledDatepicker(s.inline ? t.parent()[0] : s.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
			})
		}

		function a(t, i) {
			e.extend(t, i);
			for (var n in i) null == i[n] && (t[n] = i[n]);
			return t
		}
		e.extend(e.ui, {
			datepicker: {
				version: "1.11.0"
			}
		});
		var s;
		return e.extend(i.prototype, {
			markerClassName: "hasDatepicker",
			maxRows: 4,
			_widgetDatepicker: function() {
				return this.dpDiv
			},
			setDefaults: function(e) {
				return a(this._defaults, e || {}), this
			},
			_attachDatepicker: function(t, i) {
				var n, a, s;
				n = t.nodeName.toLowerCase(), a = "div" === n || "span" === n, t.id || (this.uuid += 1, t.id = "dp" + this.uuid), s = this._newInst(e(t), a), s.settings = e.extend({}, i || {}), "input" === n ? this._connectDatepicker(t, s) : a && this._inlineDatepicker(t, s)
			},
			_newInst: function(t, i) {
				var a = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
				return {
					id: a,
					input: t,
					selectedDay: 0,
					selectedMonth: 0,
					selectedYear: 0,
					drawMonth: 0,
					drawYear: 0,
					inline: i,
					dpDiv: i ? n(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
				}
			},
			_connectDatepicker: function(t, i) {
				var n = e(t);
				i.append = e([]), i.trigger = e([]), n.hasClass(this.markerClassName) || (this._attachments(n, i), n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), e.data(t, "datepicker", i), i.settings.disabled && this._disableDatepicker(t))
			},
			_attachments: function(t, i) {
				var n, a, s, r = this._get(i, "appendText"),
					o = this._get(i, "isRTL");
				i.append && i.append.remove(), r && (i.append = e("<span class='" + this._appendClass + "'>" + r + "</span>"), t[o ? "before" : "after"](i.append)), t.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), n = this._get(i, "showOn"), ("focus" === n || "both" === n) && t.focus(this._showDatepicker), ("button" === n || "both" === n) && (a = this._get(i, "buttonText"), s = this._get(i, "buttonImage"), i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
					src: s,
					alt: a,
					title: a
				}) : e("<button type='button'></button>").addClass(this._triggerClass).html(s ? e("<img/>").attr({
					src: s,
					alt: a,
					title: a
				}) : a)), t[o ? "before" : "after"](i.trigger), i.trigger.click(function() {
					return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1
				}))
			},
			_autoSize: function(e) {
				if (this._get(e, "autoSize") && !e.inline) {
					var t, i, n, a, s = new Date(2009, 11, 20),
						r = this._get(e, "dateFormat");
					r.match(/[DM]/) && (t = function(e) {
						for (i = 0, n = 0, a = 0; a < e.length; a++) e[a].length > i && (i = e[a].length, n = a);
						return n
					}, s.setMonth(t(this._get(e, r.match(/MM/) ? "monthNames" : "monthNamesShort"))), s.setDate(t(this._get(e, r.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - s.getDay())), e.input.attr("size", this._formatDate(e, s).length)
				}
			},
			_inlineDatepicker: function(t, i) {
				var n = e(t);
				n.hasClass(this.markerClassName) || (n.addClass(this.markerClassName).append(i.dpDiv), e.data(t, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i),
					i.settings.disabled && this._disableDatepicker(t), i.dpDiv.css("display", "block"))
			},
			_dialogDatepicker: function(t, i, n, s, r) {
				var o, l, c, d, u, h = this._dialogInst;
				return h || (this.uuid += 1, o = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + o + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), h = this._dialogInst = this._newInst(this._dialogInput, !1), h.settings = {}, e.data(this._dialogInput[0], "datepicker", h)), a(h.settings, s || {}), i = i && i.constructor === Date ? this._formatDate(h, i) : i, this._dialogInput.val(i), this._pos = r ? r.length ? r : [r.pageX, r.pageY] : null, this._pos || (l = document.documentElement.clientWidth, c = document.documentElement.clientHeight, d = document.documentElement.scrollLeft || document.body.scrollLeft, u = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [l / 2 - 100 + d, c / 2 - 150 + u]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), h.settings.onSelect = n, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], "datepicker", h), this
			},
			_destroyDatepicker: function(t) {
				var i, n = e(t),
					a = e.data(t, "datepicker");
				n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), e.removeData(t, "datepicker"), "input" === i ? (a.append.remove(), a.trigger.remove(), n.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && n.removeClass(this.markerClassName).empty())
			},
			_enableDatepicker: function(t) {
				var i, n, a = e(t),
					s = e.data(t, "datepicker");
				a.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !1, s.trigger.filter("button").each(function() {
					this.disabled = !1
				}).end().filter("img").css({
					opacity: "1.0",
					cursor: ""
				})) : ("div" === i || "span" === i) && (n = a.children("." + this._inlineClass), n.children().removeClass("ui-state-disabled"), n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
					return e === t ? null : e
				}))
			},
			_disableDatepicker: function(t) {
				var i, n, a = e(t),
					s = e.data(t, "datepicker");
				a.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !0, s.trigger.filter("button").each(function() {
					this.disabled = !0
				}).end().filter("img").css({
					opacity: "0.5",
					cursor: "default"
				})) : ("div" === i || "span" === i) && (n = a.children("." + this._inlineClass), n.children().addClass("ui-state-disabled"), n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
					return e === t ? null : e
				}), this._disabledInputs[this._disabledInputs.length] = t)
			},
			_isDisabledDatepicker: function(e) {
				if (!e) return !1;
				for (var t = 0; t < this._disabledInputs.length; t++)
					if (this._disabledInputs[t] === e) return !0;
				return !1
			},
			_getInst: function(t) {
				try {
					return e.data(t, "datepicker")
				} catch (i) {
					throw "Missing instance data for this datepicker"
				}
			},
			_optionDatepicker: function(t, i, n) {
				var s, r, o, l, c = this._getInst(t);
				return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? e.extend({}, e.datepicker._defaults) : c ? "all" === i ? e.extend({}, c.settings) : this._get(c, i) : null : (s = i || {}, "string" == typeof i && (s = {}, s[i] = n), void(c && (this._curInst === c && this._hideDatepicker(), r = this._getDateDatepicker(t, !0), o = this._getMinMaxDate(c, "min"), l = this._getMinMaxDate(c, "max"), a(c.settings, s), null !== o && void 0 !== s.dateFormat && void 0 === s.minDate && (c.settings.minDate = this._formatDate(c, o)), null !== l && void 0 !== s.dateFormat && void 0 === s.maxDate && (c.settings.maxDate = this._formatDate(c, l)), "disabled" in s && (s.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(e(t), c), this._autoSize(c), this._setDate(c, r), this._updateAlternate(c), this._updateDatepicker(c))))
			},
			_changeDatepicker: function(e, t, i) {
				this._optionDatepicker(e, t, i)
			},
			_refreshDatepicker: function(e) {
				var t = this._getInst(e);
				t && this._updateDatepicker(t)
			},
			_setDateDatepicker: function(e, t) {
				var i = this._getInst(e);
				i && (this._setDate(i, t), this._updateDatepicker(i), this._updateAlternate(i))
			},
			_getDateDatepicker: function(e, t) {
				var i = this._getInst(e);
				return i && !i.inline && this._setDateFromField(i, t), i ? this._getDate(i) : null
			},
			_doKeyDown: function(t) {
				var i, n, a, s = e.datepicker._getInst(t.target),
					r = !0,
					o = s.dpDiv.is(".ui-datepicker-rtl");
				if (s._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) {
					case 9:
						e.datepicker._hideDatepicker(), r = !1;
						break;
					case 13:
						return a = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", s.dpDiv), a[0] && e.datepicker._selectDay(t.target, s.selectedMonth, s.selectedYear, a[0]), i = e.datepicker._get(s, "onSelect"), i ? (n = e.datepicker._formatDate(s), i.apply(s.input ? s.input[0] : null, [n, s])) : e.datepicker._hideDatepicker(), !1;
					case 27:
						e.datepicker._hideDatepicker();
						break;
					case 33:
						e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
						break;
					case 34:
						e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
						break;
					case 35:
						(t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), r = t.ctrlKey || t.metaKey;
						break;
					case 36:
						(t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), r = t.ctrlKey || t.metaKey;
						break;
					case 37:
						(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, o ? 1 : -1, "D"), r = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");
						break;
					case 38:
						(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), r = t.ctrlKey || t.metaKey;
						break;
					case 39:
						(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, o ? -1 : 1, "D"), r = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");
						break;
					case 40:
						(t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), r = t.ctrlKey || t.metaKey;
						break;
					default:
						r = !1
				} else 36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : r = !1;
				r && (t.preventDefault(), t.stopPropagation())
			},
			_doKeyPress: function(t) {
				var i, n, a = e.datepicker._getInst(t.target);
				return e.datepicker._get(a, "constrainInput") ? (i = e.datepicker._possibleChars(e.datepicker._get(a, "dateFormat")), n = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || " " > n || !i || i.indexOf(n) > -1) : void 0
			},
			_doKeyUp: function(t) {
				var i, n = e.datepicker._getInst(t.target);
				if (n.input.val() !== n.lastVal) try {
					i = e.datepicker.parseDate(e.datepicker._get(n, "dateFormat"), n.input ? n.input.val() : null, e.datepicker._getFormatConfig(n)), i && (e.datepicker._setDateFromField(n), e.datepicker._updateAlternate(n), e.datepicker._updateDatepicker(n))
				} catch (a) {}
				return !0
			},
			_showDatepicker: function(i) {
				if (i = i.target || i, "input" !== i.nodeName.toLowerCase() && (i = e("input", i.parentNode)[0]), !e.datepicker._isDisabledDatepicker(i) && e.datepicker._lastInput !== i) {
					var n, s, r, o, l, c, d;
					n = e.datepicker._getInst(i), e.datepicker._curInst && e.datepicker._curInst !== n && (e.datepicker._curInst.dpDiv.stop(!0, !0), n && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), s = e.datepicker._get(n, "beforeShow"), r = s ? s.apply(i, [i, n]) : {}, r !== !1 && (a(n.settings, r), n.lastVal = null, e.datepicker._lastInput = i, e.datepicker._setDateFromField(n), e.datepicker._inDialog && (i.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(i), e.datepicker._pos[1] += i.offsetHeight), o = !1, e(i).parents().each(function() {
						return o |= "fixed" === e(this).css("position"), !o
					}), l = {
						left: e.datepicker._pos[0],
						top: e.datepicker._pos[1]
					}, e.datepicker._pos = null, n.dpDiv.empty(), n.dpDiv.css({
						position: "absolute",
						display: "block",
						top: "-1000px"
					}), e.datepicker._updateDatepicker(n), l = e.datepicker._checkOffset(n, l, o), n.dpDiv.css({
						position: e.datepicker._inDialog && e.blockUI ? "static" : o ? "fixed" : "absolute",
						display: "none",
						left: l.left + "px",
						top: l.top + "px"
					}), n.inline || (c = e.datepicker._get(n, "showAnim"), d = e.datepicker._get(n, "duration"), n.dpDiv.css("z-index", t(e(i)) + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[c] ? n.dpDiv.show(c, e.datepicker._get(n, "showOptions"), d) : n.dpDiv[c || "show"](c ? d : null), e.datepicker._shouldFocusInput(n) && n.input.focus(), e.datepicker._curInst = n))
				}
			},
			_updateDatepicker: function(t) {
				this.maxRows = 4, s = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t), t.dpDiv.find("." + this._dayOverClass + " a");
				var i, n = this._getNumberOfMonths(t),
					a = n[1],
					r = 17;
				t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), a > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + a).css("width", r * a + "em"), t.dpDiv[(1 !== n[0] || 1 !== n[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(), t.yearshtml && (i = t.yearshtml, setTimeout(function() {
					i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), i = t.yearshtml = null
				}, 0))
			},
			_shouldFocusInput: function(e) {
				return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
			},
			_checkOffset: function(t, i, n) {
				var a = t.dpDiv.outerWidth(),
					s = t.dpDiv.outerHeight(),
					r = t.input ? t.input.outerWidth() : 0,
					o = t.input ? t.input.outerHeight() : 0,
					l = document.documentElement.clientWidth + (n ? 0 : e(document).scrollLeft()),
					c = document.documentElement.clientHeight + (n ? 0 : e(document).scrollTop());
				return i.left -= this._get(t, "isRTL") ? a - r : 0, i.left -= n && i.left === t.input.offset().left ? e(document).scrollLeft() : 0, i.top -= n && i.top === t.input.offset().top + o ? e(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + a > l && l > a ? Math.abs(i.left + a - l) : 0), i.top -= Math.min(i.top, i.top + s > c && c > s ? Math.abs(s + o) : 0), i
			},
			_findPos: function(t) {
				for (var i, n = this._getInst(t), a = this._get(n, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t));) t = t[a ? "previousSibling" : "nextSibling"];
				return i = e(t).offset(), [i.left, i.top]
			},
			_hideDatepicker: function(t) {
				var i, n, a, s, r = this._curInst;
				!r || t && r !== e.data(t, "datepicker") || this._datepickerShowing && (i = this._get(r, "showAnim"), n = this._get(r, "duration"), a = function() {
					e.datepicker._tidyDialog(r)
				}, e.effects && (e.effects.effect[i] || e.effects[i]) ? r.dpDiv.hide(i, e.datepicker._get(r, "showOptions"), n, a) : r.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? n : null, a), i || a(), this._datepickerShowing = !1, s = this._get(r, "onClose"), s && s.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
					position: "absolute",
					left: "0",
					top: "-100px"
				}), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1)
			},
			_tidyDialog: function(e) {
				e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
			},
			_checkExternalClick: function(t) {
				if (e.datepicker._curInst) {
					var i = e(t.target),
						n = e.datepicker._getInst(i[0]);
					(i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== n) && e.datepicker._hideDatepicker()
				}
			},
			_adjustDate: function(t, i, n) {
				var a = e(t),
					s = this._getInst(a[0]);
				this._isDisabledDatepicker(a[0]) || (this._adjustInstDate(s, i + ("M" === n ? this._get(s, "showCurrentAtPos") : 0), n), this._updateDatepicker(s))
			},
			_gotoToday: function(t) {
				var i, n = e(t),
					a = this._getInst(n[0]);
				this._get(a, "gotoCurrent") && a.currentDay ? (a.selectedDay = a.currentDay, a.drawMonth = a.selectedMonth = a.currentMonth, a.drawYear = a.selectedYear = a.currentYear) : (i = new Date, a.selectedDay = i.getDate(), a.drawMonth = a.selectedMonth = i.getMonth(), a.drawYear = a.selectedYear = i.getFullYear()), this._notifyChange(a), this._adjustDate(n)
			},
			_selectMonthYear: function(t, i, n) {
				var a = e(t),
					s = this._getInst(a[0]);
				s["selected" + ("M" === n ? "Month" : "Year")] = s["draw" + ("M" === n ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(s), this._adjustDate(a)
			},
			_selectDay: function(t, i, n, a) {
				var s, r = e(t);
				e(a).hasClass(this._unselectableClass) || this._isDisabledDatepicker(r[0]) || (s = this._getInst(r[0]), s.selectedDay = s.currentDay = e("a", a).html(), s.selectedMonth = s.currentMonth = i, s.selectedYear = s.currentYear = n, this._selectDate(t, this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear), e(a)))
			},
			_clearDate: function(t) {
				var i = e(t);
				this._selectDate(i, "")
			},
			_selectDate: function(t, i, n) {
				var a, s = e(t),
					r = this._getInst(s[0]);
				i = null != i ? i : this._formatDate(r), r.input && r.input.val(i), this._updateAlternate(r), a = this._get(r, "onSelect"), a ? a.apply(r.input ? r.input[0] : null, [i, r, n]) : r.input && r.input.trigger("change");
				var o = this._get(r, "dontRefreshOnSelection");
				o || (r.inline ? this._updateDatepicker(r) : (this._hideDatepicker(), this._lastInput = r.input[0], "object" != typeof r.input[0] && r.input.focus(), this._lastInput = null))
			},
			_updateAlternate: function(t) {
				var i, n, a, s = this._get(t, "altField");
				s && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"), n = this._getDate(t), a = this.formatDate(i, n, this._getFormatConfig(t)), e(s).each(function() {
					e(this).val(a)
				}))
			},
			noWeekends: function(e) {
				var t = e.getDay();
				return [t > 0 && 6 > t, ""]
			},
			iso8601Week: function(e) {
				var t, i = new Date(e.getTime());
				return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), t = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((t - i) / 864e5) / 7) + 1
			},
			parseDate: function(t, i, n) {
				if (null == t || null == i) throw "Invalid arguments";
				if (i = "object" == typeof i ? i.toString() : i + "", "" === i) return null;
				var a, s, r, o, l = 0,
					c = (n ? n.shortYearCutoff : null) || this._defaults.shortYearCutoff,
					d = "string" != typeof c ? c : (new Date).getFullYear() % 100 + parseInt(c, 10),
					u = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
					h = (n ? n.dayNames : null) || this._defaults.dayNames,
					p = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
					f = (n ? n.monthNames : null) || this._defaults.monthNames,
					m = -1,
					g = -1,
					v = -1,
					y = -1,
					b = !1,
					w = function(e) {
						var i = a + 1 < t.length && t.charAt(a + 1) === e;
						return i && a++, i
					},
					x = function(e) {
						var t = w(e),
							n = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2,
							a = new RegExp("^\\d{1," + n + "}"),
							s = i.substring(l).match(a);
						if (!s) throw "Missing number at position " + l;
						return l += s[0].length, parseInt(s[0], 10)
					},
					k = function(t, n, a) {
						var s = -1,
							r = e.map(w(t) ? a : n, function(e, t) {
								return [
									[t, e]
								]
							}).sort(function(e, t) {
								return -(e[1].length - t[1].length)
							});
						if (e.each(r, function(e, t) {
								var n = t[1];
								return i.substr(l, n.length).toLowerCase() === n.toLowerCase() ? (s = t[0], l += n.length, !1) : void 0
							}), -1 !== s) return s + 1;
						throw "Unknown name at position " + l
					},
					C = function() {
						if (i.charAt(l) !== t.charAt(a)) throw "Unexpected literal at position " + l;
						l++
					};
				for (a = 0; a < t.length; a++)
					if (b) "'" !== t.charAt(a) || w("'") ? C() : b = !1;
					else switch (t.charAt(a)) {
						case "d":
							v = x("d");
							break;
						case "D":
							k("D", u, h);
							break;
						case "o":
							y = x("o");
							break;
						case "m":
							g = x("m");
							break;
						case "M":
							g = k("M", p, f);
							break;
						case "y":
							m = x("y");
							break;
						case "@":
							o = new Date(x("@")), m = o.getFullYear(), g = o.getMonth() + 1, v = o.getDate();
							break;
						case "!":
							o = new Date((x("!") - this._ticksTo1970) / 1e4), m = o.getFullYear(), g = o.getMonth() + 1, v = o.getDate();
							break;
						case "'":
							w("'") ? C() : b = !0;
							break;
						default:
							C()
					}
					if (l < i.length && (r = i.substr(l), !/^\s+/.test(r))) throw "Extra/unparsed characters found in date: " + r;
				if (-1 === m ? m = (new Date).getFullYear() : 100 > m && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (d >= m ? 0 : -100)), y > -1)
					for (g = 1, v = y;;) {
						if (s = this._getDaysInMonth(m, g - 1), s >= v) break;
						g++, v -= s
					}
				if (o = this._daylightSavingAdjust(new Date(m, g - 1, v)), o.getFullYear() !== m || o.getMonth() + 1 !== g || o.getDate() !== v) throw "Invalid date";
				return o
			},
			ATOM: "yy-mm-dd",
			COOKIE: "D, dd M yy",
			ISO_8601: "yy-mm-dd",
			RFC_822: "D, d M y",
			RFC_850: "DD, dd-M-y",
			RFC_1036: "D, d M y",
			RFC_1123: "D, d M yy",
			RFC_2822: "D, d M yy",
			RSS: "D, d M y",
			TICKS: "!",
			TIMESTAMP: "@",
			W3C: "yy-mm-dd",
			_ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
			formatDate: function(e, t, i) {
				if (!t) return "";
				var n, a = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
					s = (i ? i.dayNames : null) || this._defaults.dayNames,
					r = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
					o = (i ? i.monthNames : null) || this._defaults.monthNames,
					l = function(t) {
						var i = n + 1 < e.length && e.charAt(n + 1) === t;
						return i && n++, i
					},
					c = function(e, t, i) {
						var n = "" + t;
						if (l(e))
							for (; n.length < i;) n = "0" + n;
						return n
					},
					d = function(e, t, i, n) {
						return l(e) ? n[t] : i[t]
					},
					u = "",
					h = !1;
				if (t)
					for (n = 0; n < e.length; n++)
						if (h) "'" !== e.charAt(n) || l("'") ? u += e.charAt(n) : h = !1;
						else switch (e.charAt(n)) {
							case "d":
								u += c("d", t.getDate(), 2);
								break;
							case "D":
								u += d("D", t.getDay(), a, s);
								break;
							case "o":
								u += c("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
								break;
							case "m":
								u += c("m", t.getMonth() + 1, 2);
								break;
							case "M":
								u += d("M", t.getMonth(), r, o);
								break;
							case "y":
								u += l("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;
								break;
							case "@":
								u += t.getTime();
								break;
							case "!":
								u += 1e4 * t.getTime() + this._ticksTo1970;
								break;
							case "'":
								l("'") ? u += "'" : h = !0;
								break;
							default:
								u += e.charAt(n)
						}
						return u
			},
			_possibleChars: function(e) {
				var t, i = "",
					n = !1,
					a = function(i) {
						var n = t + 1 < e.length && e.charAt(t + 1) === i;
						return n && t++, n
					};
				for (t = 0; t < e.length; t++)
					if (n) "'" !== e.charAt(t) || a("'") ? i += e.charAt(t) : n = !1;
					else switch (e.charAt(t)) {
						case "d":
						case "m":
						case "y":
						case "@":
							i += "0123456789";
							break;
						case "D":
						case "M":
							return null;
						case "'":
							a("'") ? i += "'" : n = !0;
							break;
						default:
							i += e.charAt(t)
					}
					return i
			},
			_get: function(e, t) {
				return void 0 !== e.settings[t] ? e.settings[t] : this._defaults[t]
			},
			_setDateFromField: function(e, t) {
				if (e.input.val() !== e.lastVal) {
					var i = this._get(e, "dateFormat"),
						n = e.lastVal = e.input ? e.input.val() : null,
						a = this._getDefaultDate(e),
						s = a,
						r = this._getFormatConfig(e);
					try {
						s = this.parseDate(i, n, r) || a
					} catch (o) {
						n = t ? "" : n
					}
					e.selectedDay = s.getDate(), e.drawMonth = e.selectedMonth = s.getMonth(), e.drawYear = e.selectedYear = s.getFullYear(), e.currentDay = n ? s.getDate() : 0, e.currentMonth = n ? s.getMonth() : 0, e.currentYear = n ? s.getFullYear() : 0, this._adjustInstDate(e)
				}
			},
			_getDefaultDate: function(e) {
				return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
			},
			_determineDate: function(t, i, n) {
				var a = function(e) {
						var t = new Date;
						return t.setDate(t.getDate() + e), t
					},
					s = function(i) {
						try {
							return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t))
						} catch (n) {}
						for (var a = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, s = a.getFullYear(), r = a.getMonth(), o = a.getDate(), l = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, c = l.exec(i); c;) {
							switch (c[2] || "d") {
								case "d":
								case "D":
									o += parseInt(c[1], 10);
									break;
								case "w":
								case "W":
									o += 7 * parseInt(c[1], 10);
									break;
								case "m":
								case "M":
									r += parseInt(c[1], 10), o = Math.min(o, e.datepicker._getDaysInMonth(s, r));
									break;
								case "y":
								case "Y":
									s += parseInt(c[1], 10), o = Math.min(o, e.datepicker._getDaysInMonth(s, r))
							}
							c = l.exec(i)
						}
						return new Date(s, r, o)
					},
					r = null == i || "" === i ? n : "string" == typeof i ? s(i) : "number" == typeof i ? isNaN(i) ? n : a(i) : new Date(i.getTime());
				return r = r && "Invalid Date" === r.toString() ? n : r, r && (r.setHours(0), r.setMinutes(0), r.setSeconds(0), r.setMilliseconds(0)), this._daylightSavingAdjust(r)
			},
			_daylightSavingAdjust: function(e) {
				return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null
			},
			_setDate: function(e, t, i) {
				var n = !t,
					a = e.selectedMonth,
					s = e.selectedYear,
					r = this._restrictMinMax(e, this._determineDate(e, t, new Date));
				e.selectedDay = e.currentDay = r.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = r.getMonth(), e.drawYear = e.selectedYear = e.currentYear = r.getFullYear(), a === e.selectedMonth && s === e.selectedYear || i || this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(n ? "" : this._formatDate(e))
			},
			_getDate: function(e) {
				var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
				return t
			},
			_attachHandlers: function(t) {
				var i = this._get(t, "stepMonths"),
					n = "#" + t.id.replace(/\\\\/g, "\\");
				t.dpDiv.find("[data-handler]").map(function() {
					var t = {
						prev: function() {
							e.datepicker._adjustDate(n, -i, "M")
						},
						next: function() {
							e.datepicker._adjustDate(n, +i, "M")
						},
						hide: function() {
							e.datepicker._hideDatepicker()
						},
						today: function() {
							e.datepicker._gotoToday(n)
						},
						selectDay: function() {
							return e.datepicker._selectDay(n, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
						},
						selectMonth: function() {
							return e.datepicker._selectMonthYear(n, this, "M"), !1
						},
						selectYear: function() {
							return e.datepicker._selectMonthYear(n, this, "Y"), !1
						}
					};
					e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
				})
			},
			_generateHTML: function(e) {
				var t, i, n, a, s, r, o, l, c, d, u, h, p, f, m, g, v, y, b, w, x, k, C, T, D, S, _, I, A, P, M, E, N, U, O, F, $, R, W, L = new Date,
					H = this._daylightSavingAdjust(new Date(L.getFullYear(), L.getMonth(), L.getDate())),
					j = this._get(e, "isRTL"),
					q = this._get(e, "showButtonPanel"),
					z = this._get(e, "hideIfNoPrevNext"),
					V = this._get(e, "navigationAsDateFormat"),
					B = this._getNumberOfMonths(e),
					Y = this._get(e, "showCurrentAtPos"),
					X = this._get(e, "stepMonths"),
					K = 1 !== B[0] || 1 !== B[1],
					J = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
					G = this._getMinMaxDate(e, "min"),
					Q = this._getMinMaxDate(e, "max"),
					Z = e.drawMonth - Y,
					ee = e.drawYear;
				if (0 > Z && (Z += 12, ee--), Q)
					for (t = this._daylightSavingAdjust(new Date(Q.getFullYear(), Q.getMonth() - B[0] * B[1] + 1, Q.getDate())), t = G && G > t ? G : t; this._daylightSavingAdjust(new Date(ee, Z, 1)) > t;) Z--, 0 > Z && (Z = 11, ee--);
				for (e.drawMonth = Z, e.drawYear = ee, i = this._get(e, "prevText"), i = V ? this.formatDate(i, this._daylightSavingAdjust(new Date(ee, Z - X, 1)), this._getFormatConfig(e)) : i, n = this._canAdjustMonth(e, -1, ee, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (j ? "e" : "w") + "'>" + i + "</span></a>" : z ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (j ? "e" : "w") + "'>" + i + "</span></a>", a = this._get(e, "nextText"), a = V ? this.formatDate(a, this._daylightSavingAdjust(new Date(ee, Z + X, 1)), this._getFormatConfig(e)) : a, s = this._canAdjustMonth(e, 1, ee, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + a + "'><span class='ui-icon ui-icon-circle-triangle-" + (j ? "w" : "e") + "'>" + a + "</span></a>" : z ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + a + "'><span class='ui-icon ui-icon-circle-triangle-" + (j ? "w" : "e") + "'>" + a + "</span></a>", r = this._get(e, "currentText"), o = this._get(e, "gotoCurrent") && e.currentDay ? J : H, r = V ? this.formatDate(r, o, this._getFormatConfig(e)) : r, l = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", c = q ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (j ? l : "") + (this._isInRange(e, o) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + r + "</button>" : "") + (j ? "" : l) + "</div>" : "", d = parseInt(this._get(e, "firstDay"), 10), d = isNaN(d) ? 0 : d, u = this._get(e, "showWeek"), h = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), f = this._get(e, "monthNames"), m = this._get(e, "monthNamesShort"), g = this._get(e, "beforeShowDay"), v = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), w = "", k = 0; k < B[0]; k++) {
					for (C = "", this.maxRows = 4, T = 0; T < B[1]; T++) {
						if (D = this._daylightSavingAdjust(new Date(ee, Z, e.selectedDay)), S = " ui-corner-all", _ = "", K) {
							if (_ += "<div class='ui-datepicker-group", B[1] > 1) switch (T) {
								case 0:
									_ += " ui-datepicker-group-first", S = " ui-corner-" + (j ? "right" : "left");
									break;
								case B[1] - 1:
									_ += " ui-datepicker-group-last", S = " ui-corner-" + (j ? "left" : "right");
									break;
								default:
									_ += " ui-datepicker-group-middle", S = ""
							}
							_ += "'>"
						}
						for (_ += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === k ? j ? s : n : "") + (/all|right/.test(S) && 0 === k ? j ? n : s : "") + this._generateMonthYearHeader(e, Z, ee, G, Q, k > 0 || T > 0, f, m) + "</div><table class='ui-datepicker-calendar'><thead><tr>", I = u ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", x = 0; 7 > x; x++) A = (x + d) % 7, I += "<th scope='col'" + ((x + d + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + h[A] + "'>" + p[A] + "</span></th>";
						for (_ += I + "</tr></thead><tbody>", P = this._getDaysInMonth(ee, Z), ee === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, P)), M = (this._getFirstDayOfMonth(ee, Z) - d + 7) % 7, E = Math.ceil((M + P) / 7), N = K && this.maxRows > E ? this.maxRows : E, this.maxRows = N, U = this._daylightSavingAdjust(new Date(ee, Z, 1 - M)), O = 0; N > O; O++) {
							for (_ += "<tr>", F = u ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(U) + "</td>" : "", x = 0; 7 > x; x++) $ = g ? g.apply(e.input ? e.input[0] : null, [U]) : [!0, ""], R = U.getMonth() !== Z, W = R && !y || !$[0] || G && G > U || Q && U > Q, F += "<td class='" + ((x + d + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (R ? " ui-datepicker-other-month" : "") + (U.getTime() === D.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === U.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (W ? " " + this._unselectableClass + " ui-state-disabled" : "") + (R && !v ? "" : " " + $[1] + (U.getTime() === J.getTime() ? " " + this._currentClass : "") + (U.getTime() === H.getTime() ? " ui-datepicker-today" : "")) + "'" + (R && !v || !$[2] ? "" : " title='" + $[2].replace(/'/g, "&#39;") + "'") + (W ? "" : " data-handler='selectDay' data-event='click' data-month='" + U.getMonth() + "' data-year='" + U.getFullYear() + "'") + ">" + (R && !v ? "&#xa0;" : W ? "<span class='ui-state-default'>" + U.getDate() + "</span>" : "<a class='ui-state-default" + (U.getTime() === H.getTime() ? " ui-state-highlight" : "") + (U.getTime() === J.getTime() ? " ui-state-active" : "") + (R ? " ui-priority-secondary" : "") + "' href='#'>" + U.getDate() + "</a>") + "</td>", U.setDate(U.getDate() + 1), U = this._daylightSavingAdjust(U);
							_ += F + "</tr>"
						}
						Z++, Z > 11 && (Z = 0, ee++), _ += "</tbody></table>" + (K ? "</div>" + (B[0] > 0 && T === B[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), C += _
					}
					w += C
				}
				return w += c, e._keyEvent = !1, w
			},
			_generateMonthYearHeader: function(e, t, i, n, a, s, r, o) {
				var l, c, d, u, h, p, f, m, g = this._get(e, "changeMonth"),
					v = this._get(e, "changeYear"),
					y = this._get(e, "showMonthAfterYear"),
					b = "<div class='ui-datepicker-title'>",
					w = "";
				if (s || !g) w += "<span class='ui-datepicker-month'>" + r[t] + "</span>";
				else {
					for (l = n && n.getFullYear() === i, c = a && a.getFullYear() === i, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", d = 0; 12 > d; d++)(!l || d >= n.getMonth()) && (!c || d <= a.getMonth()) && (w += "<option value='" + d + "'" + (d === t ? " selected='selected'" : "") + ">" + o[d] + "</option>");
					w += "</select>"
				}
				if (y || (b += w + (!s && g && v ? "" : "&#xa0;")), !e.yearshtml)
					if (e.yearshtml = "", s || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>";
					else {
						for (u = this._get(e, "yearRange").split(":"), h = (new Date).getFullYear(), p = function(e) {
								var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? h + parseInt(e, 10) : parseInt(e, 10);
								return isNaN(t) ? h : t
							}, f = p(u[0]), m = Math.max(f, p(u[1] || "")), f = n ? Math.max(f, n.getFullYear()) : f, m = a ? Math.min(m, a.getFullYear()) : m, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= f; f++) e.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
						e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null
					}
				return b += this._get(e, "yearSuffix"), y && (b += (!s && g && v ? "" : "&#xa0;") + w), b += "</div>"
			},
			_adjustInstDate: function(e, t, i) {
				var n = e.drawYear + ("Y" === i ? t : 0),
					a = e.drawMonth + ("M" === i ? t : 0),
					s = Math.min(e.selectedDay, this._getDaysInMonth(n, a)) + ("D" === i ? t : 0),
					r = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(n, a, s)));
				e.selectedDay = r.getDate(), e.drawMonth = e.selectedMonth = r.getMonth(), e.drawYear = e.selectedYear = r.getFullYear(), ("M" === i || "Y" === i) && this._notifyChange(e)
			},
			_restrictMinMax: function(e, t) {
				var i = this._getMinMaxDate(e, "min"),
					n = this._getMinMaxDate(e, "max"),
					a = i && i > t ? i : t;
				return n && a > n ? n : a
			},
			_notifyChange: function(e) {
				var t = this._get(e, "onChangeMonthYear");
				t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
			},
			_getNumberOfMonths: function(e) {
				var t = this._get(e, "numberOfMonths");
				return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
			},
			_getMinMaxDate: function(e, t) {
				return this._determineDate(e, this._get(e, t + "Date"), null)
			},
			_getDaysInMonth: function(e, t) {
				return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
			},
			_getFirstDayOfMonth: function(e, t) {
				return new Date(e, t, 1).getDay()
			},
			_canAdjustMonth: function(e, t, i, n) {
				var a = this._getNumberOfMonths(e),
					s = this._daylightSavingAdjust(new Date(i, n + (0 > t ? t : a[0] * a[1]), 1));
				return 0 > t && s.setDate(this._getDaysInMonth(s.getFullYear(), s.getMonth())), this._isInRange(e, s)
			},
			_isInRange: function(e, t) {
				var i, n, a = this._getMinMaxDate(e, "min"),
					s = this._getMinMaxDate(e, "max"),
					r = null,
					o = null,
					l = this._get(e, "yearRange");
				return l && (i = l.split(":"), n = (new Date).getFullYear(), r = parseInt(i[0], 10), o = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (r += n), i[1].match(/[+\-].*/) && (o += n)), (!a || t.getTime() >= a.getTime()) && (!s || t.getTime() <= s.getTime()) && (!r || t.getFullYear() >= r) && (!o || t.getFullYear() <= o)
			},
			_getFormatConfig: function(e) {
				var t = this._get(e, "shortYearCutoff");
				return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
					shortYearCutoff: t,
					dayNamesShort: this._get(e, "dayNamesShort"),
					dayNames: this._get(e, "dayNames"),
					monthNamesShort: this._get(e, "monthNamesShort"),
					monthNames: this._get(e, "monthNames")
				}
			},
			_formatDate: function(e, t, i, n) {
				t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
				var a = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(n, i, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
				return this.formatDate(this._get(e, "dateFormat"), a, this._getFormatConfig(e))
			}
		}), e.fn.datepicker = function(t) {
			if (!this.length) return this;
			e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), 0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
			var i = Array.prototype.slice.call(arguments, 1);
			return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) : this.each(function() {
				"string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t)
			}) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i))
		}, e.datepicker = new i, e.datepicker.initialized = !1, e.datepicker.uuid = (new Date).getTime(), e.datepicker.version = "1.11.0", e.datepicker
	}), define("search-panel/flyout-controller", ["jquery"], function(e) {
		function t(t) {
			this.opts = e.extend({}, {
				id: "flyingspan",
				target: !1,
				speed: 600,
				fadeSpeed: 400
			}, t), this.init()
		}
		var i = e("body"),
			n = {
				init: function() {},
				flyout: function(t, n) {
					a(), i.append('<span id="' + this.opts.id + '" class="flyingspan" />'), this.flyingspan = e("#" + this.opts.id).hide();
					var s, r, o = t.offset(),
						l = this,
						c = this.opts.target.offset();
					this.targetCss = {
						top: c.top + 15,
						left: c.left
					}, s = o.top - c.top, r = 500 >= s ? this.opts.speed : s > 500 && 700 >= s ? 800 : 1200, this.flyingspan.css({
						top: o.top,
						left: o.left
					}).text(n).show().animate(this.targetCss, r, function() {
						l.flyingspan.fadeOut(l.opts.fadeSpeed, function() {})
					})
				}
			},
			a = function() {
				i.find("span.flyingspan").remove()
			};
		for (var s in n) t.prototype[s] = n[s];
		return t
	}), define("text!search-panel/templates/calendar.hbs", [], function() {
		return '<div class="row">\n	<div class="col-md-4">\n	\n	</div>\n	<div class="col-md-7 txt-right pull-right">\n		<label for="days">{{travelMessage}}</label>\n		<div class="styled-select">\n\n			<select name="select-days" id="select-days">\n				<option value="" data-label="exactly" id="dayDuration"></option>\n				{{#each availableDuration}}\n				<option value="{{days}}" data-durationtype="{{durationType}}" {{#if selected}}selected="selected"{{/if}}>{{duration}}</option>\n				{{/each}}\n			</select>\n\n		</div>\n	</div>\n</div>'
	}), define("text!search-panel/templates/tool-tip.hbs", [], function() {
		return "{{#each toolTipLabels}}\n<div class='disabled-date-tooltip'>\n		<ul>\n			<li><a class='icon-close-circle' href='#'></a>\n				<div class='heading'>{{mainMessage}}</div>\n				<span class='phone'>{{phone}}</span>\n				<span class='time'>{{dateTime}}</span>\n				<a class='show-prev' href='#'>{{prevDate}}</a>\n				<a class='show-next' href='#'>{{nextDate}}</a>\n			</li>\n		</ul>\n		<div class='date-pointer'></div>\n</div>\n{{/each}}";
	}), "function" != typeof Object.create && (Object.create = function(e) {
		function t() {}
		return t.prototype = e, new t
	}),
	function(e, t, i) {
		var n = {
			init: function(t, i) {
				var n = this;
				n.$elem = e(i), n.options = e.extend({}, e.fn.owlCarousel.options, n.$elem.data(), t), n.userOptions = t, n.loadContent()
			},
			loadContent: function() {
				function t(e) {
					var t, i = "";
					if ("function" == typeof n.options.jsonSuccess) n.options.jsonSuccess.apply(this, [e]);
					else {
						for (t in e.owl) e.owl.hasOwnProperty(t) && (i += e.owl[t].item);
						n.$elem.html(i)
					}
					n.logIn()
				}
				var i, n = this;
				"function" == typeof n.options.beforeInit && n.options.beforeInit.apply(this, [n.$elem]), "string" == typeof n.options.jsonPath ? (i = n.options.jsonPath, e.getJSON(i, t)) : n.logIn()
			},
			logIn: function() {
				var e = this;
				e.$elem.data("owl-originalStyles", e.$elem.attr("style")), e.$elem.data("owl-originalClasses", e.$elem.attr("class")), e.$elem.css({
					opacity: 0
				}), e.orignalItems = e.options.items, e.checkBrowser(), e.wrapperWidth = 0, e.checkVisible = null, e.setVars()
			},
			setVars: function() {
				var e = this;
				return 0 === e.$elem.children().length ? !1 : (e.baseClass(), e.eventTypes(), e.$userItems = e.$elem.children(), e.itemsAmount = e.$userItems.length, e.wrapItems(), e.$owlItems = e.$elem.find(".owl-item"), e.$owlWrapper = e.$elem.find(".owl-wrapper"), e.playDirection = "next", e.prevItem = 0, e.prevArr = [0], e.currentItem = 0, e.customEvents(), void e.onStartup())
			},
			onStartup: function() {
				var e = this;
				e.updateItems(), e.calculateAll(), e.buildControls(), e.updateControls(), e.response(), e.moveEvents(), e.stopOnHover(), e.owlStatus(), e.options.transitionStyle !== !1 && e.transitionTypes(e.options.transitionStyle), e.options.autoPlay === !0 && (e.options.autoPlay = 5e3), e.play(), e.$elem.find(".owl-wrapper").css("display", "block"), e.$elem.is(":visible") ? e.$elem.css("opacity", 1) : e.watchVisibility(), e.onstartup = !1, e.eachMoveUpdate(), "function" == typeof e.options.afterInit && e.options.afterInit.apply(this, [e.$elem])
			},
			eachMoveUpdate: function() {
				var e = this;
				e.options.lazyLoad === !0 && e.lazyLoad(), e.options.autoHeight === !0 && e.autoHeight(), e.onVisibleItems(), "function" == typeof e.options.afterAction && e.options.afterAction.apply(this, [e.$elem])
			},
			updateVars: function() {
				var e = this;
				"function" == typeof e.options.beforeUpdate && e.options.beforeUpdate.apply(this, [e.$elem]), e.watchVisibility(), e.updateItems(), e.calculateAll(), e.updatePosition(), e.updateControls(), e.eachMoveUpdate(), "function" == typeof e.options.afterUpdate && e.options.afterUpdate.apply(this, [e.$elem])
			},
			reload: function() {
				var e = this;
				t.setTimeout(function() {
					e.updateVars()
				}, 0)
			},
			watchVisibility: function() {
				var e = this;
				return e.$elem.is(":visible") !== !1 ? !1 : (e.$elem.css({
					opacity: 0
				}), t.clearInterval(e.autoPlayInterval), t.clearInterval(e.checkVisible), void(e.checkVisible = t.setInterval(function() {
					e.$elem.is(":visible") && (e.reload(), e.$elem.animate({
						opacity: 1
					}, 200), t.clearInterval(e.checkVisible))
				}, 500)))
			},
			wrapItems: function() {
				var e = this;
				e.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'), e.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'), e.wrapperOuter = e.$elem.find(".owl-wrapper-outer"), e.$elem.css("display", "block")
			},
			baseClass: function() {
				var e = this,
					t = e.$elem.hasClass(e.options.baseClass),
					i = e.$elem.hasClass(e.options.theme);
				t || e.$elem.addClass(e.options.baseClass), i || e.$elem.addClass(e.options.theme)
			},
			updateItems: function() {
				var t, i, n = this;
				if (n.options.responsive === !1) return !1;
				if (n.options.singleItem === !0) return n.options.items = n.orignalItems = 1, n.options.itemsCustom = !1, n.options.itemsDesktop = !1, n.options.itemsDesktopSmall = !1, n.options.itemsTablet = !1, n.options.itemsTabletSmall = !1, n.options.itemsMobile = !1, !1;
				if (t = e(n.options.responsiveBaseWidth).width(), t > (n.options.itemsDesktop[0] || n.orignalItems) && (n.options.items = n.orignalItems), n.options.itemsCustom !== !1)
					for (n.options.itemsCustom.sort(function(e, t) {
							return e[0] - t[0]
						}), i = 0; i < n.options.itemsCustom.length; i += 1) n.options.itemsCustom[i][0] <= t && (n.options.items = n.options.itemsCustom[i][1]);
				else t <= n.options.itemsDesktop[0] && n.options.itemsDesktop !== !1 && (n.options.items = n.options.itemsDesktop[1]), t <= n.options.itemsDesktopSmall[0] && n.options.itemsDesktopSmall !== !1 && (n.options.items = n.options.itemsDesktopSmall[1]), t <= n.options.itemsTablet[0] && n.options.itemsTablet !== !1 && (n.options.items = n.options.itemsTablet[1]), t <= n.options.itemsTabletSmall[0] && n.options.itemsTabletSmall !== !1 && (n.options.items = n.options.itemsTabletSmall[1]), t <= n.options.itemsMobile[0] && n.options.itemsMobile !== !1 && (n.options.items = n.options.itemsMobile[1]);
				n.options.items > n.itemsAmount && n.options.itemsScaleUp === !0 && (n.options.items = n.itemsAmount)
			},
			response: function() {
				var i, n, a = this;
				return a.options.responsive !== !0 ? !1 : (n = e(t).width(), a.resizer = function() {
					e(t).width() !== n && (a.options.autoPlay !== !1 && t.clearInterval(a.autoPlayInterval), t.clearTimeout(i), i = t.setTimeout(function() {
						n = e(t).width(), a.updateVars()
					}, a.options.responsiveRefreshRate))
				}, void e(t).resize(a.resizer))
			},
			updatePosition: function() {
				var e = this;
				e.jumpTo(e.currentItem), e.options.autoPlay !== !1 && e.checkAp()
			},
			appendItemsSizes: function() {
				var t = this,
					i = 0,
					n = t.itemsAmount - t.options.items;
				t.$owlItems.each(function(a) {
					var s = e(this);
					s.css({
						width: t.itemWidth
					}).data("owl-item", Number(a)), (a % t.options.items === 0 || a === n) && (a > n || (i += 1)), s.data("owl-roundPages", i)
				})
			},
			appendWrapperSizes: function() {
				var e = this,
					t = e.$owlItems.length * e.itemWidth;
				e.$owlWrapper.css({
					width: 2 * t,
					left: 0
				}), e.appendItemsSizes()
			},
			calculateAll: function() {
				var e = this;
				e.calculateWidth(), e.appendWrapperSizes(), e.loops(), e.max()
			},
			calculateWidth: function() {
				var e = this;
				e.itemWidth = Math.round(e.$elem.width() / e.options.items)
			},
			max: function() {
				var e = this,
					t = -1 * (e.itemsAmount * e.itemWidth - e.options.items * e.itemWidth);
				return e.options.items > e.itemsAmount ? (e.maximumItem = 0, t = 0, e.maximumPixels = 0) : (e.maximumItem = e.itemsAmount - e.options.items, e.maximumPixels = t), t
			},
			min: function() {
				return 0
			},
			loops: function() {
				var t, i, n, a = this,
					s = 0,
					r = 0;
				for (a.positionsInArray = [0], a.pagesInArray = [], t = 0; t < a.itemsAmount; t += 1) r += a.itemWidth, a.positionsInArray.push(-r), a.options.scrollPerPage === !0 && (i = e(a.$owlItems[t]), n = i.data("owl-roundPages"), n !== s && (a.pagesInArray[s] = a.positionsInArray[t], s = n))
			},
			buildControls: function() {
				var t = this;
				(t.options.navigation === !0 || t.options.pagination === !0) && (t.owlControls = e('<div class="owl-controls"/>').toggleClass("clickable", !t.browser.isTouch).appendTo(t.$elem)), t.options.pagination === !0 && t.buildPagination(), t.options.navigation === !0 && t.buildButtons()
			},
			buildButtons: function() {
				var t = this,
					i = e('<div class="owl-buttons"/>');
				t.owlControls.append(i), t.buttonPrev = e("<div/>", {
					"class": "owl-prev",
					html: t.options.navigationText[0] || ""
				}), t.buttonNext = e("<div/>", {
					"class": "owl-next",
					html: t.options.navigationText[1] || ""
				}), i.append(t.buttonPrev).append(t.buttonNext), i.on("touchstart.owlControls mousedown.owlControls", 'div[class^="owl"]', function(e) {
					e.preventDefault()
				}), i.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]', function(i) {
					i.preventDefault(), e(this).hasClass("owl-next") ? t.next() : t.prev()
				})
			},
			buildPagination: function() {
				var t = this;
				t.paginationWrapper = e('<div class="owl-pagination"/>'), t.owlControls.append(t.paginationWrapper), t.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page", function(i) {
					i.preventDefault(), Number(e(this).data("owl-page")) !== t.currentItem && t.goTo(Number(e(this).data("owl-page")), !0)
				})
			},
			updatePagination: function() {
				var t, i, n, a, s, r, o = this;
				if (o.options.pagination === !1) return !1;
				for (o.paginationWrapper.html(""), t = 0, i = o.itemsAmount - o.itemsAmount % o.options.items, a = 0; a < o.itemsAmount; a += 1) a % o.options.items === 0 && (t += 1, i === a && (n = o.itemsAmount - o.options.items), s = e("<div/>", {
					"class": "owl-page"
				}), r = e("<span></span>", {
					text: o.options.paginationNumbers === !0 ? t : "",
					"class": o.options.paginationNumbers === !0 ? "owl-numbers" : ""
				}), s.append(r), s.data("owl-page", i === a ? n : a), s.data("owl-roundPages", t), o.paginationWrapper.append(s));
				o.checkPagination()
			},
			checkPagination: function() {
				var t = this;
				return t.options.pagination === !1 ? !1 : void t.paginationWrapper.find(".owl-page").each(function() {
					e(this).data("owl-roundPages") === e(t.$owlItems[t.currentItem]).data("owl-roundPages") && (t.paginationWrapper.find(".owl-page").removeClass("active"), e(this).addClass("active"))
				})
			},
			checkNavigation: function() {
				var e = this;
				return e.options.navigation === !1 ? !1 : void(e.options.rewindNav === !1 && (0 === e.currentItem && 0 === e.maximumItem ? (e.buttonPrev.addClass("disabled"), e.buttonNext.addClass("disabled")) : 0 === e.currentItem && 0 !== e.maximumItem ? (e.buttonPrev.addClass("disabled"), e.buttonNext.removeClass("disabled")) : e.currentItem === e.maximumItem ? (e.buttonPrev.removeClass("disabled"), e.buttonNext.addClass("disabled")) : 0 !== e.currentItem && e.currentItem !== e.maximumItem && (e.buttonPrev.removeClass("disabled"), e.buttonNext.removeClass("disabled"))))
			},
			updateControls: function() {
				var e = this;
				e.updatePagination(), e.checkNavigation(), e.owlControls && (e.options.items >= e.itemsAmount ? e.owlControls.hide() : e.owlControls.show())
			},
			destroyControls: function() {
				var e = this;
				e.owlControls && e.owlControls.remove()
			},
			next: function(e) {
				var t = this;
				if (t.isTransition) return !1;
				if (t.currentItem += t.options.scrollPerPage === !0 ? t.options.items : 1, t.currentItem > t.maximumItem + (t.options.scrollPerPage === !0 ? t.options.items - 1 : 0)) {
					if (t.options.rewindNav !== !0) return t.currentItem = t.maximumItem, !1;
					t.currentItem = 0, e = "rewind"
				}
				t.goTo(t.currentItem, e)
			},
			prev: function(e) {
				var t = this;
				if (t.isTransition) return !1;
				if (t.options.scrollPerPage === !0 && t.currentItem > 0 && t.currentItem < t.options.items ? t.currentItem = 0 : t.currentItem -= t.options.scrollPerPage === !0 ? t.options.items : 1, t.currentItem < 0) {
					if (t.options.rewindNav !== !0) return t.currentItem = 0, !1;
					t.currentItem = t.maximumItem, e = "rewind"
				}
				t.goTo(t.currentItem, e)
			},
			goTo: function(i, n, a) {
				var s, r = this;
				if (r.isTransition) return !1;
				if ("function" == typeof r.options.beforeMove && r.options.beforeMove.apply(this, [r.$elem]), i >= r.maximumItem ? i = r.maximumItem : 0 >= i && (i = 0), r.currentItem = r.owl.currentItem = i, r.options.transitionStyle !== !1 && "drag" !== a && 1 === r.options.items && r.browser.support3d === !0) return r.swapSpeed(0), r.browser.support3d === !0 ? r.transition3d(r.positionsInArray[i]) : r.css2slide(r.positionsInArray[i], 1), r.afterGo(), r.singleItemTransition(), !1;
				if (s = r.positionsInArray[i], r.browser.support3d === !0) {
					r.isCss3Finish = !1, n === !0 ? (r.swapSpeed("paginationSpeed"), t.setTimeout(function() {
						r.isCss3Finish = !0
					}, r.options.paginationSpeed)) : "rewind" === n ? (r.swapSpeed(r.options.rewindSpeed), t.setTimeout(function() {
						r.isCss3Finish = !0
					}, r.options.rewindSpeed)) : (r.swapSpeed("slideSpeed"), t.setTimeout(function() {
						r.isCss3Finish = !0
					}, r.options.slideSpeed));
					var o = r.newRelativeX;
					if (-5 >= o && o >= -25) {
						if (s = r.positionsInArray[i + 1], i + 1 > r.maximumItem) return void e(".owl-next").hide();
						r.currentItem = r.owl.currentItem = i + 1
					}
					r.transition3d(s)
				} else n === !0 ? r.css2slide(s, r.options.paginationSpeed) : "rewind" === n ? r.css2slide(s, r.options.rewindSpeed) : r.css2slide(s, r.options.slideSpeed);
				r.afterGo()
			},
			jumpTo: function(e) {
				var t = this;
				"function" == typeof t.options.beforeMove && t.options.beforeMove.apply(this, [t.$elem]), e >= t.maximumItem || -1 === e ? e = t.maximumItem : 0 >= e && (e = 0), t.swapSpeed(0), t.browser.support3d === !0 ? t.transition3d(t.positionsInArray[e]) : t.css2slide(t.positionsInArray[e], 1), t.currentItem = t.owl.currentItem = e, t.afterGo()
			},
			afterGo: function() {
				var e = this;
				e.prevArr.push(e.currentItem), e.prevItem = e.owl.prevItem = e.prevArr[e.prevArr.length - 2], e.prevArr.shift(0), e.prevItem !== e.currentItem && (e.checkPagination(), e.checkNavigation(), e.eachMoveUpdate(), e.options.autoPlay !== !1 && e.checkAp()), "function" == typeof e.options.afterMove && e.prevItem !== e.currentItem && e.options.afterMove.apply(this, [e.$elem])
			},
			stop: function() {
				var e = this;
				e.apStatus = "stop", t.clearInterval(e.autoPlayInterval)
			},
			checkAp: function() {
				var e = this;
				"stop" !== e.apStatus && e.play()
			},
			play: function() {
				var e = this;
				return e.apStatus = "play", e.options.autoPlay === !1 ? !1 : (t.clearInterval(e.autoPlayInterval), void(e.autoPlayInterval = t.setInterval(function() {
					e.next(!0)
				}, e.options.autoPlay)))
			},
			swapSpeed: function(e) {
				var t = this;
				"slideSpeed" === e ? t.$owlWrapper.css(t.addCssSpeed(t.options.slideSpeed)) : "paginationSpeed" === e ? t.$owlWrapper.css(t.addCssSpeed(t.options.paginationSpeed)) : "string" != typeof e && t.$owlWrapper.css(t.addCssSpeed(e))
			},
			addCssSpeed: function(e) {
				return {
					"-webkit-transition": "all " + e + "ms ease",
					"-moz-transition": "all " + e + "ms ease",
					"-o-transition": "all " + e + "ms ease",
					transition: "all " + e + "ms ease"
				}
			},
			removeTransition: function() {
				return {
					"-webkit-transition": "",
					"-moz-transition": "",
					"-o-transition": "",
					transition: ""
				}
			},
			doTranslate: function(e) {
				return {
					"-webkit-transform": "translate3d(" + e + "px, 0px, 0px)",
					"-moz-transform": "translate3d(" + e + "px, 0px, 0px)",
					"-o-transform": "translate3d(" + e + "px, 0px, 0px)",
					"-ms-transform": "translate3d(" + e + "px, 0px, 0px)",
					transform: "translate3d(" + e + "px, 0px,0px)"
				}
			},
			transition3d: function(e) {
				var t = this;
				t.$owlWrapper.css(t.doTranslate(e))
			},
			css2move: function(e) {
				var t = this;
				t.$owlWrapper.css({
					left: e
				})
			},
			css2slide: function(e, t) {
				var i = this;
				i.isCssFinish = !1, i.$owlWrapper.stop(!0, !0).animate({
					left: e
				}, {
					duration: t || i.options.slideSpeed,
					complete: function() {
						i.isCssFinish = !0
					}
				})
			},
			checkBrowser: function() {
				var e, n, a, s, r = this,
					o = "translate3d(0px, 0px, 0px)",
					l = i.createElement("div");
				l.style.cssText = "  -moz-transform:" + o + "; -ms-transform:" + o + "; -o-transform:" + o + "; -webkit-transform:" + o + "; transform:" + o, e = /translate3d\(0px, 0px, 0px\)/g, n = l.style.cssText.match(e), a = null !== n && 1 === n.length, s = "ontouchstart" in t || t.navigator.msMaxTouchPoints, r.browser = {
					support3d: a,
					isTouch: s
				}
			},
			moveEvents: function() {
				var e = this;
				(e.options.mouseDrag !== !1 || e.options.touchDrag !== !1) && (e.gestures(), e.disabledEvents())
			},
			eventTypes: function() {
				var e = this,
					t = ["s", "e", "x"];
				e.ev_types = {}, e.options.mouseDrag === !0 && e.options.touchDrag === !0 ? t = ["touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl"] : e.options.mouseDrag === !1 && e.options.touchDrag === !0 ? t = ["touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl"] : e.options.mouseDrag === !0 && e.options.touchDrag === !1 && (t = ["mousedown.owl", "mousemove.owl", "mouseup.owl"]), e.ev_types.start = t[0], e.ev_types.move = t[1], e.ev_types.end = t[2]
			},
			disabledEvents: function() {
				var t = this;
				t.$elem.on("dragstart.owl", function(e) {
					e.preventDefault()
				}), t.$elem.on("mousedown.disableTextSelect", function(t) {
					return e(t.target).is("input, textarea, select, option")
				})
			},
			gestures: function() {
				function n(e) {
					if (void 0 !== e.touches) return {
						x: e.touches[0].pageX,
						y: e.touches[0].pageY
					};
					if (void 0 === e.touches) {
						if (void 0 !== e.pageX) return {
							x: e.pageX,
							y: e.pageY
						};
						if (void 0 === e.pageX) return {
							x: e.clientX,
							y: e.clientY
						}
					}
				}

				function a(t) {
					"on" === t ? (e(i).on(l.ev_types.move, r), e(i).on(l.ev_types.end, o)) : "off" === t && (e(i).off(l.ev_types.move), e(i).off(l.ev_types.end))
				}

				function s(i) {
					var s, r = i.originalEvent || i || t.event;
					if (3 === r.which) return !1;
					if (!(l.itemsAmount <= l.options.items)) {
						if (l.isCssFinish === !1 && !l.options.dragBeforeAnimFinish) return !1;
						if (l.isCss3Finish === !1 && !l.options.dragBeforeAnimFinish) return !1;
						l.options.autoPlay !== !1 && t.clearInterval(l.autoPlayInterval), l.browser.isTouch === !0 || l.$owlWrapper.hasClass("grabbing") || l.$owlWrapper.addClass("grabbing"), l.newPosX = 0, l.newRelativeX = 0, e(this).css(l.removeTransition()), s = e(this).position(), c.relativePos = s.left, c.offsetX = n(r).x - s.left, c.offsetY = n(r).y - s.top, a("on"), c.sliding = !1, c.targetElement = r.target || r.srcElement
					}
				}

				function r(a) {
					var s, r, o = a.originalEvent || a || t.event;
					l.newPosX = n(o).x - c.offsetX, l.newPosY = n(o).y - c.offsetY, l.newRelativeX = l.newPosX - c.relativePos, "function" == typeof l.options.startDragging && c.dragging !== !0 && 0 !== l.newRelativeX && (c.dragging = !0, l.options.startDragging.apply(l, [l.$elem])), (l.newRelativeX > 8 || l.newRelativeX < -8) && l.browser.isTouch === !0 && (void 0 !== o.preventDefault ? o.preventDefault() : o.returnValue = !1, c.sliding = !0), (l.newPosY > 10 || l.newPosY < -10) && c.sliding === !1 && e(i).off("touchmove.owl"), s = function() {
						return l.newRelativeX / 5
					}, r = function() {
						return l.maximumPixels + l.newRelativeX / 5
					}, l.newPosX = Math.max(Math.min(l.newPosX, s()), r()), l.browser.support3d === !0 ? l.transition3d(l.newPosX) : l.css2move(l.newPosX)
				}

				function o(i) {
					var n, s, r, o = i.originalEvent || i || t.event;
					o.target = o.target || o.srcElement, c.dragging = !1, l.browser.isTouch !== !0 && l.$owlWrapper.removeClass("grabbing"), l.newRelativeX < 0 ? l.dragDirection = l.owl.dragDirection = "left" : l.dragDirection = l.owl.dragDirection = "right", 0 !== l.newRelativeX && (n = l.getNewPosition(), l.goTo(n, !1, "drag"), c.targetElement === o.target && l.browser.isTouch !== !0 && (e(o.target).on("click.disable", function(t) {
						t.stopImmediatePropagation(), t.stopPropagation(), t.preventDefault(), e(t.target).off("click.disable")
					}), s = e._data(o.target, "events").click, r = s.pop(), s.splice(0, 0, r))), a("off")
				}
				var l = this,
					c = {
						offsetX: 0,
						offsetY: 0,
						baseElWidth: 0,
						relativePos: 0,
						position: null,
						minSwipe: null,
						maxSwipe: null,
						sliding: null,
						dargging: null,
						targetElement: null
					};
				l.isCssFinish = !0, l.$elem.on(l.ev_types.start, ".owl-wrapper", s)
			},
			getNewPosition: function() {
				var e = this,
					t = e.closestItem();
				return t > e.maximumItem ? (e.currentItem = e.maximumItem, t = e.maximumItem) : e.newPosX >= 0 && (t = 0, e.currentItem = 0), t
			},
			closestItem: function() {
				var t = this,
					i = t.options.scrollPerPage === !0 ? t.pagesInArray : t.positionsInArray,
					n = t.newPosX,
					a = null;
				return e.each(i, function(s, r) {
					n - t.itemWidth / 20 > i[s + 1] && n - t.itemWidth / 20 < r && "left" === t.moveDirection() ? (a = r, t.options.scrollPerPage === !0 ? t.currentItem = e.inArray(a, t.positionsInArray) : t.currentItem = s) : n + t.itemWidth / 20 < r && n + t.itemWidth / 20 > (i[s + 1] || i[s] - t.itemWidth) && "right" === t.moveDirection() && (t.options.scrollPerPage === !0 ? (a = i[s + 1] || i[i.length - 1], t.currentItem = e.inArray(a, t.positionsInArray)) : (a = i[s + 1], t.currentItem = s + 1))
				}), t.currentItem
			},
			moveDirection: function() {
				var e, t = this;
				return t.newRelativeX < 0 ? (e = "right", t.playDirection = "next") : (e = "left", t.playDirection = "prev"), e
			},
			customEvents: function() {
				var e = this;
				e.$elem.on("owl.next", function() {
					e.next()
				}), e.$elem.on("owl.prev", function() {
					e.prev()
				}), e.$elem.on("owl.play", function(t, i) {
					e.options.autoPlay = i, e.play(), e.hoverStatus = "play"
				}), e.$elem.on("owl.stop", function() {
					e.stop(), e.hoverStatus = "stop"
				}), e.$elem.on("owl.goTo", function(t, i) {
					e.goTo(i)
				}), e.$elem.on("owl.jumpTo", function(t, i) {
					e.jumpTo(i)
				})
			},
			stopOnHover: function() {
				var e = this;
				e.options.stopOnHover === !0 && e.browser.isTouch !== !0 && e.options.autoPlay !== !1 && (e.$elem.on("mouseover", function() {
					e.stop()
				}), e.$elem.on("mouseout", function() {
					"stop" !== e.hoverStatus && e.play()
				}))
			},
			lazyLoad: function() {
				var t, i, n, a, s, r = this;
				if (r.options.lazyLoad === !1) return !1;
				for (t = 0; t < r.itemsAmount; t += 1) i = e(r.$owlItems[t]), "loaded" !== i.data("owl-loaded") && (n = i.data("owl-item"), a = i.find(".lazyOwl"), "string" == typeof a.data("src") ? (void 0 === i.data("owl-loaded") && (a.hide(), i.addClass("loading").data("owl-loaded", "checked")), s = r.options.lazyFollow === !0 ? n >= r.currentItem : !0, s && n < r.currentItem + r.options.items && a.length && r.lazyPreload(i, a)) : i.data("owl-loaded", "loaded"))
			},
			lazyPreload: function(e, i) {
				function n() {
					e.data("owl-loaded", "loaded").removeClass("loading"), i.removeAttr("data-src"), "fade" === r.options.lazyEffect ? i.fadeIn(400) : i.show(), "function" == typeof r.options.afterLazyLoad && r.options.afterLazyLoad.apply(this, [r.$elem])
				}

				function a() {
					o += 1, r.completeImg(i.get(0)) || s === !0 ? n() : 100 >= o ? t.setTimeout(a, 100) : n()
				}
				var s, r = this,
					o = 0;
				"DIV" === i.prop("tagName") ? (i.css("background-image", "url(" + i.data("src") + ")"), s = !0) : i[0].src = i.data("src"), a()
			},
			autoHeight: function() {
				function i() {
					var i = e(s.$owlItems[s.currentItem]).height();
					s.wrapperOuter.css("height", i + "px"), s.wrapperOuter.hasClass("autoHeight") || t.setTimeout(function() {
						s.wrapperOuter.addClass("autoHeight")
					}, 0)
				}

				function n() {
					a += 1, s.completeImg(r.get(0)) ? i() : 100 >= a ? t.setTimeout(n, 100) : s.wrapperOuter.css("height", "")
				}
				var a, s = this,
					r = e(s.$owlItems[s.currentItem]).find("img");
				void 0 !== r.get(0) ? (a = 0, n()) : i()
			},
			completeImg: function(e) {
				var t;
				return e.complete ? (t = typeof e.naturalWidth, "undefined" !== t && 0 === e.naturalWidth ? !1 : !0) : !1
			},
			onVisibleItems: function() {
				var t, i = this;
				for (i.options.addClassActive === !0 && i.$owlItems.removeClass("active"), i.visibleItems = [], t = i.currentItem; t < i.currentItem + i.options.items; t += 1) i.visibleItems.push(t), i.options.addClassActive === !0 && e(i.$owlItems[t]).addClass("active");
				i.owl.visibleItems = i.visibleItems
			},
			transitionTypes: function(e) {
				var t = this;
				t.outClass = "owl-" + e + "-out", t.inClass = "owl-" + e + "-in"
			},
			singleItemTransition: function() {
				function e(e) {
					return {
						position: "relative",
						left: e + "px"
					}
				}
				var t = this,
					i = t.outClass,
					n = t.inClass,
					a = t.$owlItems.eq(t.currentItem),
					s = t.$owlItems.eq(t.prevItem),
					r = Math.abs(t.positionsInArray[t.currentItem]) + t.positionsInArray[t.prevItem],
					o = Math.abs(t.positionsInArray[t.currentItem]) + t.itemWidth / 2,
					l = "webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";
				t.isTransition = !0, t.$owlWrapper.addClass("owl-origin").css({
					"-webkit-transform-origin": o + "px",
					"-moz-perspective-origin": o + "px",
					"perspective-origin": o + "px"
				}), s.css(e(r, 10)).addClass(i).on(l, function() {
					t.endPrev = !0, s.off(l), t.clearTransStyle(s, i)
				}), a.addClass(n).on(l, function() {
					t.endCurrent = !0, a.off(l), t.clearTransStyle(a, n)
				})
			},
			clearTransStyle: function(e, t) {
				var i = this;
				e.css({
					position: "",
					left: ""
				}).removeClass(t), i.endPrev && i.endCurrent && (i.$owlWrapper.removeClass("owl-origin"), i.endPrev = !1, i.endCurrent = !1, i.isTransition = !1)
			},
			owlStatus: function() {
				var e = this;
				e.owl = {
					userOptions: e.userOptions,
					baseElement: e.$elem,
					userItems: e.$userItems,
					owlItems: e.$owlItems,
					currentItem: e.currentItem,
					prevItem: e.prevItem,
					visibleItems: e.visibleItems,
					isTouch: e.browser.isTouch,
					browser: e.browser,
					dragDirection: e.dragDirection
				}
			},
			clearEvents: function() {
				var n = this;
				n.$elem.off(".owl owl mousedown.disableTextSelect"), e(i).off(".owl owl"), e(t).off("resize", n.resizer)
			},
			unWrap: function() {
				var e = this;
				0 !== e.$elem.children().length && (e.$owlWrapper.unwrap(), e.$userItems.unwrap().unwrap(), e.owlControls && e.owlControls.remove()), e.clearEvents(), e.$elem.attr("style", e.$elem.data("owl-originalStyles") || "").attr("class", e.$elem.data("owl-originalClasses"))
			},
			destroy: function() {
				var e = this;
				e.stop(), t.clearInterval(e.checkVisible), e.unWrap(), e.$elem.removeData()
			},
			reinit: function(t) {
				var i = this,
					n = e.extend({}, i.userOptions, t);
				i.unWrap(), i.init(n, i.$elem)
			},
			addItem: function(e, t) {
				var i, n = this;
				return e ? 0 === n.$elem.children().length ? (n.$elem.append(e), n.setVars(), !1) : (n.unWrap(), i = void 0 === t || -1 === t ? -1 : t, i >= n.$userItems.length || -1 === i ? n.$userItems.eq(-1).after(e) : n.$userItems.eq(i).before(e), void n.setVars()) : !1
			},
			removeItem: function(e) {
				var t, i = this;
				return 0 === i.$elem.children().length ? !1 : (t = void 0 === e || -1 === e ? -1 : e, i.unWrap(), i.$userItems.eq(t).remove(), void i.setVars())
			}
		};
		e.fn.owlCarousel = function(t) {
			return this.each(function() {
				if (e(this).data("owl-init") === !0) return !1;
				e(this).data("owl-init", !0);
				var i = Object.create(n);
				i.init(t, this), e.data(this, "owlCarousel", i)
			})
		}, e.fn.owlCarousel.options = {
			items: 5,
			itemsCustom: !1,
			itemsDesktop: [1199, 4],
			itemsDesktopSmall: [979, 3],
			itemsTablet: [768, 2],
			itemsTabletSmall: !1,
			itemsMobile: [479, 1],
			singleItem: !1,
			itemsScaleUp: !1,
			slideSpeed: 200,
			paginationSpeed: 800,
			rewindSpeed: 1e3,
			autoPlay: !1,
			stopOnHover: !1,
			navigation: !1,
			navigationText: ["prev", "next"],
			rewindNav: !0,
			scrollPerPage: !1,
			pagination: !0,
			paginationNumbers: !1,
			responsive: !0,
			responsiveRefreshRate: 200,
			responsiveBaseWidth: t,
			baseClass: "owl-carousel",
			theme: "owl-theme",
			lazyLoad: !1,
			lazyFollow: !0,
			lazyEffect: "fade",
			autoHeight: !1,
			jsonPath: !1,
			jsonSuccess: !1,
			dragBeforeAnimFinish: !0,
			mouseDrag: !0,
			touchDrag: !0,
			addClassActive: !1,
			transitionStyle: !1,
			beforeUpdate: !1,
			afterUpdate: !1,
			beforeInit: !1,
			afterInit: !1,
			beforeMove: !1,
			afterMove: !1,
			afterAction: !1,
			startDragging: !1,
			afterLazyLoad: !1
		}
	}(jQuery, window, document), define("vendor/owl.carousel.search", function() {}), define("search-panel/search-when", ["base", "jquery", "jqueryhoverIntent", "vendor/datepicker", "handlebars", "./flyout-controller", "text!./templates/calendar.hbs", "text!./templates/tool-tip.hbs", "vendor/owl.carousel.search"], function(e, t, i, n, a, s, r, o, l) {
		function c(e, i) {
			this.ele = e, this.dateInput = t("#when"), this.controller = i.controller, this.calendarTemplate = a.compile(r), this.toolTipTemplate = a.compile(o), this.opts = t.extend(!0, {}, {
				datepickerWrapper: "#search-when-datepicker",
				datepicker: {
					numberOfMonths: 2,
					dateFormat: "dd/mm/yy",
					weekHeader: "Week",
					showWeek: !0,
					firstDay: 1,
					nextText: "",
					prevText: "",
					stepMonths: 2,
					minDate: 0
				},
				input: t([]),
				holidayURL: tuiConfig.calendar.holidayURL,
				serviceURL: tuiConfig.calendar.calendarServiceURL,
				refreshDateURL: this.dateInput.data("daterefreshservice"),
				searchButton: t("#searchNowBtn"),
				labels: {
					day: "day",
					week: "week",
					within: "within"
				}
			}, i, {
				labels: this.ele.data("labels") || {}
			}), this.data = this.dateInput.data("defaultdata") || {}, this.datePickerWrapper = t(this.opts.datepickerWrapper), this.clickCount = 0, this.dateGlobals = {
				cur: -1,
				prv: -1,
				parsedDates: [0, 0]
			}, this.datesToHighlight = {
				publicHolidays: [],
				disabledDates: [],
				defaultDates: [],
				updatedDates: [],
				holidayTooltips: []
			}, this.optionDayDuration = t("#dayDuration"), this.dayDurationLabel = "", this.userAction = !1, this.useExact = !1, this.startdate = 0, this.labels = this.ele.data("labels"), this.data.userSelectedDate = !1, this.data.userSelectedDestination = {
				name: "",
				type: "",
				code: "",
				hierarchy: ""
			}, this.whenErrorValidations = []
		}
		t.datepicker._updateDatepickerOriginal = t.datepicker._updateDatepicker, t.datepicker._updateDatepicker = function(e) {
			t.datepicker._updateDatepickerOriginal(e);
			var i = this._get(e, "afterShow");
			i && i.apply(e.input ? e.input[0] : null)
		};
		var d, u = {
				init: function() {
					return d = this, this.bindHolidayTooltip(), d.flyoutController = new s({
						target: t("#when")
					}), g(), t.subscribe("breakpointchange", t.proxy(d.changeCalendar, d)), this
				},
				getCalendarCount: function() {
					var e = TUIUtil.getCurrentBreakPoint();
					return "xs" === e || "sm" === e ? 1 : 2
				},
				bindDatePicker: function(e, i) {
					var n = e && e.length ? e.length : this.getCalendarCount(),
						a = i[0],
						s = t.extend({}, {
							onSelect: t.proxy(d.select, d),
							beforeShowDay: t.proxy(d.beforeShowDay, d),
							afterShow: t.proxy(d.afterShow, d)
						}, this.opts.datepicker);
					this.datepickerOpts = s, this.datepickerOpts.minDate = a, this.datepickerOpts.numberOfMonths = n, this.datepickerOpts.stepMonths = n, this.datepicker = this.datePickerWrapper.datepicker(this.datepickerOpts)
				},
				updateSelectedDst: function(e, t, i, n) {
					this.data.userSelectedDestination || (this.data.userSelectedDestination = {}), this.data.userSelectedDestination.name = e, this.data.userSelectedDestination.type = t, this.data.userSelectedDestination.code = i, this.data.userSelectedDestination.hierarchy = n
				},
				updateCalender: function(e, t) {
					this.data.duration = e.duration, this.data.from = e.from, this.data.flexible = e.flexible, this.data.to = e.to, this.data.durationId = e.durationId, this.data.durationText = e.durationText, this.fromResponse = !0, this.setFieldValue(), "xs" === TUIUtil.getCurrentBreakPoint() && (e.flexible ? d.setFlexiblity(e.flexible) : d.resetFlexiblity()), t && d.resetDuration()
				},
				getUpdatedDate: function() {
					var e = d.controller.getFormValues();
					TUIUtil.genericAjaxRequest({
						dontPool: !0,
						url: d.opts.refreshDateURL || t("#when").data("daterefreshservice"),
						cache: !1,
						type: "post",
						dataType: "json",
						contentType: "application/json",
						data: JSON.stringify(e),
						success: function(e) {
							h(e, e.duration), d.updateTag(e.durationText, d.durationField), d.updateCalender({
								from: e.from,
								duration: e.duration,
								flexible: e.flexibility,
								to: e.to,
								durationId: e.durationId,
								durationText: e.durationText
							}), t.cookie("FIRST_AVAILABLE_DURATION", JSON.stringify({
								duration: e.duration,
								durationId: e.durationId,
								durationText: e.durationText
							}), {
								path: "/"
							})
						}
					})
				},
				topMonthNav: function() {
					this.ele.on("click", "[data-month]", function(e) {
						if (!t(this).hasClass("disabled")) {
							var i = d.ele.find(".month-top-list"),
								n = parseInt(i.find("li").filter(".disabled").first().attr("data-month"), 10),
								a = t(".ui-datepicker-year:first").text(),
								s = t(this).data("month"),
								r = "01/" + s + "/" + a;
							n - 1 !== s && (i.find("li").removeClass("first").next().removeClass("last"), t(this).addClass("first").next().addClass("last")), d.datepicker.datepicker("setDate", r), d.updateMonth()
						}
					}), this.ele.find("#search-when-datepicker").on("click", function() {
						t(".first").data("month");
						d.updateMonth()
					})
				},
				updateMonth: function(e) {},
				bindHolidayTooltip: function(e) {
					this.ele.on("mouseenter", "td.public-holiday .ui-state-default", function(e) {
						var i, n, a, s, r = t(this),
							o = parseInt(t.trim(r.closest("td").attr("class").split("public-holiday ph")[1].split("_ms")[0]), 10),
							l = [],
							c = t('<div class="holiday-tooltip" style="visibility:hidden"><ul></ul><div class="date-pointer"></div><a href="#" id="holiday-close" class="icon-close-circle"></a></div>');
						i = d.datesToHighlight.publicHolidays.indexOf(o), n = d.datesToHighlight.holidayTooltips[i];
						for (var u = 0; u < n.length; u++) l.push("<li>" + n[u].place + " <span>" + n[u].dateRange + "</span></li>");
						c.find("ul").append(l), t("body").append(c), a = c.find("ul").width() / 2, s = c.height() + 7, c.css({
							top: parseInt(r.offset().top - s, 10) + "px",
							left: parseInt(r.offset().left - a, 10) + "px",
							visibility: "visible"
						});
						var h = c.offset().left,
							p = c.width(),
							f = t(window).width();
						if (h + p >= f) {
							c.css({
								left: "auto",
								right: "10px"
							});
							var m = t(e.target),
								g = m.offset().left;
							h = c.offset().left, c.find(".date-pointer").css({
								left: g - h + m.width() / 2 - 6 + "px"
							})
						}
						t("#holiday-close").on("click", function(e) {
							e.preventDefault(), e.stopPropagation(), t(".holiday-tooltip").remove()
						})
					}), d.ele.on("mouseleave", "td.public-holiday .ui-state-default", function() {
						t(".holiday-tooltip").remove()
					})
				},
				select: function(e, i) {
					var n, a, s = this.dateGlobals.prv,
						r = Date.parse(new Date(i.selectedYear, i.selectedMonth, i.selectedDay));
					++this.clickCount, -1 === s || s === r ? (n = e, a = !1, this.dateGlobals.parsedDates = [r, r]) : (n = t.datepicker.formatDate(tuiConfig.calendar.dateformat, new Date(s), {}), a = t.datepicker.formatDate(tuiConfig.calendar.dateformat, new Date(r), {}), this.dateGlobals.parsedDates = [s, r]), this.dateGlobals.prv = r, this.dateGlobals.cur = r, s === r && --this.clickCount, (this.clickCount > 2 || s > r) && (this.clickCount = 1, this.dateGlobals.parsedDates[0] = -1, a = !1), this.datePickerWrapper[1 === this.clickCount ? "addClass" : "removeClass"]("hoversActive"), this.userAction = !0, this.updateStoredData({
						from: n,
						to: a ? a : this.getDefaultRangeEndDate(n)
					}), 1 === this.clickCount && (this.startdate = r)
				},
				beforeShowDay: function(e) {
					var i = Date.parse(e),
						n = this.dateGlobals.parsedDates,
						a = -1 !== n[0] && i >= n[0] && i <= n[1],
						s = -1 !== t.inArray(i, this.datesToHighlight.publicHolidays),
						r = -1 === t.inArray(i, this.datesToHighlight.availableDates),
						o = 1 === this.clickCount && i > n[1],
						l = i === this.startdate,
						c = i === n[1],
						d = o || a || s || r || c;
					return [!r, d ? this.className(a, s, o, r, e, l, c) : "day-cell"]
				},
				getHolidays: function(e) {
					return t.ajax({
						url: d.opts.holidayURL,
						dataType: "json",
						data: {
							holidayGroupName: e
						} || {}
					})
				},
				selectHolidaysToShow: function(e) {
					function i(e) {
						var i, n = [];
						d.datesToHighlight.holidayTooltips = [], t.each(e.publicHolidays, function(t, a) {
							i = Date.parse(new Date(e.publicHolidays[t].publicHoliday)), n.push(e.publicHolidays[t].publicHoliday), e.publicHolidays[t].holidayDesc ? d.datesToHighlight.holidayTooltips.push(e.publicHolidays[t].holidayDesc) : d.datesToHighlight.holidayTooltips.push(null)
						}), d.processDateArrays(n, "publicHolidays")
					}

					function n() {}
					e && this.getHolidays(e.value).done(i).fail(n)
				},
				datePickerInitialized: !1,
				renderCalendar: function(e, i) {
					if (d.datePickerInitialized = !1, d.cleanup(i), m(), e.to && -1 !== e.to.indexOf("NaN") && (e.to = e.from), e.availableMonths && e.availableMonths.length && (e.availableMonths = v(e.availableMonths)), !e.availableMonths || !e.availableMonths.length) return d.resetDates(), f(), d.whenErrorValidations.push({
						panelId: "#when",
						type: "no-dates"
					}), !1;
					if (e.duration && (e.duration = 1 * e.duration), e.travelMessage = d.labels.travelMessage, h(e), d.data = t.extend({}, d.data, e), d.refreshDatesData(e), d.datePickerInitialized || (d.bindDatePicker(e.availableMonths, e.availableDates), d.datePickerInitialized = !0), d.optionDayDuration = t("#dayDuration"), d.dayDurationLabel = d.optionDayDuration.attr("data-label") + " ", d.data.availableDates && d.data.availableDates.length) {
						var n, a = (d.data.availableDates[0].split("/"), Date.parse(TUIUtil.dateConverter(d.data.availableDates[0]))),
							s = (new Date).getTime();
						n = s >= a ? 0 : d.data.availableDates[0], t.extend(d.datepickerOpts, {
							minDate: n,
							maxDate: d.data.availableDates[d.data.availableDates.length - 1]
						})
					}
					d.datepicker = d.datePickerWrapper.datepicker(d.datepickerOpts), d.datepicker.datepicker("refresh"), t("#select-public-holidays").on("change", function() {
						d.selectHolidaysToShow(this)
					}), t("#select-days").on("change", function(e) {
						d.userAction = !0;
						var i = t(this).find("option").filter("[value=" + this.value + "]");
						d.useExact = i.is(d.optionDayDuration), d.updateSelectedRange(this.value)
					}), d.ele.on("mouseenter", ".hoversActive td.canBeHovered", function() {
						var e = t(this),
							i = d.datepicker.find("td.canBeHovered"),
							n = i.index(e) + 1;
						i.slice(0, n).addClass("hover").end().slice(n).removeClass("hover");
					})
				},
				processDateArrays: function(e, i) {
					if (i) {
						var n, a, s = [];
						e = e || [], t.map(e, function(e) {
							a = e.split("/"), a[2].length < 4 && (a[2] = "20" + a[2]), n = new Date(a[2], a[1] - 1, a[0]), s.push(Date.parse(n))
						}), this.datesToHighlight[i] = s
					}
				},
				afterShow: function() {
					t(".disabled-date-tooltip").remove();
					var e = this.datePickerWrapper.find("td"),
						i = e.filter(".date-range-selected"),
						n = i.first();
					i.length || (n = e.filter(".canBeHovered").first().prev()), n.addClass("date-range-selected"), this.updateDayDuration(i.length || this.data.duration + 1), i.length && t.publish("search.change"), this.triggerItem && (this.datePickerWrapper.find("td").filter(".disdate" + this.triggerItem + "_ms").trigger("click"), this.triggerItem = !1)
				},
				updateDayDuration: function(e) {
					-1 > e || (e = 0 !== e ? --e : e, this.optionDayDuration.text(this.dayDurationLabel + (isNaN(e) ? "-" : e) + " days").val(e), this.useExact && (this.data.duration = ~~e), this.userAction || (this.optionDayDuration.parents("select").val(e), this.optionDayDuration.parents("select").trigger("change")))
				},
				updateSelectedRange: function(e) {
					0 > e || (this.updateStoredData({
						duration: e
					}), this.setFieldValue())
				},
				getFormValues: function() {
					var e = this.data;
					return e.duration || delete e.duration, e.availableDates && delete e.availableDates, e.availableDuration && delete e.availableDuration, e.availableMonths && delete e.availableMonths, e.travelMessage && delete e.travelMessage, e.offerEndDate && delete e.offerEndDate, e.holidaysStatesList && delete e.holidaysStatesList, e.from || delete e.from, e.to && delete e.to, e
				},
				updateView: function() {
					this.setFieldValue()
				},
				updateStoredData: function(e) {
					this.data = t.extend(this.data, e), this.data.duration && (this.data.duration = 1 * this.data.duration)
				},
				updateDataFromCookie: function(e, t) {
					return t ? void d.resetDates() : (e.from && (this.processDateArrays([e.from], "cookieRange"), this.dateGlobals.parsedDates = this.datesToHighlight.cookieRange), e.duration && (this.data.duration = e.duration), e.durationText && (this.data.durationText = e.durationText), e.durationId && (this.data.durationId = e.durationId), this.setDuration(this.data.durationText, this.data.duration), "undefined" != typeof e.flexible && (this.data.flexible = e.flexible), this.setFlexiblity(this.data.flexible), this.updateStoredData(e), isNaN(parseInt(this.data.duration, 10)) || (this.data.duration = 1 * this.data.duration), void(e.from && this.setFieldValue()))
				},
				resetCalendar: function(e, t) {
					d.data = {}, d.data.userSelectedDate = !1, delete d.data.userSelectedDestination, d.resetDates(), d.ele.find("td.date-range-selected").removeClass("date-range-selected"), d.resetFlexiblity(), d.resetDuration(), e || d.refreshDurations(d.ele, d.dateInput.data("service"), t)
				},
				resetDates: function() {
					this.data && (this.data.from && delete this.data.from, this.data.to && delete this.data.to, this.data.duration && delete this.data.duration, this.data.flexible && delete this.data.flexible, this.data.durationId && (delete this.data.durationId, d.resetDuration()), this.setFieldValue())
				},
				changeCalendar: function() {},
				getCalendarData: function(e, i) {
					var n = t.Deferred(),
						a = t.extend({}, this.controller.getFormValues(), {
							action: "calendar"
						});
					return TUIUtil.genericAjaxRequest({
						url: i,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(a)
					}).done(function(t) {
						d.renderCalendar(t, e), n.resolve(!0)
					}), n.promise()
				},
				cleanup: function() {
					this.datePickerWrapper.empty(), this.datePickerWrapper.removeClass("hasDatepicker")
				},
				showUnavailableTooltip: function(e, i) {
					i.stopPropagation();
					var n, a, s, r = [],
						o = parseInt(t.trim(e.attr("class").split("disabled disdate")[1].split("_ms")[0]), 10);
					t.each(d.datesToHighlight.availableDates, function(e, t) {
						r.push(d.datesToHighlight.availableDates[e])
					}), r.push(o), r.sort(function(e, t) {
						return e - t
					}), s = r.indexOf(o), n = 0 === s ? !0 : !1, a = s === r.length - 1 ? !0 : !1;
					var l = t.parseJSON(d.ele.find(".panel").attr("data-disableDateLabels")),
						c = d.toolTipTemplate(l);
					0 === t(".disabled-date-tooltip").length && t("body").append(c);
					var u = (e.parents(".ui-datepicker-calendar"), parseInt(e.offset().left, 10)),
						h = t("#searchWhen"),
						p = parseInt(h.offset().left, 10) + parseInt(h.width(), 10),
						f = parseInt(e.offset().left - t(".disabled-date-tooltip").width() / 2 + 20, 10),
						m = parseInt(e.offset().top - t(".disabled-date-tooltip").height(), 10) + 8;
					t(".disabled-date-tooltip").show().css({
						top: m + "px",
						left: f + "px"
					});
					var g = u - parseInt(t(".disabled-date-tooltip").offset().left, 10);
					t(".date-pointer").css({
						left: g + 10 + "px"
					}), f = parseInt(t(".disabled-date-tooltip").offset().left, 10);
					var v = f + parseInt(t(".disabled-date-tooltip").width(), 10);
					v >= p && (t(".disabled-date-tooltip").show().css({
						top: m + "px",
						left: f - (v - p + 10) + "px"
					}), t(".date-pointer").css({
						left: g + v - p + 20 + "px"
					})), 0 >= f && (t(".disabled-date-tooltip").show().css({
						top: m + "px",
						left: "10px"
					}), t(".date-pointer").css({
						left: g + v - p + 25 + "px"
					})), n && t(".disabled-date-tooltip .show-prev").addClass("disabled"), a && t(".disabled-date-tooltip .show-next").addClass("disabled"), t("body").on("click", ".disabled-date-tooltip", function(e) {
						e.stopPropagation()
					}), t("body").on("click", ".disabled-date-tooltip a.show-next", function(e) {
						e.preventDefault(), e.stopPropagation(), t(this).hasClass("disabled") || d.setAvailableDate(r[s + 1])
					}), t("body").on("click", ".disabled-date-tooltip a.show-prev", function(e) {
						e.preventDefault(), e.stopPropagation(), t(this).hasClass("disabled") || d.setAvailableDate(r[s - 1])
					}), t(".icon-close-circle").on("click", function() {
						t(".disabled-date-tooltip").hide()
					}), t(document).on("click", function() {
						t(".disabled-date-tooltip").hide()
					})
				},
				setAvailableDate: function(e) {
					var i = t.datepicker.formatDate(tuiConfig.calendar.dateformat, new Date(e), {});
					this.datepicker.datepicker("setDate", i)
				},
				className: function(e, t, i, n, a, s, r, o) {
					var l = [];
					return t && l.push("public-holiday ph" + Date.parse(a) + "_ms"), i && l.push("canBeHovered"), n && l.push("disabled disdate" + Date.parse(a) + "_ms"), s && l.push("date-range-selected  first"), o && l.push("triggerToolTip"), l.join(" ")
				},
				refreshDatesData: function(e) {
					e.from ? this.dateGlobals.parsedDates = [Date.parse(TUIUtil.dateConverter(e.from)), Date.parse(TUIUtil.dateConverter(e.from))] : this.dateGlobals.parsedDates = [], e.availableDates && e.availableDates.length && (this.datesToHighlight.availableDates = [], t.each(e.availableDates, function(e, t) {
						d.datesToHighlight.availableDates.push(Date.parse(TUIUtil.dateConverter(t)))
					}))
				},
				getDefaultRangeEndDate: function(e) {
					var t = e,
						i = TUIUtil.dateConverter(e);
					if (this.data && this.data.duration) {
						var n = i.getDate() + d.data.duration;
						i.setDate(n);
						var a = "" + i.getFullYear();
						t = i.getDate() + "/" + (i.getMonth() + 1) + "/" + a.substring(2)
					}
					return t
				}
			},
			h = function(e, t) {
				var i = p(e, t);
				if (e.from && i) {
					var n, a = e.from,
						s = a.split("/");
					3 === s.length && (n = new Date(a.replace(/(\d{2})\/(\d{2})\/(\d{4})/, "$2/$1/$3")), n.setDate(n.getDate() + (i - 1))), e.to = n.getDate() + "/" + (n.getMonth() + 1) + "/" + n.getFullYear()
				}
			},
			p = function(e, i) {
				if (i) return i;
				var n = null;
				return e.availableDuration && e.availableDuration.length || (e.availableDuration = []), t.each(e.availableDuration, function(e, t) {
					return t.selected ? (n = t.days, !1) : void 0
				}), n && (n = 1 * n), n
			},
			f = function() {
				d.datePickerWrapper.empty(), d.ele.find(".row-border-top").hide(), TUIUtil.showInlineMessage(d.datePickerWrapper, {
					message: '<i class="icon-warning"></i> ' + d.labels.emptyCalendarMessage || "Sorry we dont have any dates avaliable , kindly modify other parameters",
					cssClass: "common icon-war empty-calendar-messgae",
					highlightElement: [],
					arrow: !1,
					container: d.ele,
					left: 0
				}, !0)
			},
			m = function() {
				d.ele.find(".empty-calendar-messgae").remove(), d.ele.find(".calendar-top").show(), d.ele.find("#calendarHeader").show(), d.ele.find(".group").show(), "lg" === TUIUtil.getCurrentBreakPoint() && d.ele.find(".row-border-top").show(), this.whenErrorValidations = []
			},
			g = function() {
				t("#clear-calendar").off("click").on("click", function(e) {
					d.resetCalendar(!1, !0)
				})
			},
			v = function(e) {
				var i = [];
				t.each(e, function(t, n) {
					i.push(n.days);
					var a = n.days.split("/"),
						s = 1 * a[1];
					if (t + 1 < e.length) {
						var r = e[t + 1].days.split("/"),
							o = 1 * r[1];
						if (o !== s + 1)
							if (s > o) {
								for (var l = s; 12 > l; l++) i.push("01/" + y(a[1] + l + 1) + "/" + a[2]);
								for (var c = 0; o > c; c++) i.push("01/" + y(c + 1) + "/" + r[2])
							} else
								for (var d = s; o > d; d++) i.push("01/" + y(d + 1) + "/" + r[2])
					}
				}), i = i.unique();
				var n = [];
				return t.each(i, function(e, t) {
					var i = t.split("/");
					n.push({
						duration: d.labels.monthLabels[1 * (i[1] - 1)] + " " + i[2],
						days: t,
						selected: !1
					})
				}), n
			},
			y = function(e) {
				var t = e;
				return t = 1 * t, 10 > t && (t = "0" + t), t
			};
		for (var b in u) c.prototype[b] = u[b];
		return c
	}), define("text!search-panel/templates/selectList.hbs", [], function() {
		return '{{#each this}}\n<li data-days="{{days}}" {{#if selected}}class="selected"{{/if}} data-durationid="{{durationId}}">{{duration}}</li>\n{{/each}}'
	}), define("search-panel/search-when-nordics", ["base", "jquery", "./search-when", "handlebars", "text!./templates/selectList.hbs", "vendor/owl.carousel.search"], function(e, t, i, n, a, s) {
		function r(e, s) {
			var r = this;
			s.durationSelector = s.durationSelector || [], this.labels = e.data("labels"), s.datepicker = t.extend({}, {
				onChangeMonthYear: t.proxy(r.changeMonth, r),
				weekHeader: this.labels.week,
				dayNamesMin: this.labels.dayNamesShort,
				monthNames: this.labels.monthLabels,
				dayNames: this.labels.dayNames,
				dontRefreshOnSelection: !0
			}, s.datepicker), i.apply(this, arguments), this.durationSelect = t(this.opts.durationSelector), this.durationField = t("#field-duration"), this.durationPanel = t("#search-duration-flyout"), this.durationListWrapper = this.durationPanel.find("ul#duration-list"), this.monthSelect = t("#monthNav"), this.calendarHeader = t("#calendarHeader"), this.duration = this.durationSelect.val() || 0, this.data.duration = this.duration, this.templateSelectList = n.compile(a), this.flexibleSelect = t(".flexibility-list.desktop"), this.flexibleInput = t("a#field-flexibility"), this.monthBtns = t("#calendarHeader a"), this.durationLabels = this.durationPanel.data("labels"), this.triggerItem = !1, this.durationErrorValidations = [], i.prototype.init.call(this)
		}
		var o, l = {
				parseMonthYear: function(e) {
					if (!e) return "";
					var i = e.split("/"),
						n = t.datepicker.parseDate("dd/mm/yy", "01/" + i[1] + "/" + i[2]);
					return Date.parse(n)
				}
			},
			c = null,
			d = {
				init: function() {
					function e(e) {
						e.preventDefault();
						var i = t(e.currentTarget),
							n = i.data("event");
						if ("prev" === n) {
							var a = o.monthSelect.find("option:selected").prev();
							a.length && (o.monthSelect.val(a.val()), o.monthSelect.trigger("change"))
						} else {
							var s = o.monthSelect.find("option:selected").next();
							s.length && (o.monthSelect.val(s.val()), o.monthSelect.trigger("change"))
						}
					}
					return i.prototype.init.call(this), o = this, t.subscribe("search/when/update", t.proxy(o.updateView, o)), t.subscribe("search/when/setLabel", t.proxy(o.setDefaultInputlabel, o)), t.subscribe("breakpointchange", function() {
						o.updateTag(t("#duration-list li.selected").html(), o.durationField)
					}), m(), v(), this.ele.on("click", "a.calendar-next, a.calendar-prev", e), o.removeTag(), this
				},
				getCalendarCount: function() {
					return 12
				},
				setFlexiblity: function(e) {
					o.setFlexiblityListComponent();
					var t = o.flexibleSelect.find("li.selected");
					(t.length || e) && (!e && t.length && (e = t.attr("data-value")), o.flexibleSelect.find("li").removeClass("selected").children("span").removeClass("active"), o.flexibleSelect.find('li[data-value="' + e + '"]').addClass("selected").children("span").addClass("active"), t = o.flexibleSelect.find("li.selected"), o.setFieldValue(), o.updateFlexTags(t.text()), o.data.flexible = e, o.data.flexibleText = t.text())
				},
				resetFlexiblity: function() {
					o.updateTag("", o.flexibleInput), o.setFlexiblityListComponent(), o.flexibleSelect.find("li").removeClass("selected").children("span").removeClass("active");
					var e = o.flexibleSelect.find('li[data-value="3 DAYS"]');
					e.addClass("selected").children("span").addClass("active"), o.data.flexible = e.attr("data-value"), o.data.flexibleText = e.text()
				},
				setFlexiblityListComponent: function() {
					o.flexibleInput.is(":visible") ? o.flexibleSelect = t("#flexibilty-list") : o.flexibleSelect = t("#flexible-by")
				},
				setDuration: function(e, t) {
					if (e) o.data.durationText = e;
					else {
						var i = o.durationPanel.find('li[data-durationid="' + t + '"]');
						if (i.length || (i = o.durationPanel.find("li.selected")), !i.length) return;
						e = i.html(), o.data.duration = i.data("days"), o.data.durationId = i.data("durationid"), o.data.durationText = i.html()
					}
					o.updateTag(e, o.durationField)
				},
				resetDuration: function() {
					var e = "";
					o.durationPanel.find("li.selected").removeClass("selected"), delete o.data.duration, delete o.data.durationId, delete o.data.durationText, o.updateTag(e, o.durationField), o.setFieldValue()
				},
				refreshDurations: function(e, i, n) {
					var a = {
							duration: o.data.duration,
							from: o.data.from,
							to: o.data.to,
							durationId: o.data.durationId,
							userSelectedDate: o.data.userSelectedDate
						},
						s = t.Deferred(),
						r = n ? !0 : !1,
						l = t.extend({}, this.controller.getFormValues(), {
							resetCalendar: r,
							action: "duration"
						});
					return TUIUtil.genericAjaxRequest({
						url: i,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(l)
					}).done(function(e) {
						o.data = t.extend({}, a, e), o.renderLists(), o.setDuration(null, null), o.renderCalendar(e), s.resolve(!0)
					}), s.promise()
				},
				updateStoredData: function() {
					var e = this.data,
						i = this.dateGlobals.parsedDates;
					i.length > 0 && -1 !== i[0] && i[0] && (tuiConfig.calendar.dateformat = "dd/mm/yy", e.from = t.datepicker.formatDate(tuiConfig.calendar.dateformat, new Date(i[0]), {}), i[1] ? e.to = t.datepicker.formatDate(tuiConfig.calendar.dateformat, new Date(i[1]), {}) : e.to = e.from)
				},
				removeTag: function() {
					this.opts.input.on("click", ".icon-close-circle", function(e) {
						e.stopPropagation(), o.controller.fromSubmit = !1, o.opts.input.empty(), o.opts.input.attr("title", o.opts.input.data("placeholder")), delete o.data.from, delete o.data.to, o.data.userSelectedDate = !1, delete o.data.userSelectedDestination, o.resetFromTo(), o.opts.input.trigger("click")
					}), o.durationField.on("click", ".icon-close-circle", function(e) {
						e.stopPropagation(), o.controller.fromSubmit = !1, o.durationField.empty(), o.resetDuration(), o.durationField.attr("title", o.durationField.data("placeholder")), o.durationField.trigger("click")
					}), o.flexibleInput.on("click", ".icon-close-circle", function(e) {
						e.stopPropagation(), o.controller.fromSubmit = !1, o.flexibleInput.empty(), o.flexibleInput.trigger("click"), o.resetFlexiblity()
					})
				},
				updateTag: function(e, t) {
					if (e) {
						e = TUIUtil.trimText(e, t), t.attr("title", e);
						var i = "<ul>";
						i += "<li>", i += "<span>", i += e, i += "</span>", i += '<span class="icon-close-circle">', i += "</li>", i += "</ul>", t.html(i)
					} else {
						var n = '<span class="placeholder-text">' + t.data("placeholder") + "</span>";
						t.empty().html(n), t.attr("title", t.data("placeholder"))
					}
				},
				setFieldValue: function() {
					var e = this.data,
						i = "";
					if (!e.from) {
						var n = '<span class="placeholder-text">' + this.opts.input.data("placeholder") + "</span>";
						'<span class="placeholder-text">' + t("a#field-duration.selected-tags").data("placeholder") + "</span>";
						return void this.opts.input.html(n)
					}
					if (e.from) {
						i = f(e.from)
					}
					o.flexibleInput.is(":visible") || (i += g(e)), o.updateTag(i, o.opts.input)
				},
				updateView: function() {
					i.prototype.updateView.call(this)
				},
				setUserDate: function(e) {
					window.sessionStorage && (window.sessionStorage.setItem("IS_USER_DATE", e), this.data.userSelectedDate = e)
				},
				isUserDate: function() {
					var e = !1;
					if (this.data.from && window.sessionStorage) {
						var t = window.sessionStorage.getItem("IS_USER_DATE");
						"true" === t && (e = !0)
					}
					return e
				},
				select: function(e, i, n) {
					var a = (t(this), this.dateGlobals.parsedDates),
						s = new Date(i.selectedYear, i.selectedMonth, i.selectedDay);
					a[0] = Date.parse(s), a[1] = s.setDate(s.getDate() + (parseInt(this.duration, 10) - 1)), this.updateStoredData(), this.data.userSelectedDate = !0, this.setUserDate(!0), o.setFieldValue(), n && y(n), "xs" !== TUIUtil.getCurrentBreakPoint() && window.setTimeout(function() {
						o.flyoutController.flyout(n, i.selectedDay)
					}, 100)
				},
				beforeShowDay: function(e) {
					var i = Date.parse(e),
						n = this.dateGlobals.parsedDates,
						a = -1 !== n[0] && i >= n[0] && i <= n[1],
						s = -1 !== t.inArray(i, this.datesToHighlight.publicHolidays),
						r = -1 === t.inArray(i, this.datesToHighlight.availableDates),
						o = !1,
						l = o || a || s || r,
						c = i === n[0],
						d = i === n[1],
						u = !1;
					return r && i === n[0] && (n[0] = -1, a = !1, this.data.to = !1, this.data.from = !1, u = !0, this.triggerItem = i), [!r, l ? this.className(a, s, o, r, e, c, d, u) : "day-cell"]
				},
				renderCalendar: function() {
					if (i.prototype.renderCalendar.apply(this, arguments), o.ele.find(".empty-calendar-messgae").length) return !1;
					this.maxDate = l.parseMonthYear(this.datepicker.datepicker("option", "maxDate")), this.minDate = l.parseMonthYear(this.datepicker.datepicker("option", "minDate"));
					var e = this.datepicker.datepicker("getDate");
					this.monthBtnState(t.datepicker.formatDate("dd/mm/yy", e)), this.renderLists();
					var n = this.data.from;
					n && (n = "01" + n.substr(2, n.length), this.fromResponse = !1, this.setFieldValue()), o.addOwlCarousel()
				},
				updateFlexTags: function(e) {
					o.updateTag(e, o.flexibleInput)
				},
				setDefaultInputlabel: function() {},
				renderLists: function() {
					return p(), this.data.availableDuration && this.data.availableDuration.length ? void this.durationPanel.find("ul#duration-list").html(this.templateSelectList(this.data.availableDuration)) : (o.resetDuration(), h(), o.durationErrorValidations.push({
						panelId: "#field-duration",
						type: "no-duration"
					}), !1)
				},
				getServerData: function(e) {
					var t = this.opts.input.data("service");
					return TUIUtil.genericAjaxRequest({
						url: t,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(this.controller.getFormValues()),
						showLoader: !0,
						showLoaderAt: e.find(".panel")
					})
				},
				resetFromTo: function() {
					o.data && (o.data.from && delete o.data.from, o.data.to && delete o.data.to, o.data.flexible && (delete o.data.flexible, o.resetFlexiblity()), o.setFieldValue())
				},
				changeMonth: function(e, t) {
					var i = "01/" + (1 === t.toString().length ? "0" + t : t) + "/" + e;
					this.monthSelect.find("option").prop("selected", !1).filter('[value="' + i + '"]').prop("selected", !0), this.monthBtnState(i)
				},
				defaultMonth: function(e) {
					var t = e.split("/");
					if (3 === t.length) {
						var i = new Date(t[2], t[1] - 1, t[0]);
						this.datepicker.datepicker("setDate", new Date(i)), this.monthSelect.find("option").prop("selected", !1).filter('[value="' + e + '"]').prop("selected", !0)
					}
				},
				monthBtnState: function(e) {
					var t = l.parseMonthYear(e);
					this.monthBtns.filter(".calendar-prev")[t <= this.minDate ? "addClass" : "removeClass"]("disabled").end().filter(".calendar-next")[t >= this.maxDate ? "addClass" : "removeClass"]("disabled")
				},
				addOwlCarousel: function() {
					if (u()) return void o.ele.find(".ui-datepicker-inline").addClass("owl-carousel single-item");
					var e = o.ele.find(".ui-datepicker-inline");
					e.find(".ui-datepicker-row-break").remove(), e.addClass("owl-carousel");
					var i = o.ele.find(".owl-carousel"),
						n = TUIUtil.getCurrentBreakPoint();
					i.owlCarousel({
						loop: !1,
						margin: 0,
						navigation: !0,
						singleItem: "xs" !== n ? !1 : !0,
						rewindNav: !1,
						mouseDrag: !1,
						items: 3,
						itemsDesktop: [2500, 3],
						itemsDesktopSmall: [991, 2],
						itemsTablet: [767, 1],
						itemsTabletSmall: !1,
						itemsMobile: !1,
						responsive: !0,
						afterInit: function() {
							t(".date-range-selected").closest(".ui-datepicker-group").hasClass("ui-datepicker-group-first") ? t(".owl-prev").hide() : t(".owl-prev").show()
						},
						afterMove: function() {
							0 === a.currentItem ? t(".owl-prev").hide() : t(".owl-prev").show(), a.currentItem === a.maximumItem ? t(".owl-next").hide() : t(".owl-next").show()
						}
					});
					var a = t(".owl-carousel").data("owlCarousel");
					o.data.availableMonths && (i.find(".owl-prev").wrapInner("<span/>").append(t('<i class="icon-way-left"/>')), i.find(".owl-next").wrapInner("<span/>").append(t('<i class="icon-way-right"/>'))), o.data.availableMonths && 2 === o.data.availableMonths.length && "xs" !== n && o.ele.find(".owl-buttons").hide(), null !== c && clearTimeout(c), c = setTimeout(function() {
						var e = t(".date-range-selected").closest(".owl-item").index();
						e >= 1 ? a.goTo(e, 100, !0) : i.find(".owl-prev").hide()
					}, 100)
				}
			},
			u = function() {
				var e = t("#search-when-datepicker");
				return o.data.availableMonths && 1 === o.data.availableMonths.length ? (e.addClass("single-month"), !0) : (e.removeClass("single-month"), !1)
			},
			h = function() {
				o.durationListWrapper.empty(), TUIUtil.showInlineMessage(o.durationListWrapper, {
					message: '<i class="icon-warning"></i> ' + o.durationLabels.emptyDurationMessage || "Sorry we dont have any duration avaliable , kindly modify other parameters",
					cssClass: "common icon-war empty-duration-message",
					highlightElement: [],
					arrow: !1,
					container: o.ele,
					left: 0
				}, !0)
			},
			p = function() {
				o.ele.find(".empty-duration-message").remove(), o.durationErrorValidations = []
			},
			f = function(e, i) {
				var n, a, s, r, o, l = t("#searchWhen").data("labels"),
					c = "" + e + " - " + i;
				if (e) {
					if (n = e.split("/"), a = n.reverse().join("/"), s = new Date(a)) {
						var d = s.getDay();
						7 === d && (d = 0), o = l.dayNamesShort[d]
					}
					3 === n.length && (r = 1 * n[1], c = o + " " + a)
				}
				return c
			},
			m = function() {
				t("#flexible-by , #flexibilty-list").on("click", "li", function(e) {
					o.data.flexible = t(this).attr("data-value"), o.data.flexibleText = t(this).text(), o.setFlexiblity(o.data.flexible)
				})
			},
			g = function() {
				var e = "";
				o.setFlexiblityListComponent();
				var t = o.flexibleSelect.find("li.selected").first();
				if (o.data && o.data.flexible) o.flexibleSelect.find("li").removeClass("selected").find("span").removeClass("active"), t = o.flexibleSelect.find('li[data-value="' + o.data.flexible + '"]'), t.addClass("selected").find("span").addClass("active"), o.data.flexibleText = t.text();
				else {
					if (0 === t.length) return e;
					o.data.flexible = t.attr("data-value"), o.data.flexibleText = t.text()
				}
				return e = " (" + o.data.flexibleText + ")"
			},
			v = function() {
				o.durationPanel.on("click", "li", function(e) {
					var i = t(this);
					i.siblings().removeClass("selected"), i.addClass("selected"), o.data.durationId = i.data("durationid"), o.data.duration = i.data("days"), o.setDuration(i.html(), o.data.durationId)
				})
			},
			y = function(e) {
				o.ele.find("td.date-range-selected").removeClass("date-range-selected"), o.ele.find("a.ui-state-active").parents("td").removeClass("date-range-selected").removeClass("first").removeClass("ui-datepicker-current-day"), o.ele.find("a.ui-state-active").removeClass("ui-state-active"), e.addClass("date-range-selected  first ui-datepicker-current-day"), e.find("a").addClass("ui-state-active")
			};
		return r.prototype = t.extend({}, i.prototype, d), r
	}), define("text!search-panel/templates/airport-template-v3.hbs", [], function() {
		return '\n<div class="row ">\n	{{#airportCols airportList}}\n		<div class="airport-item {{#if disabled}}disabled{{/if}}" >\n			<input type="checkbox" class="custom-checkbox" name="{{airportCode}}" id="{{airportCode}}" value="{{airportCode}}"  {{#if disabled}}disabled="disabled"{{/if}}   {{#if checked}} checked="checked"{{/if}}  data-airportname="{{airportName}}"  >\n			<label class="custom-label {{#if disabled}}disabled{{/if}}"  for="{{airportCode}}">{{airportName}} \n				<span class="airport-code ">{{airportCode}} </span>\n				<span class="icon-close-circle remove-airport"></span>\n			</label>\n		</div>\n	{{/airportCols}}\n</div>\n'
	}), define("search-panel/search-where-v3", ["jquery", "handlebars", "text!./templates/airport-template-v3.hbs"], function(e, t, i) {
		function n(n, a) {
			this.ele = n, this.count = 0, this.formData = {
				airportText: "",
				selectedAirports: []
			}, this.opts = {
				speed: 400,
				selectedTxt: "selected"
			}, this.selectedAirports = [], this.serviceURL = e("#airport").data("service"), this.template = t.compile(i), this.userAction = !1, this.controller = a.controller || !1, this.inputs = e([]), this.clearAllBtn = e("#whereClearAll"), this.selectedDisplay = e("#whereSelectedDisplay"), this.parentInput = e("#airport"), this.labels = this.ele.data("labels"), this.opts.selectedTxt = this.labels.selected, this.init()
		}

		function a() {
			var t = e(c).find(".airport-list-wrapper").find('input[type="checkbox"]:checked').first();
			return t.data("airportname")
		}

		function s() {
			return e(c).find(".airport-list-wrapper").find('input[type="checkbox"]').length
		}

		function r() {
			var t, i = 0;
			l.ele.find('input[type="checkbox"]').each(function() {
				t = e(this), "selectAll-airports" !== t.attr("id") && t.is(":checked") && 0 === t.parents("dt[data-group]").length && (i++, l.selectedAirports[l.selectedAirports.length] = e.trim(t.val()))
			}), l.count = i, l.count < 0 && (l.count = 0), l.formData.selectedAirports = l.selectedAirports
		}

		function o(t) {
			if (t = e(t), !t.hasClass("select-all-selected")) {
				if (t.is(":checked")) "xs" !== TUIUtil.getCurrentBreakPoint() ? u(t) : l.controller.scrollTillSearchPanel(), l.count = l.count + 1;
				else {
					if (l.count = l.count - 1, e.inArray(e.trim(t.val()), l.selectedAirports) > -1) {
						var i = l.selectedAirports.indexOf(e.trim(t.val()));
						l.selectedAirports.splice(i, 1)
					}
					l.count < 0 && (l.count = 0)
				}
			}
		}
		var l, c = e("#searchWhere"),
			d = {
				init: function() {
					l = this, l.load = !0, this.ele.off("change").on("change", "input[type=checkbox]", function() {
						var t = e(this),
							i = t.is(":checked"),
							n = t.data("group-parent") || !1;
						i ? t.parents("li").addClass("blue-active") : t.parents("li").removeClass("blue-active"), n && l.inputs.filter("[data-group=" + n + "]").prop("checked", i).trigger("change"), o(t);
						var a = e(this).data("airportname");
						void 0 === a && (a = e(c).data("labels").anyAirport), n || t.hasClass("select-all-selected") || l[i ? "addItem" : "removeItem"](this.value), l.manageSelectAllClearAll(), l.updateDisplay()
					}), this.ele.one("click", "input[type=checkbox]", function() {
						l.userAction = !0
					}), this.ele.find(".airport-list-wrapper").on("click", "input[type=checkbox]", e.proxy(l.checkStatus, l)), this.ele.on("click", ".clear-all-selected", e.proxy(l.clearAll, l)), this.ele.on("click", ".select-all-selected", e.proxy(l.selectAll, l)), this.parentInput.on("click", ".icon-close-circle", l.removeTags), e.subscribe("breakpointchange", function() {
						if (!l.parentInput.find(".placeholder-text").length) {
							var e = l.parentInput.data("untrimmedvalue"),
								t = l.parentInput.data("selectedAirportsCount"),
								i = TUIUtil.trimText(e, l.parentInput, t);
							t ? l.updateInputText(i + "+" + t) : l.updateInputText(i)
						}
					})
				},
				closePanel: function() {
					l.ele.find(".icon-x").trigger("click")
				},
				addItem: function(e) {
					this.selectedAirports.indexOf(e) < 0 && this.selectedAirports.push(e)
				},
				removeItem: function(e) {
					var t = this.selectedAirports.indexOf(e);
					t >= 0 && this.selectedAirports.splice(t, 1)
				},
				removeTags: function(e) {
					e.stopPropagation(), l.controller.formSubmit = !1, l.resetAirports(), l.parentInput.trigger("click").focus()
				},
				getAirportDisplayText: function(t, i) {
					var n, r, o = a();
					return r = s(), 1 === t ? (n = TUIUtil.trimText(o, i), i.data("untrimmedvalue", o)) : t > 1 && t !== r ? (n = TUIUtil.trimText(o, i, t) + "+" + (t - 1), i.data("selectedAirportsCount", t - 1), i.data("untrimmedvalue", o)) : t === r ? (n = e(c).data("labels").anyAirport || "", i.data("untrimmedvalue", n)) : n = "", n
				},
				updateDisplay: function() {
					var t = this.selectedAirports.length,
						i = "";
					this.clearAllBtn[t ? "removeClass" : "addClass"]("disabled"), this.selectedDisplay.text(t + " " + this.opts.selectedTxt), i = this.getAirportDisplayText(t, this.parentInput), this.parentInput.val(i), this.updateInputText(this.getAirportDisplayText(t, this.parentInput)), e.publish("search.change")
				},
				getFormValues: function(t) {
					if (0 !== this.formData.selectedAirports.length || "submit" !== t && "SEARCH_PIPE" !== t) {
						var i = this.parentInput.val();
						i ? this.formData.airportText = i : this.formData.airportText = e(c).data("labels").anyAirport || "", this.formData.selectedAirports = this.selectedAirports
					} else this.formData.selectedAirports = [], this.selectedAirports = [], this.formData.selectedAirports = this.selectedAirports;
					return this.formData
				},
				selectAll: function(t) {
					var i = t.target.checked;
					i ? l.inputs.not(":disabled").prop("checked", !0).closest("li").addClass("blue-active") : l.inputs.not(":disabled").prop("checked", !1).closest("li").removeClass("blue-active"), l.inputs.not(":disabled").each(function() {
						var t = e(this),
							i = t.is(":checked"),
							n = t.data("group-parent") || !1;
						n || t.hasClass("select-all-selected") || l[i ? "addItem" : "removeItem"](this.value)
					}), l.manageSelectAllClearAll(), l.updateDisplay(), i && l.closePanel()
				},
				resetAirports: function() {
					l.parentInput.find("ul").remove(), l.selectedAirports = [], l.count = 0, l.updateInputText(null)
				},
				clearAll: function(t) {
					e(t.target).hasClass("disabled") || (this.inputs.filter(":checked").prop("checked", !1).trigger("change"), l.manageSelectAllClearAll())
				},
				checkStatus: function(t) {
					var i = e("#searchWhere"),
						n = i.find(".airport-list-wrapper"),
						a = i.find(".select-all-selected"),
						s = n.find("input").not(":disabled").length,
						r = n.find("input:checked").not(":disabled").length;
					s === r ? 0 === s ? (a.prop("checked", !1), a.parent().removeClass("blue-active")) : (a.prop("checked", !0), a.parent().addClass("blue-active")) : (a.prop("checked", !1), a.parent().removeClass("blue-active"))
				},
				manageSelectAllClearAll: function() {
					var t = e("#searchWhere"),
						i = t.find(".airport-list-wrapper"),
						n = t.find(".clear-all-selected"),
						a = t.find(".select-all-selected"),
						s = e('label[for="' + a.attr("id") + '"]'),
						r = i.find("input").not(":disabled").length,
						o = i.find("input:checked").not(":disabled").length;
					0 === o ? n.addClass("disabled") : n.removeClass("disabled"), r === o ? 0 === r && (a.attr("disabled", "disabled"), s.addClass("disabled")) : (a.removeAttr("disabled"), s.removeClass("disabled"))
				},
				getAirportList: function() {
					var t = this.ele.find(".airport-list-wrapper");
					t.empty();
					var i = e.Deferred(),
						n = e.extend({}, this.controller.getFormValues(), {
							action: "departureAirport"
						});
					return TUIUtil.genericAjaxRequest({
						url: l.serviceURL,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(n)
					}).done(function(n) {
						l.selectedAirports = [], l.count = 0, t.empty(), t.append(l.template(n)), t.find("input:checked").parents("li").addClass("blue-active"), l.inputs = l.ele.find("input[type=checkbox]"), r(), l.updateDisplay(), e.publish("search/where/update"), i.resolve(!0), l.manageSelectAllClearAll(), l.checkStatus()
					}), i.promise()
				},
				addScrollbar: function() {
					var t = l.ele.find(".panel");
					t.removeAttr("style");
					var i = l.ele.find(".enscroll-track").parent();
					l.ele.find(".enscroll-track").parent().remove(), TUIUtil.istabletOrDesktop() || (t.css({
						overflow: "auto"
					}), e(i).remove(), t.enscroll({
						verticalTrackClass: "track4",
						verticalHandleClass: "handle4",
						minScrollbarLength: 20,
						pollChanges: !0,
						easingDuration: 100
					}))
				},
				updateWidth: function() {
					var e = l.ele.find(".panel"),
						t = e.find(".airports-flyout");
					t.width(e.width() - 12)
				},
				setMaxHeight: function(e) {
					var t = l.ele.find(".airports-flyout"),
						i = 0;
					t.length || (i = 2e3), t.css("max-height", e - 100)
				},
				updateInputText: function(e) {
					if (l.parentInput.val(e), e) {
						var t = "<ul>";
						t += "<li>", t += "<span>", t += e, t += "</span>", t += '<span class="icon-close-circle">', t += "</li>", t += "</ul>", l.parentInput.attr("title", a()), l.parentInput.html(t)
					} else {
						var i = '<span class="placeholder-text">' + l.parentInput.data("placeholder") + "</span>";
						l.parentInput.empty().html(i), l.parentInput.attr("title", l.parentInput.data("placeholder"))
					}
				}
			},
			u = function(t) {
				var i = t.next().html(),
					n = '<span class="flyingspan">' + i + "</span>",
					a = e("#airport").offset().top,
					s = e("#airport").offset().left,
					r = t.parent().offset().top,
					o = t.parent().offset().left;
				e(n).appendTo(e("body")).css({
					top: r,
					left: o
				}).animate({
					top: a + 15 + "px",
					left: s + "px"
				}, l.opts.speed, function() {
					e(".flyingspan").fadeOut(l.opts.speed, function() {
						e(".flyingspan").remove(), l.controller.scrollTillSearchPanel()
					})
				})
			};
		for (var h in d) n.prototype[h] = d[h];
		return n
	}), define("search-panel/search-where-to-v3", ["jquery", "handlebars", "text!./templates/airport-template-v3.hbs"], function(e, t, i) {
		function n(n, a) {
			this.ele = n, this.count = 0, this.formData = {
				airportTextTo: "",
				selectedAirportsTo: []
			}, this.opts = {
				speed: 400,
				selectedTxt: "selected"
			}, this.selectedAirportsTo = [], this.serviceURL = e("#airport-to").data("service"), this.template = t.compile(i), this.userAction = !1, this.controller = a.controller || !1, this.inputs = e([]), this.parentInput = e("#airport-to"), this.labels = this.ele.data("labels"), this.opts.selectedTxt = this.labels.selected, this.init()
		}

		function a() {
			var t = e(c).find(".airport-list-wrapper").find('input[type="checkbox"]:checked').first();
			return t.data("airportname")
		}

		function s() {
			return e(c).find(".airport-list-wrapper").find('input[type="checkbox"]').length
		}

		function r() {
			var t, i = 0;
			l.ele.find('input[type="checkbox"]').each(function() {
				t = e(this), "selectAll-airports-to" !== t.attr("id") && t.is(":checked") && 0 === t.parents("dt[data-group]").length && (i++, l.selectedAirportsTo[l.selectedAirportsTo.length] = e.trim(t.val()))
			}), l.count = i, l.count < 0 && (l.count = 0), l.formData.selectedAirportsTo = l.selectedAirportsTo
		}

		function o(t) {
			if (t = e(t), !t.hasClass("select-all-selected")) {
				if (t.is(":checked")) "xs" !== TUIUtil.getCurrentBreakPoint() ? u(t) : l.controller.scrollTillSearchPanel(), l.count = l.count + 1;
				else {
					if (l.count = l.count - 1, e.inArray(e.trim(t.val()), l.selectedAirportsTo) > -1) {
						var i = l.selectedAirportsTo.indexOf(e.trim(t.val()));
						l.selectedAirportsTo.splice(i, 1)
					}
					l.count < 0 && (l.count = 0)
				}
			}
		}
		var l, c = e("#searchWhereTo"),
			d = {
				init: function() {
					l = this, l.load = !0, this.ele.off("change").on("change", "input[type=checkbox]", function() {
							var t = e(this),
								i = t.is(":checked"),
								n = t.data("group-parent") || !1;
							i ? t.parents("li").addClass("blue-active") : t.parents("li").removeClass("blue-active"), n && l.inputs.filter("[data-group=" + n + "]").prop("checked", i).trigger("change"), o(t);
							var a = e(this).data("airportname");
							void 0 === a && (a = e(c).data("labels").anyAirport), n || t.hasClass("select-all-selected") || l[i ? "addItem" : "removeItem"](this.value), l.manageSelectAllClearAll(), l.updateDisplay()
						}), this.ele.one("click", "input[type=checkbox]", function() {
							l.userAction = !0
						}), this.ele.find(".airport-list-wrapper").on("click", "input[type=checkbox]", e.proxy(l.checkStatus, l)),
						this.ele.on("click", ".clear-all-selected", e.proxy(l.clearAll, l)), this.ele.on("click", ".select-all-selected", e.proxy(l.selectAll, l)), this.parentInput.on("click", ".icon-close-circle", l.removeTags), e.subscribe("breakpointchange", function() {
							if (!l.parentInput.find(".placeholder-text").length) {
								var e = l.parentInput.data("untrimmedvalue"),
									t = l.parentInput.data("selectedAirportsCount"),
									i = TUIUtil.trimText(e, l.parentInput, t);
								t ? l.updateInputText(i + "+" + t) : l.updateInputText(i)
							}
						})
				},
				closePanel: function() {
					l.ele.find(".icon-x").trigger("click")
				},
				addItem: function(e) {
					this.selectedAirportsTo.indexOf(e) < 0 && this.selectedAirportsTo.push(e)
				},
				removeItem: function(e) {
					var t = this.selectedAirportsTo.indexOf(e);
					t >= 0 && this.selectedAirportsTo.splice(t, 1)
				},
				removeTags: function(e) {
					e.stopPropagation(), l.controller.formSubmit = !1, l.resetAirports(), l.parentInput.trigger("click").focus()
				},
				getAirportDisplayText: function(t, i) {
					var n, r = a(),
						o = s();
					return 1 === t ? (n = TUIUtil.trimText(r, i), i.data("untrimmedvalue", r)) : t > 1 && t !== o ? (n = TUIUtil.trimText(r, i, t) + "+" + (t - 1), i.data("selectedAirportsCount", t - 1), i.data("untrimmedvalue", r)) : t === o ? (n = e(c).data("labels").anyAirport || "", i.data("untrimmedvalue", n)) : n = "", n
				},
				updateDisplay: function() {
					var t = this.selectedAirportsTo.length,
						i = "";
					i = this.getAirportDisplayText(t, this.parentInput), this.parentInput.val(i), this.updateInputText(this.getAirportDisplayText(t, this.parentInput)), e.publish("search.change")
				},
				getFormValues: function(t) {
					if (0 !== this.formData.selectedAirportsTo.length || "submit" !== t && "SEARCH_PIPE" !== t) {
						var i = this.parentInput.val();
						i ? this.formData.airportTextTo = i : this.formData.airportTextTo = e(c).data("labels").anyAirport || "", this.formData.selectedAirportsTo = this.selectedAirportsTo
					} else this.formData.selectedAirportsTo = [], this.selectedAirportsTo = [], this.formData.selectedAirportsTo = this.selectedAirportsTo;
					return this.formData
				},
				selectAll: function(t) {
					var i = t.target.checked;
					i ? l.inputs.not(":disabled").prop("checked", !0).closest("li").addClass("blue-active") : l.inputs.not(":disabled").prop("checked", !1).closest("li").removeClass("blue-active"), l.inputs.not(":disabled").each(function() {
						var t = e(this),
							i = t.is(":checked"),
							n = t.data("group-parent") || !1;
						n || t.hasClass("select-all-selected") || l[i ? "addItem" : "removeItem"](this.value)
					}), l.manageSelectAllClearAll(), l.updateDisplay(), i && l.closePanel()
				},
				resetAirports: function() {
					l.parentInput.find("ul").remove(), l.selectedAirportsTo = [], l.count = 0, l.updateInputText(null)
				},
				clearAll: function(t) {
					e(t.target).hasClass("disabled") || (this.inputs.filter(":checked").prop("checked", !1).trigger("change"), l.manageSelectAllClearAll())
				},
				checkStatus: function(e) {
					var t = c,
						i = t.find(".airport-list-wrapper"),
						n = t.find(".select-all-selected"),
						a = i.find("input").not(":disabled").length,
						s = i.find("input:checked").not(":disabled").length;
					a === s ? 0 === a ? (n.prop("checked", !1), n.parent().removeClass("blue-active")) : (n.prop("checked", !0), n.parent().addClass("blue-active")) : (n.prop("checked", !1), n.parent().removeClass("blue-active"))
				},
				manageSelectAllClearAll: function() {
					var t = c,
						i = t.find(".airport-list-wrapper"),
						n = t.find(".clear-all-selected"),
						a = t.find(".select-all-selected"),
						s = e('label[for="' + a.attr("id") + '"]'),
						r = i.find("input").not(":disabled").length,
						o = i.find("input:checked").not(":disabled").length;
					0 === o ? n.addClass("disabled") : n.removeClass("disabled"), r === o ? 0 === r && (a.attr("disabled", "disabled"), s.addClass("disabled")) : (a.removeAttr("disabled"), s.removeClass("disabled"))
				},
				getAirportList: function() {
					var t = this.ele.find(".airport-list-wrapper");
					t.empty();
					var i = e.Deferred(),
						n = e.extend({}, this.controller.getFormValues(), {
							action: "arrivalAirport"
						});
					return TUIUtil.genericAjaxRequest({
						url: l.serviceURL,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(n)
					}).done(function(n) {
						l.selectedAirportsTo = [], l.count = 0, t.empty(), t.append(l.template(n)), t.find("input:checked").parents("li").addClass("blue-active"), l.inputs = l.ele.find("input[type=checkbox]"), r(), l.updateDisplay(), e.publish("search/where/update"), i.resolve(!0), l.manageSelectAllClearAll(), l.checkStatus()
					}), i.promise()
				},
				addScrollbar: function() {
					var t = l.ele.find(".panel");
					t.removeAttr("style");
					var i = l.ele.find(".enscroll-track").parent();
					l.ele.find(".enscroll-track").parent().remove(), TUIUtil.istabletOrDesktop() || (t.css({
						overflow: "auto"
					}), e(i).remove(), t.enscroll({
						verticalTrackClass: "track4",
						verticalHandleClass: "handle4",
						minScrollbarLength: 20,
						pollChanges: !0,
						easingDuration: 100
					}))
				},
				updateWidth: function() {
					var e = l.ele.find(".panel"),
						t = e.find(".airports-flyout");
					t.width(e.width() - 12)
				},
				setMaxHeight: function(e) {
					var t = l.ele.find(".airports-flyout"),
						i = 0;
					t.length || (i = 2e3), t.css("max-height", e - 100)
				},
				updateInputText: function(e) {
					if (l.parentInput.val(e), e) {
						var t = "<ul>";
						t += "<li>", t += "<span>", t += e, t += "</span>", t += '<span class="icon-close-circle">', t += "</li>", t += "</ul>", l.parentInput.attr("title", a()), l.parentInput.html(t)
					} else {
						var i = '<span class="placeholder-text">' + l.parentInput.data("placeholder") + "</span>";
						l.parentInput.empty().html(i), l.parentInput.attr("title", l.parentInput.data("placeholder"))
					}
				}
			},
			u = function(t) {
				var i = t.next().html(),
					n = '<span class="flyingspan">' + i + "</span>",
					a = e("#airport-to").offset().top,
					s = e("#airport-to").offset().left,
					r = t.parent().offset().top,
					o = t.parent().offset().left;
				e(n).appendTo(e("body")).css({
					top: r,
					left: o
				}).animate({
					top: a + 15 + "px",
					left: s + "px"
				}, l.opts.speed, function() {
					e(".flyingspan").fadeOut(l.opts.speed, function() {
						e(".flyingspan").remove(), l.controller.scrollTillSearchPanel()
					})
				})
			};
		for (var h in d) n.prototype[h] = d[h];
		return n
	}), define("text!search-panel/templates/tab-destinations.hbs", [], function() {
		return '<!--Best For Destinations templates start-->\n <!--script id="destination-collection" type="text/x-handlebars-template"-->\n	 <!--<article class="dest-content destination" data-tabcontent="destination">-->\n	 	<ul class="image-list group">\n	 	{{#each destination}}\n	 		<li class="col-lg-2 col-md-3 {{#if selected}}selected{{/if}} {{#if disabled}}disabled{{/if}}"  data-destinations="{{data-values}}" data-code="{{dataCode data-values}}">\n	 		{{#if disabled}}<div class="overlay"></div>{{/if}}\n	 			<figure>\n	 				<div class="media">\n\n							<p>\n								<span class="checked-icon"></span>\n							</p>\n		 					<span class="concept-logo {{icon-class}} {{#if customclass}}defaultIcon{{/if}}">\n		 					{{#if customclass}}{{name}}{{/if}}\n		 					</span>\n\n		 					<img class="lazyload-img" src="{{img-path}}" alt="{{img-alt}}">\n\n		 					<!--img class="lazyload-img" src="" alt="{{img-alt}}" data-x-small="{{imgXSmall}}" data-small="{{imgSmall}}" data-medium="{{imgMedium}}" data-large="{{imgLarge}}"-->\n		 					<figcaption>\n			 					<div class="dest-selected">\n			 						<input type="checkbox" {{#if selected}}checked{{/if}} {{#if disabled}}disabled{{/if}} name="conceptTitle" class="custom-checkbox {{#if disabled}}disabled {{/if}}" value="title">\n\n			 						<label for="{{name}}"  class="custom-label {{#if disabled}}disabled{{/if}}" ><span class="dest-title" title="{{name}}">{{name}} </span></label>\n\n			 						<span class="dest-sub" title="{{regionText region}}"> {{regionText region}}</span>\n		 						</div>\n		 					</figcaption>\n	 				</div>\n	 			</figure>\n	 		</li>\n 		{{/each}}\n	 	</ul>\n	 <!--/article-->\n <!--/script-->\n<!--Destination Collection templates ends-->\n'
	}), define("common/tabs", ["jquery", "handlebars", "text!search-panel/templates/tab-destinations.hbs"], function(e, t, i) {
		function n(n, a) {
			this.ele = n, this.opts = e.extend({}, {
				callback: !1,
				tabClasses: [],
				triggerSelector: "ul.tabs a",
				hashChange: !1,
				ajaxService: a.ajaxService || !1
			}, a), this.tabTemplate = t.compile(i), this.current = this.opts.tabClasses[0], this.currentHash = !1, this.newHash = null, this.init()
		}
		var a, s = {
			init: function() {
				a = this, this.ele.on("click", this.opts.triggerSelector, e.proxy(a.switchView, a)), this.opts.hashChange && (window.onhashchange = function(e) {
					a.navigateToHash(e)
				}, this.navigateToHash({
					type: null
				}))
			},
			switchView: function(t) {
				var i = e(t.currentTarget),
					n = i.data("href");
				if (n) return window.location.href = n, !0;
				this.opts.hashChange || t.preventDefault();
				var a = t.currentTarget.getAttribute("data-tabName") || t.currentTarget.getAttribute("href") || "",
					s = e(t.currentTarget);
				return this.opts.ignoreActiveTabClick && i.hasClass("active") ? !1 : (this.ele.removeClass(this.opts.tabClasses.join(" ")).addClass(a), s.parent().siblings().find("a.active").removeClass("active").end().end().end().addClass("active"), this.current = a, void this.callback(a))
			},
			callback: function(e) {
				return this.opts.hashChange && this.currentHash === this.newHash || (this.currentHash = this.newHash, !this.opts.callback || !e) ? void 0 : "function" == typeof this.opts.callback ? void this.opts.callback(e) : void(this.opts.callback[e] && this.opts.callback[e]())
			},
			navigateToHash: function() {
				var e, t = window.location.hash;
				return t.length ? (t = t.replace("#", ""), this.newHash = t, e = this.ele.find(this.opts.triggerSelector).filter('[data-tabName="' + t + '"]').click(), void 0) : !1
			},
			loadData: function(t, i) {
				var n = t.data("service"),
					s = t.closest("[data-role=tabWrapper]").find("[data-tabcontent=" + i + "]");
				if ("allDestinations" !== i) s.parent().find("article").hide(), s.show().empty(), TUIUtil.toggleLoader(s), e.ajax({
					url: n,
					type: "POST",
					data: {
						name: "xyz"
					}
				}).done(function(t) {
					t = e.parseJSON(t), s.empty().html(a.tabTemplate(t))
				}).error(function() {});
				else {
					var r = e(".all-destinations");
					r.parent().find("article").hide(), r.show()
				}
			}
		};
		for (var r in s) n.prototype[r] = s[r];
		return n
	}), define("search-panel/search-tabs", ["base", "jquery", "jqueryCookie", "common/tabs", "vendor/owl.carousel.search"], function(e, t, i, n, a) {
		function s(e, i) {
			return e && e.length ? (this.ele = e, this.opts = t.extend({}, {
				tabClasses: ["package", "flight", "hotel"],
				emotionalHeader: t("#emotional-header"),
				searchNowBtn: t("#searchNowBtn"),
				responseURL: tuiConfig.search.responseURL
			}, i), this.controller = i.controller, void this.init()) : !1
		}
		var r, o = (t(".search-panel form"), []),
			l = t("#search-panel-tabs"),
			c = (l.find(".tab-nav"), l.find(".tab-nav-list"), l.find(".fade-left"), l.find(".fade-right"), {
				init: function() {
					r = this, o = r.controller.ele, r.tabs = new n(o, {
						triggerSelector: "#search-panel-tabs button",
						tabClasses: ["package", "flight", "hotel"],
						ignoreActiveTabClick: !0,
						callback: r.switchFieldOrders
					}), r.checkIfNoTabs(), r.updateSearchOnCookieType(), r.pageLoad = !0, r.getSearchMode("SEARCH_TYPE") && r.ele.find('button[data-tabname="' + r.getSearchMode("SEARCH_TYPE") + '"]').trigger("click"), r.pageLoad = !1
				},
				checkIfNoTabs: function() {
					r.ele.find(".tab-nav-list").find("li").length || (r.ele.hide(), r.controller.ele.addClass("no-tabs"))
				},
				getSearchMode: function(e) {
					return t.cookie(e) || "package"
				},
				switchFieldOrders: function(e) {
					var i = r.ele.find('button[data-tabname="' + e + '"]'),
						n = e;
					o.removeClass("package").removeClass("hotel").removeClass("flight"), "flight" === n ? (o.addClass("flight"), r.updateActiveButtonTab(i, "flight"), r.updateSearchTypeCookie("flight")) : "package" === n ? (o.addClass("package"), r.updateActiveButtonTab(i, "package"), r.updateSearchTypeCookie("package")) : "hotel" === n ? (o.addClass("hotel"), r.updateActiveButtonTab(i, "hotel"), r.updateSearchTypeCookie("hotel")) : r.updateActiveButtonTab(i), t.publish("search_mode_changed"), !r.pageLoad && t("#result-page-wrapper").length && r.redirectToSearchPage()
				},
				updateSearchTypeCookie: function(e) {
					t.cookie("SEARCH_TYPE", e || "package", {
						expires: 30,
						path: "/"
					})
				},
				updateActiveButtonTab: function(e, i) {
					t(e).parents(".tab-nav-list").find(".tab-btn").removeClass("active"), t(e).addClass("active"), t(e).data("href") && (window.location.href = t(e).data("href")), i && r.updateSearchOnCookieType(i)
				},
				createCookieJSON: function(e) {
					var t = {};
					return "flight" === e ? (t.searchType = "flightvalues", t.partyType = "FLIGHT_PARTY_COOKIE") : (t.searchType = "formvalues", t.partyType = "PARTY_COOKIE"), t
				},
				updateSearchOnCookieType: function(e) {
					var i = e || r.getSearchMode("SEARCH_TYPE");
					if (i) {
						var n = r.createCookieJSON(i),
							a = r.controller.getCookie(n.partyType),
							s = r.controller.getCookie(n.searchType);
						s ? (r.controller.setFormValues(t.parseJSON(s)), a ? r.controller.setPartyFromCookie(t.parseJSON(a)) : r.controller.setPartyFromCookie(null)) : (r.controller.setFormValues(r.controller.getFormValues(), !0), r.controller.setPartyFromCookie(null))
					}
				},
				redirectToSearchPage: function() {
					if (r.ele.data("searchpagepath") || t("[data-searchpagepath]").length) {
						var e = r.ele.data("searchpagepath") || t("[data-searchpagepath]").data("searchpagepath");
						window.location.href = e
					}
				}
			});
		return s.prototype = t.extend({}, s.prototype, c), s
	}), define("emotional-header/emotional-header", ["jquery", "pubSub"], function(e) {
		function t(t, i) {
			this.ele = t, this.opts = e.extend({}, {}, i), this.img = t.find("div.img img"), this.init()
		}
		var i = {
			init: function() {
				var t = this;
				e.subscribe("emotionalHeader.swapImg", function() {
					t.swapImg(arguments[1])
				})
			},
			swapImg: function(e) {
				if (e) {
					var t = new Image,
						i = this;
					t.onload = function() {
						i.img.attr("src", e)
					}, t.src = e
				}
			}
		};
		for (var n in i) t.prototype[n] = i[n];
		return t
	}),
	function(e, t, i, n) {
		var a = {
				verticalScrolling: !0,
				horizontalScrolling: !1,
				verticalScrollerSide: "right",
				showOnHover: !1,
				scrollIncrement: 20,
				minScrollbarLength: 40,
				pollChanges: !0,
				drawCorner: !0,
				drawScrollButtons: !1,
				clickTrackToScroll: !0,
				easingDuration: 500,
				propagateWheelEvent: !0,
				verticalTrackClass: "vertical-track",
				horizontalTrackClass: "horizontal-track",
				horizontalHandleClass: "horizontal-handle",
				verticalHandleClass: "vertical-handle",
				scrollUpButtonClass: "scroll-up-btn",
				scrollDownButtonClass: "scroll-down-btn",
				scrollLeftButtonClass: "scroll-left-btn",
				scrollRightButtonClass: "scroll-right-btn",
				cornerClass: "scrollbar-corner",
				zIndex: 1,
				addPaddingToPane: !0,
				horizontalHandleHTML: '<div class="left"></div><div class="right"></div>',
				verticalHandleHTML: '<div class="top"></div><div class="bottom"></div>'
			},
			s = function(e) {
				e.preventDefault ? e.preventDefault() : e.returnValue = !1, e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
			},
			r = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.oRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
				setTimeout(e, 17)
			},
			o = function(t, i) {
				var n = e(t).css(i),
					a = /^-?\d+/.exec(n);
				return a ? +a[0] : 0
			},
			l = function(e) {
				var t, i, n = {
						width: "5px",
						height: "1px",
						overflow: "hidden",
						padding: "8px 0",
						visibility: "hidden",
						whiteSpace: "pre-line",
						font: "10px/1 serif"
					},
					a = document.createElement(e),
					s = document.createTextNode("a\na");
				for (i in n) a.style[i] = n[i];
				return a.appendChild(s), document.body.appendChild(a), t = a.scrollHeight < 28, document.body.removeChild(a), t
			},
			c = .5 * Math.PI,
			d = 10 * Math.log(2),
			u = function(e, t, i) {
				var n = c / t,
					a = e * n;
				return Math.round(a * Math.cos(n * i))
			},
			h = function(e, t, i) {
				return Math.round(e * d * Math.pow(2, -10 * i / t + 1) / t)
			},
			p = function(e, t, i, n) {
				return 2 * i / Math.PI * Math.asin((n - e) / t)
			},
			f = function(t) {
				var i = e(this).data("enscroll"),
					n = this,
					a = i.settings,
					s = function() {
						var t = e(this).data("enscroll"),
							i = t.settings;
						t && i.showOnHover && (i.verticalScrolling && e(t.verticalTrackWrapper).is(":visible") && e(t.verticalTrackWrapper).stop().fadeTo(275, 0), i.horizontalScrolling && e(t.horizontalTrackWrapper).is(":visible") && e(t.horizontalTrackWrapper).stop().fadeTo(275, 0), t._fadeTimer = null)
					};
				i && a.showOnHover && (i._fadeTimer ? clearTimeout(i._fadeTimer) : (a.verticalScrolling && e(i.verticalTrackWrapper).is(":visible") && e(i.verticalTrackWrapper).stop().fadeTo(275, 1), a.horizontalScrolling && e(i.horizontalTrackWrapper).is(":visible") && e(i.horizontalTrackWrapper).stop().fadeTo(275, 1)), t !== !1 && (i._fadeTimer = setTimeout(function() {
					s.call(n)
				}, 1750)))
			},
			m = function(t, i) {
				var n = e(t),
					a = n.data("enscroll"),
					s = n.scrollTop();
				a && a.settings.verticalScrolling && (n.scrollTop(s + i), a.settings.showOnHover && f.call(t))
			},
			g = function(t, i) {
				var n = e(t),
					a = n.data("enscroll"),
					s = n.scrollLeft();
				a && a.settings.horizontalScrolling && (n.scrollLeft(s + i), a.settings.showOnHover && f.call(t))
			},
			v = function(t) {
				if (1 === t.which) {
					var n, a, s, o, l, c, d, u, h, p = t.data.pane,
						m = e(p),
						g = m.data("enscroll"),
						v = !0,
						y = function() {
							v && (s !== o && (g._scrollingY || (g._scrollingY = !0, g._startY = m.scrollTop(), r(function() {
								b(m)
							})), a.style.top = s + "px", g._endY = s * h / u, o = s), r(y), g.settings.showOnHover && f.call(p))
						},
						w = function(e) {
							return v && (s = e.clientY - c - l, s = Math.min(0 > s ? 0 : s, u)), !1
						},
						x = function() {
							return v = !1, i.body.style.cursor = d, this.style.cursor = "", n.removeClass("dragging"), e(i.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"), e(i).off("mouseout.enscroll.vertical"), m.on("scroll.enscroll.pane", function(e) {
								C.call(this, e)
							}), !1
						};
					return n = e(g.verticalTrackWrapper).find(".enscroll-track"), a = n.children().first()[0], s = parseInt(a.style.top, 10), h = p.scrollHeight - (g._scrollHeightNoPadding ? e(p).height() : e(p).innerHeight()), l = t.clientY - e(a).offset().top, u = n.height() - e(a).outerHeight(), c = n.offset().top, m.off("scroll.enscroll.pane"), e(i.body).on({
						"mousemove.enscroll.vertical": w,
						"mouseup.enscroll.vertical": function(e) {
							x.call(a, e)
						}
					}), e(i).on("mouseout.enscroll.vertical", function(e) {
						e.target.nodeName && "HTML" === e.target.nodeName.toUpperCase() && x.call(a, e)
					}), n.hasClass("dragging") || (n.addClass("dragging"), d = e(i.body).css("cursor"), this.style.cursor = i.body.style.cursor = "ns-resize"), r(y), !1
				}
			},
			y = function(t) {
				if (1 === t.which) {
					var n, a, s, o, l, c, d, u, h, p = t.data.pane,
						m = e(p),
						g = e(p).data("enscroll"),
						v = !0,
						y = function() {
							v && (s !== o && (g._scrollingX || (g._scrollingX = !0, g._startX = m.scrollLeft(), r(function() {
								b(m)
							})), a.style.left = s + "px", g._endX = s * l / h, o = s), r(y), g.settings.showOnHover && f.call(p))
						},
						w = function(e) {
							return v && (s = e.clientX - d - c, s = Math.min(0 > s ? 0 : s, h)), !1
						},
						x = function() {
							return v = !1, n.removeClass("dragging"), i.body.style.cursor = u, this.style.cursor = "", n.removeClass("dragging"), e(i.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"), e(i).off("mouseout.enscroll.horizontal"), m.on("scroll.enscroll.pane", function(e) {
								C.call(this, e)
							}), !1
						};
					return n = e(g.horizontalTrackWrapper).find(".enscroll-track"), a = n.children().first()[0], s = parseInt(a.style.left, 10), l = p.scrollWidth - e(p).innerWidth(), c = t.clientX - e(a).offset().left, h = n.width() - e(a).outerWidth(), d = n.offset().left, m.off("scroll.enscroll.pane"), e(i.body).on({
						"mousemove.enscroll.horizontal": w,
						"mouseup.enscroll.horizontal": function(e) {
							x.call(a, e)
						}
					}), e(i).on("mouseout.enscroll.horizontal", function(e) {
						e.target.nodeName && "HTML" === e.target.nodeName.toUpperCase() && x.call(a, e)
					}), n.hasClass("dragging") || (n.addClass("dragging"), u = e("body").css("cursor"), this.style.cursor = i.body.style.cursor = "ew-resize"), r(y), !1
				}
			},
			b = function(e) {
				var t, i, n, a = e.data("enscroll"),
					s = a._duration;
				a._scrollingX === !0 && (t = a._endX - a._startX, 0 === t ? a._scrollingX = !1 : (i = e.scrollLeft(), n = p(a._startX, t, s, i), t > 0 ? i >= a._endX || i < a._startX ? a._scrollingX = !1 : (g(e, Math.max(1, u(t, s, n))), r(function() {
					b(e)
				})) : i <= a._endX || i > a._startX ? a._scrollingX = !1 : (g(e, Math.min(-1, u(t, s, n))), r(function() {
					b(e)
				})))), a._scrollingY === !0 && (t = a._endY - a._startY, 0 === t ? a._scrollingY = !1 : (i = e.scrollTop(), n = p(a._startY, t, s, i), t > 0 ? i >= a._endY || i < a._startY ? a._scrollingY = !1 : (m(e, Math.max(1, u(t, s, n))), r(function() {
					b(e)
				})) : i <= a._endY || i > a._startY ? a._scrollingY = !1 : (m(e, Math.min(-1, u(t, s, n))), r(function() {
					b(e)
				}))))
			},
			w = function(e, t) {
				var i = e.data("enscroll"),
					n = e.scrollLeft(),
					a = e[0].scrollWidth - e.innerWidth();
				return !i.settings.horizontalScrolling || i._scrollingY ? !1 : (i._scrollingX || (i._scrollingX = !0, i._startX = n, i._endX = i._startX, r(function() {
					b(e)
				})), i._endX = t > 0 ? Math.min(n + t, a) : Math.max(0, n + t), 0 > t && n > 0 || t > 0 && a > n)
			},
			x = function(e, t) {
				var i = e.data("enscroll"),
					n = e.scrollTop(),
					a = e[0].scrollHeight - (i._scrollHeightNoPadding ? e.height() : e.innerHeight());
				return !i.settings.verticalScrolling || i._scrollingX ? !1 : (i._scrollingY || (i._scrollingY = !0, i._startY = n, i._endY = i._startY, r(function() {
					b(e)
				})), i._endY = t > 0 ? Math.min(n + t, a) : Math.max(0, n + t), 0 > t && n > 0 || t > 0 && a > n)
			},
			k = function(t) {
				var i, n = e(this),
					a = n.data("enscroll"),
					r = a.settings.scrollIncrement,
					o = "deltaX" in t ? -t.deltaX : "wheelDeltaX" in t ? t.wheelDeltaX : 0,
					l = "deltaY" in t ? -t.deltaY : "wheelDeltaY" in t ? t.wheelDeltaY : "wheelDelta" in t ? t.wheelDelta : 0;
				Math.abs(o) > Math.abs(l) ? (i = (o > 0 ? -r : r) << 2, (w(n, i) || !a.settings.propagateWheelEvent) && s(t)) : (i = (l > 0 ? -r : r) << 2, (x(n, i) || !a.settings.propagateWheelEvent) && s(t))
			},
			C = function() {
				var t, i, n, a = e(this),
					s = a.data("enscroll");
				s && (s.settings.verticalScrolling && (i = e(s.verticalTrackWrapper).find(".enscroll-track")[0], t = i.firstChild, n = a.scrollTop() / (this.scrollHeight - (s._scrollHeightNoPadding ? a.height() : a.innerHeight())), n = isNaN(n) ? 0 : n, t.style.top = n * (e(i).height() - e(t).outerHeight()) + "px"), s.settings.horizontalScrolling && (i = e(s.horizontalTrackWrapper).find(".enscroll-track")[0], t = i.firstChild, n = a.scrollLeft() / (this.scrollWidth - a.innerWidth()), n = isNaN(n) ? 0 : n, t.style.left = n * (e(i).width() - e(t).innerWidth()) + "px"))
			},
			T = function(t) {
				var i, n = e(this),
					a = n.data("enscroll");
				if (!/(input)|(select)|(textarea)/i.test(this.nodeName) && t.target === this && a) {
					switch (i = a.settings.scrollIncrement, t.keyCode) {
						case 32:
						case 34:
							return x(n, n.height()), !1;
						case 33:
							return x(n, -n.height()), !1;
						case 35:
							return x(n, this.scrollHeight), !1;
						case 36:
							return x(n, -this.scrollHeight), !1;
						case 37:
							return w(n, -i), !1;
						case 38:
							return x(n, -i), !1;
						case 39:
							return w(n, i), !1;
						case 40:
							return x(n, i), !1
					}
					return !0
				}
			},
			D = function() {
				var t = this,
					n = e(t).data("enscroll").settings,
					a = !0,
					s = 0,
					o = 0,
					l = e(t).offset().top,
					c = l + e(t).outerHeight(),
					d = e(t).offset().left,
					u = d + e(t).outerWidth(),
					h = function(e) {
						var t = e.pageX,
							i = e.pageY;
						s = d > t ? t - d : t > u ? t - u : 0, o = l > i ? i - l : i > c ? i - c : 0
					},
					p = function() {
						n.horizontalScrolling && s && g(t, parseInt(s / 4, 10)), n.verticalScrolling && o && m(t, parseInt(o / 4, 10)), a && r(p)
					},
					f = function() {
						a = !1, e(i).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")
					};
				r(p), e(i).on({
					"mousemove.enscroll.pane": h,
					"mouseup.enscroll.pane": f
				})
			},
			S = function(e) {
				var t, i, a, o, l, c, d, u = this,
					p = function(e) {
						t = e.touches[0].clientX, i = e.touches[0].clientY, a || (a = i === l && t === o ? n : Math.abs(l - i) > Math.abs(o - t) ? "y" : "x"), s(e)
					},
					f = function() {
						c && ("y" === a ? (m(u, l - i), d = l - i, l = i) : "x" === a && (g(u, o - t), d = o - t, o = t), r(f))
					},
					v = function() {
						var e = 0,
							t = Math.abs(1.5 * d);
						this.removeEventListener("touchmove", p, !1), this.removeEventListener("touchend", v, !1), c = !1, r(function i() {
							var n;
							e === t || c || (n = h(d, t, e), isNaN(n) || 0 === n || (e += 1, "y" === a ? m(u, n) : g(u, n), r(i)))
						})
					};
				1 === e.touches.length && (o = e.touches[0].clientX, l = e.touches[0].clientY, c = !0, this.addEventListener("touchmove", p, !1), this.addEventListener("touchend", v, !1), r(f))
			},
			_ = {
				reposition: function() {
					return this.each(function() {
						var t, i, n, a = e(this),
							s = a.data("enscroll"),
							r = function(e, t, i) {
								e.style.left = t + "px", e.style.top = i + "px"
							};
						s && (n = a.position(), t = s.corner, s.settings.verticalScrolling && (i = s.verticalTrackWrapper, r(i, "right" === s.settings.verticalScrollerSide ? n.left + a.outerWidth() - e(i).width() - o(this, "border-right-width") : n.left + o(this, "border-left-width"), n.top + o(this, "border-top-width"))), s.settings.horizontalScrolling && (i = s.horizontalTrackWrapper, r(i, n.left + o(this, "border-left-width"), n.top + a.outerHeight() - e(i).height() - o(this, "border-bottom-width"))), t && r(t, n.left + a.outerWidth() - e(t).outerWidth() - o(this, "border-right-width"), n.top + a.outerHeight() - e(t).outerHeight() - o(this, "border-bottom-width")))
					})
				},
				resize: function() {
					return this.each(function() {
						var t, i, n, a, s, r, o, l, c, d, u, h, p, f, m, g, v = e(this),
							y = v.data("enscroll");
						return y ? (t = y.settings, void(v.is(":visible") ? (t.verticalScrolling && (a = y.verticalTrackWrapper, i = v.innerHeight(), s = i / this.scrollHeight || 0, r = e(a).find(".enscroll-track")[0], c = e(a).find("." + t.scrollUpButtonClass), d = e(a).find("." + t.scrollDownButtonClass), l = t.horizontalScrolling ? i - e(y.horizontalTrackWrapper).find(".enscroll-track").outerHeight() : i, l -= e(r).outerHeight() - e(r).height() + c.outerHeight() + d.outerHeight(), p = r.firstChild, m = Math.max(s * l, t.minScrollbarLength), m -= e(p).outerHeight() - e(p).height(), a.style.display = "none", r.style.height = l + "px", p.style.height = m + "px", 1 > s && (s = v.scrollTop() / (this.scrollHeight - v.height()) || 0, p.style.top = s * (l - m) + "px", a.style.display = "block")), t.horizontalScrolling && (a = y.horizontalTrackWrapper, n = v.innerWidth(), s = n / this.scrollWidth, r = e(a).find(".enscroll-track")[0], u = e(a).find("." + t.scrollLeftButtonClass), h = e(a).find("." + t.scrollRightButtonClass), o = t.verticalScrolling ? n - e(y.verticalTrackWrapper).find(".enscroll-track").outerWidth() : n, o -= e(r).outerWidth() - e(r).width() + u.outerWidth() + h.outerWidth(), p = r.firstChild, f = Math.max(s * o, t.minScrollbarLength), f -= e(p).outerWidth() - e(p).width(), a.style.display = "none", r.style.width = o + "px", p.style.width = f + "px", 1 > s && (s = v.scrollLeft() / (this.scrollWidth - v.width()), p.style.left = s * (o - f) + "px", a.style.display = "block"), y._prybar && (g = y._prybar, this.removeChild(g), t.verticalScrolling && (g.style.width = this.scrollWidth + e(y.verticalTrackWrapper).find(".enscroll-track").outerWidth() + "px", this.appendChild(g)))), y.corner && (y.corner.style.display = y.verticalTrackWrapper && y.horizontalTrackWrapper && e(y.verticalTrackWrapper).is(":visible") && e(y.horizontalTrackWrapper).is(":visible") ? "" : "none")) : (t.verticalScrolling && (y.verticalTrackWrapper.style.display = "none"), t.horizontalScrolling && (y.horizontalTrackWrapper.style.display = "none"), y.corner && (y.corner.style.display = "none")))) : !0
					})
				},
				startPolling: function() {
					return this.each(function() {
						var t, i = e(this).data("enscroll"),
							n = this,
							a = e(n),
							s = -1,
							r = -1,
							o = -1,
							l = -1,
							c = function() {
								if (i.settings.pollChanges) {
									var e = n.scrollWidth,
										d = n.scrollHeight,
										u = a.width(),
										h = a.height(),
										p = a.offset();
									(i.settings.verticalScrolling && (h !== r || d !== l) || i.settings.horizontalScrolling && (u !== s || e !== o)) && (o = e, l = d, _.resize.call(a)), (t.left !== p.left || t.top !== p.top || u !== s || h !== r) && (t = p, s = u, r = h, _.reposition.call(a)), setTimeout(c, 350)
								}
							};
						i && (i.settings.pollChanges = !0, l = n.scrollHeight, o = n.scrollWidth, t = a.offset(), c())
					})
				},
				stopPolling: function() {
					return this.each(function() {
						var t = e(this).data("enscroll");
						t && (t.settings.pollChanges = !1)
					})
				},
				destroy: function() {
					return this.each(function() {
						var i, n, a = e(this),
							s = a.data("enscroll");
						s && (_.stopPolling.call(a), n = s._mouseScrollHandler, s.settings.verticalScrolling && (i = s.verticalTrackWrapper, e(i).remove(), i = null), s.settings.horizontalScrolling && (i = s.horizontalTrackWrapper, e(i).remove(), i = null), s._fadeTimer && clearTimeout(s._fadeTimer), s.corner && e(s.corner).remove(), s._prybar && s._prybar.parentNode && s._prybar.parentNode === this && e(s._prybar).remove(), this.setAttribute("style", s._style || ""), s._hadTabIndex || a.removeAttr("tabindex"), a.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll", null), this.removeEventListener ? (this.removeEventListener("wheel", n, !1), this.removeEventListener("mousewheel", n, !1), this.removeEventListener("touchstart", S, !1)) : this.detachEvent && this.detachEvent("onmousewheel", n), e(t).off("resize.enscroll.window"))
					})
				}
			};
		e.fn.enscroll = function(n) {
			var s;
			return _[n] ? _[n].call(this) : (s = e.extend({}, a, n), this.each(function() {
				if (s.verticalScrolling || s.horizontalScrolling) {
					var n, a, r, c, d, u, h, p, b, I, A, P, M, E, N, U, O, F, $ = e(this),
						R = this,
						W = $.attr("style"),
						L = !0,
						H = {
							position: "absolute",
							"z-index": s.zIndex,
							margin: 0,
							padding: 0
						},
						j = function(e) {
							k.call(R, e)
						},
						q = function(t, i) {
							"string" == typeof i ? e(t).html(i) : t.appendChild(i)
						};
					if (s.verticalScrolling) {
						a = i.createElement("div"), c = i.createElement("div"), u = i.createElement("a"), e(c).css("position", "relative").addClass("enscroll-track").addClass(s.verticalTrackClass).appendTo(a), s.drawScrollButtons && (h = i.createElement("a"), p = i.createElement("a"), e(h).css({
							display: "block",
							"text-decoration": "none"
						}).attr("href", "").html("&nbsp;").addClass(s.scrollUpButtonClass).on("click", function() {
							return m(R, -s.scrollIncrement), !1
						}).insertBefore(c), e(p).css({
							display: "block",
							"text-decoration": "none"
						}).attr("href", "").html("&nbsp;").on("click", function() {
							return m(R, s.scrollIncrement), !1
						}).addClass(s.scrollDownButtonClass).appendTo(a)), s.clickTrackToScroll && e(c).on("click", function(t) {
							t.target === this && x($, t.pageY > e(u).offset().top ? $.height() : -$.height())
						}), e(u).css({
							position: "absolute",
							"z-index": 1
						}).attr("href", "").addClass(s.verticalHandleClass).mousedown({
							pane: this
						}, v).click(function() {
							return !1
						}).appendTo(c), q(u, s.verticalHandleHTML), e(a).css(H).insertAfter(this), s.showOnHover && e(a).css("opacity", 0).on("mouseover.enscroll.vertical", function() {
							f.call(R, !1)
						}).on("mouseout.enscroll.vertical", function() {
							f.call(R)
						}), P = e(c).outerWidth(), s.addPaddingToPane && (F = "right" === s.verticalScrollerSide ? {
							"padding-right": o(this, "padding-right") + P + "px"
						} : {
							"padding-left": o(this, "padding-left") + P + "px"
						}, $.css(e.extend({
							width: $.width() - P + "px"
						}, F)));
						try {
							U = parseInt($.css("outline-width"), 10), 0 !== U && !isNaN(U) || "none" !== $.css("outline-style") || $.css("outline", "none")
						} catch (z) {
							$.css("outline", "none")
						}
					}
					s.horizontalScrolling && (n = i.createElement("div"), r = i.createElement("div"), d = i.createElement("a"), e(r).css({
						position: "relative",
						"z-index": 1
					}).addClass("enscroll-track").addClass(s.horizontalTrackClass).appendTo(n), s.drawScrollButtons && (b = i.createElement("a"), I = i.createElement("a"), e(b).css("display", "block").attr("href", "").on("click", function() {
						return g(R, -s.scrollIncrement), !1
					}).addClass(s.scrollLeftButtonClass).insertBefore(r), e(I).css("display", "block").attr("href", "").on("click", function() {
						return g(R, s.scrollIncrement), !1
					}).addClass(s.scrollRightButtonClass).appendTo(n)), s.clickTrackToScroll && e(r).on("click", function(t) {
						t.target === this && w($, t.pageX > e(d).offset().left ? $.width() : -$.width())
					}), e(d).css({
						position: "absolute",
						"z-index": 1
					}).attr("href", "").addClass(s.horizontalHandleClass).click(function() {
						return !1
					}).mousedown({
						pane: this
					}, y).appendTo(r), q(d, s.horizontalHandleHTML), e(n).css(H).insertAfter(this), s.showOnHover && e(n).css("opacity", 0).on("mouseover.enscroll.horizontal", function() {
						f.call(R, !1)
					}).on("mouseout.enscroll.horizontal", function() {
						f.call(R)
					}), A = e(r).outerHeight(), s.addPaddingToPane && $.css({
						height: $.height() - A + "px",
						"padding-bottom": parseInt($.css("padding-bottom"), 10) + A + "px"
					}), s.verticalScrolling && (O = document.createElement("div"), e(O).css({
						width: "1px",
						height: "1px",
						visibility: "hidden",
						padding: 0,
						margin: "-1px"
					}).appendTo(this))), s.verticalScrolling && s.horizontalScrolling && s.drawCorner && (M = i.createElement("div"), e(M).addClass(s.cornerClass).css(H).insertAfter(this)), N = $.attr("tabindex"), N || ($.attr("tabindex", 0), L = !1);
					try {
						E = $.css("outline"), (!E || E.length < 1) && $.css("outline", "none")
					} catch (z) {
						$.css("outline", "none")
					}
					$.on({
						"scroll.enscroll.pane": function(e) {
							C.call(this, e)
						},
						"keydown.enscroll.pane": T,
						"mousedown.enscroll.pane": D
					}).css("overflow", "hidden").data("enscroll", {
						settings: s,
						horizontalTrackWrapper: n,
						verticalTrackWrapper: a,
						corner: M,
						_prybar: O,
						_mouseScrollHandler: j,
						_hadTabIndex: L,
						_style: W,
						_scrollingX: !1,
						_scrollingY: !1,
						_startX: 0,
						_startY: 0,
						_endX: 0,
						_endY: 0,
						_duration: parseInt(s.easingDuration / 16.66666, 10),
						_scrollHeightNoPadding: l(this.nodeName)
					}), e(t).on("resize.enscroll.window", function() {
						_.reposition.call($)
					}), s.showOnHover && $.on("mouseenter.enscroll.pane", function() {
						f.call(this)
					}), this.addEventListener ? ("onwheel" in this || "WheelEvent" in t && navigator.userAgent.toLowerCase().indexOf("msie") >= 0 ? this.addEventListener("wheel", j, !1) : "onmousewheel" in this && this.addEventListener("mousewheel", j, !1), this.addEventListener("touchstart", S, !1)) : this.attachEvent && this.attachEvent("onmousewheel", j), s.pollChanges && _.startPolling.call($), _.resize.call($), _.reposition.call($)
				}
			}))
		}
	}(jQuery, window, document), define("enscroll", ["jquery"], function() {}),
	function(e) {
		e.isScrollToFixed = function(t) {
			return !!e(t).data("ScrollToFixed")
		}, e.ScrollToFixed = function(t, i) {
			function n() {
				k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed"), S = -1, C = k.offset().top, T = k.offset().left, g.options.offsets && (T += k.offset().left - k.position().left), -1 == D && (D = T), v = k.css("position"), x = !0, -1 != g.options.bottom && (k.trigger("preFixed.ScrollToFixed"), l(), k.trigger("fixed.ScrollToFixed"))
			}

			function a() {
				var e = g.options.limit;
				return e ? "function" == typeof e ? e.apply(k) : e : 0
			}

			function s() {
				return "fixed" === v
			}

			function r() {
				return "absolute" === v
			}

			function o() {
				return !(s() || r())
			}

			function l() {
				s() || (_.css({
					display: k.css("display"),
					width: k.outerWidth(!0),
					height: k.outerHeight(!0),
					"float": k.css("float")
				}), cssOptions = {
					"z-index": g.options.zIndex,
					position: "fixed",
					top: -1 == g.options.bottom ? h() : "",
					bottom: -1 == g.options.bottom ? "" : g.options.bottom,
					"margin-left": "0px"
				}, g.options.dontSetWidth || (cssOptions.width = k.css("width")), k.css(cssOptions), k.addClass(g.options.baseClassName), g.options.className && k.addClass(g.options.className), v = "fixed")
			}

			function c() {
				var e = a(),
					t = T;
				g.options.removeOffsets && (t = "", e -= C), cssOptions = {
					position: "absolute",
					top: e,
					left: 0,
					"margin-left": "0",
					bottom: ""
				}, g.options.dontSetWidth || (cssOptions.width = k.css("width")), k.css(cssOptions), v = "absolute"
			}

			function d() {
				o() || (S = -1, _.css("display", "none"), k.css({
					"z-index": w,
					width: "",
					position: y,
					left: "",
					top: b,
					"margin-left": ""
				}), k.removeClass("scroll-to-fixed-fixed"), g.options.className && k.removeClass(g.options.className), v = null)
			}

			function u(e) {
				e != S && (k.css("left", T - e), S = e)
			}

			function h() {
				var e = g.options.marginTop;
				return e ? "function" == typeof e ? e.apply(k) : e : 0
			}

			function p() {
				if (e.isScrollToFixed(k)) {
					var t = x;
					x ? o() && (C = k.offset().top, T = k.offset().left) : n();
					var i = e(window).scrollLeft(),
						p = e(window).scrollTop(),
						v = a();
					g.options.minWidth && e(window).width() < g.options.minWidth ? o() && t || (m(), k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed")) : g.options.maxWidth && e(window).width() > g.options.maxWidth ? o() && t || (m(), k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed")) : -1 == g.options.bottom ? v > 0 && p >= v - h() ? r() && t || (m(), k.trigger("preAbsolute.ScrollToFixed"), c(), k.trigger("unfixed.ScrollToFixed")) : p >= C - h() ? (s() && t || (m(), k.trigger("preFixed.ScrollToFixed"), l(), S = -1, k.trigger("fixed.ScrollToFixed")), u(i)) : o() && t || (m(), k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed")) : v > 0 ? p + e(window).height() - k.outerHeight(!0) >= v - (h() || -f()) ? s() && (m(), k.trigger("preUnfixed.ScrollToFixed"), "absolute" === y ? c() : d(), k.trigger("unfixed.ScrollToFixed")) : (s() || (m(), k.trigger("preFixed.ScrollToFixed"), l()), u(i), k.trigger("fixed.ScrollToFixed")) : u(i)
				}
			}

			function f() {
				return g.options.bottom ? g.options.bottom : 0
			}

			function m() {
				var e = k.css("position");
				"absolute" == e ? k.trigger("postAbsolute.ScrollToFixed") : "fixed" == e ? k.trigger("postFixed.ScrollToFixed") : k.trigger("postUnfixed.ScrollToFixed")
			}
			var g = this;
			g.$el = e(t), g.el = t, g.$el.data("ScrollToFixed", g);
			var v, y, b, w, x = !1,
				k = g.$el,
				C = 0,
				T = 0,
				D = -1,
				S = -1,
				_ = null,
				I = function(e) {
					k.is(":visible") && (x = !1, p())
				},
				A = function(e) {
					window.requestAnimationFrame ? requestAnimationFrame(p) : p()
				},
				P = function(e) {
					e = e || window.event, e.preventDefault && e.preventDefault(), e.returnValue = !1
				};
			g.init = function() {
				g.options = e.extend({}, e.ScrollToFixed.defaultOptions, i), w = k.css("z-index"), g.$el.css("z-index", g.options.zIndex), _ = e("<div />"), v = k.css("position"), y = k.css("position"), b = k.css("top"), o() && g.$el.after(_), e(window).bind("resize.ScrollToFixed", I), e(window).bind("scroll.ScrollToFixed", A), "ontouchmove" in window && e(window).bind("touchmove.ScrollToFixed", function(t) {
					e(t.target).parents(".tabs-col") || p()
				}), g.options.preFixed && k.bind("preFixed.ScrollToFixed", g.options.preFixed), g.options.postFixed && k.bind("postFixed.ScrollToFixed", g.options.postFixed), g.options.preUnfixed && k.bind("preUnfixed.ScrollToFixed", g.options.preUnfixed), g.options.postUnfixed && k.bind("postUnfixed.ScrollToFixed", g.options.postUnfixed), g.options.preAbsolute && k.bind("preAbsolute.ScrollToFixed", g.options.preAbsolute), g.options.postAbsolute && k.bind("postAbsolute.ScrollToFixed", g.options.postAbsolute), g.options.fixed && k.bind("fixed.ScrollToFixed", g.options.fixed), g.options.unfixed && k.bind("unfixed.ScrollToFixed", g.options.unfixed), g.options.spacerClass && _.addClass(g.options.spacerClass), k.bind("resize.ScrollToFixed", function() {
					_.height(k.height())
				}), k.bind("scroll.ScrollToFixed", function() {
					k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed"), p()
				}), k.bind("detach.ScrollToFixed", function(t) {
					P(t), k.trigger("preUnfixed.ScrollToFixed"), d(), k.trigger("unfixed.ScrollToFixed"), e(window).unbind("resize.ScrollToFixed", I), e(window).unbind("scroll.ScrollToFixed", A), k.unbind(".ScrollToFixed"), _.remove(), g.$el.removeData("ScrollToFixed")
				}), I()
			}, g.init()
		}, e.ScrollToFixed.defaultOptions = {
			marginTop: 0,
			limit: 0,
			bottom: -1,
			zIndex: 1e3,
			baseClassName: "scroll-to-fixed-fixed"
		}, e.fn.scrollToFixed = function(t) {
			return this.each(function() {
				new e.ScrollToFixed(this, t)
			})
		}
	}(jQuery),
	function(e) {
		e.fn.autoGrowInput = function(t) {
			return t = e.extend({
				maxWidth: 1e3,
				minWidth: 0,
				comfortZone: 70
			}, t), this.filter("input:text").each(function() {
				var i = t.minWidth || e(this).width(),
					n = "",
					a = e(this),
					s = e("<tester/>").css({
						position: "absolute",
						top: -9999,
						left: -9999,
						width: "auto",
						fontSize: a.css("fontSize"),
						fontFamily: a.css("fontFamily"),
						fontWeight: a.css("fontWeight"),
						letterSpacing: a.css("letterSpacing"),
						whiteSpace: "nowrap"
					}),
					r = function() {
						if (n !== (n = a.val())) {
							var e = n.replace(/&/g, "&amp;").replace(/\s/g, "&nbsp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
							s.html(e);
							var r = s.width(),
								o = r + t.comfortZone >= i ? r + t.comfortZone : i,
								l = a.width(),
								c = l > o && o >= i || o > i && o < t.maxWidth;
							c && a.width(o)
						}
					};
				s.insertAfter(a), e(this).bind("keyup keydown blur update", r)
			}), this
		}
	}(jQuery), define("vendor/scrolltofixed", function() {}),
	function(e) {
		e.fn.autoGrowInput = function(t) {
			return t = e.extend({
				maxWidth: 1e3,
				minWidth: 0,
				comfortZone: 0
			}, t), this.filter("input:text").each(function() {
				var i = t.minWidth || e(this).width(),
					n = "",
					a = e(this),
					s = e("<tester/>").css({
						position: "absolute",
						top: -9999,
						left: -9999,
						width: "auto",
						fontSize: a.css("fontSize"),
						fontFamily: a.css("fontFamily"),
						fontWeight: a.css("fontWeight"),
						letterSpacing: a.css("letterSpacing"),
						whiteSpace: "nowrap"
					}),
					r = function() {
						if (n !== (n = a.val())) {
							var e = n.replace(/&/g, "&amp;").replace(/\s/g, "&nbsp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
							s.html(e);
							var r = s.width(),
								o = r + t.comfortZone >= i ? r + t.comfortZone : i,
								l = a.width(),
								c = l > o && o >= i || o > i && o < t.maxWidth;
							c && a.width(o)
						}
					};
				s.insertAfter(a), e(this).bind("keyup keydown blur update", r)
			}), this
		}
	}(jQuery), define("vendor/autogrow", function() {}), define("search-panel/search-panel-v3", ["base", "jquery", "./search-autosuggest-v3", "./search-who-v3", "./search-when-nordics", "./search-where-v3", "./search-where-to-v3", "./search-tabs", "../emotional-header/emotional-header", "enscroll", "handlebarsHelpers", "helpers/dockable", "jqueryCookie", "vendor/scrolltofixed", "vendor/autogrow"], function(e, t, i, n, a, s, r, o, l, c, d, u, h) {
		function p(e, i) {
			return e && e.length ? (this.ele = e, this.opts = t.extend({}, {
				tabClasses: ["package", "flight", "hotel"],
				emotionalHeader: t("#emotional-header"),
				searchNowBtn: t("#searchNowBtn"),
				responseURL: tuiConfig.search.responseURL
			}, i), void this.init()) : !1
		}
		var f, m, g = t(".search-panel form"),
			v = (TUIUtil.isSafariBrowser(), t("#new-search-panel-container")),
			y = t("#results"),
			b = 350,
			w = t("#searchResultFlyoutRedesign"),
			x = {
				init: function() {
					f = this, m = t("body").hasClass("results"), E(), f.errorValidations = [], f.movePanelWrappers(), f.fromSubmit = !1, f.targetedPanel = "", f.bindPanels(), f.resizeEvent(), f.bindFormSubmit(), A(), O(), (window.formValuesJSON || window.flightOnlyValuesJSON) && P(f.getCookie("SEARCH_TYPE")), this.searchAutoSuggest = new i(t("#searchPanel-field-search"), {
						controller: this
					}), this.searchWho = new n(t("#searchWho"), {
						controller: this
					}), this.searchWhen = new a(t("#searchWhen"), {
						input: this.ele.find("a#when"),
						controller: this,
						durationSelector: "#search-when-duration"
					}).init(), this.searchWhere = new s(t("#searchWhere"), {
						controller: this
					}), this.searchWhereTo = new r(t("#searchWhereTo"), {
						controller: this
					}), this.searchTabs = new o(t("#search-panel-tabs"), {
						controller: this
					}), this.opts.emotionalHeader.length && (this.emotionalHeader = new l(this.opts.emotionalHeader)), this.ele.on("click", "a.search-panel-trigger", function(e) {
						e.stopPropagation(), f.ele.toggleClass("open"), f.ele.is(".open") ? (f.searchAutoSuggest.wrapper.trigger("click").addClass("focus"), f.searchAutoSuggest.wrapperHeight = f.searchAutoSuggest.wrapper.height(), y.length && y.addClass("search-open")) : y.length && y.removeClass("search-open")
					}), this.changeDateAction(), N(), t.subscribe("windowResized", t.proxy(f.changeDropdownPos, f)), TUIUtil.setBackgroundImage(), TUIUtil.isStartPageSearchPanel() && t("body").addClass("start-page-search"), t.subscribe("windowResized", t.proxy(TUIUtil.setBackgroundImage, f)), this.addSupportForArrayIndexOf(), U(), this.bindMobileSearchInit(), t("body").on("keydown", function(e) {
						27 === e.keyCode && (w.hasClass("open") ? w.removeClass("open").hide() : f.closePanel())
					}), f.windowScrollEvent(), this.ele.on("click", ".redirect-link", function(e) {
						return window.location.href = this.href, !1
					}), this.fields = t("[data-panel]")
				},
				windowScrollEvent: function() {
					t(window).on("scroll", function(e) {
						clearTimeout(t.data(this, "scrollTimer")), t.data(this, "scrollTimer", setTimeout(function() {
							if (!f.panels.hasClass("open") && "xs" !== TUIUtil.getCurrentBreakPoint()) {
								var e = (new Date).getTime();
								e - f.lastClosingTime > 1e3 && v.css("position", "absolute")
							}
						}, 250))
					})
				},
				movePanelWrappers: function() {
					if ("xs" !== TUIUtil.getCurrentBreakPoint()) {
						var e = f.ele.find(".panel-wrapper");
						f.ele.find("#desktop-panel-wrapper").append(e)
					}
				},
				getCookie: function(e) {
					return t.cookie(e)
				},
				validateForm: function(e, i, n) {
					f.opts.searchNowBtn.addClass("loader-green"), TUIUtil.genericAjaxRequest({
						url: i + "&searchInitiator=" + n.searchInitiator,
						dataType: "json",
						cache: !1,
						type: "post",
						contentType: "application/json",
						data: JSON.stringify(n)
					}).done(function(i) {
						f.opts.searchNowBtn.removeClass("loader-green"), i.resultsFound ? f.submit(!0, void 0, void 0, i) : (f.updateSubmitPanel(e, i), t.publish("openSearchPanel"))
					})
				},
				updateSubmitPanel: function(e, t) {
					f.opts.searchNowBtn.attr("disabled", "disabled"), e.find(".message-header").html(t.noRecordsMessageTitle);
					var i = e.find(".alternate-date"),
						n = e.find(".alternate-duration");
					if (i.addClass("hidden"), n.addClass("hidden"), t.alternateDate) {
						var a = TUIUtil.dateDayConverter(t.alternateDate);
						i.removeClass("hidden").find("a").attr("href", t.alternateDateURL).text(a)
					}
					t.alternateDuration && n.removeClass("hidden").find("a").attr("href", t.alternateDurationURL).find("span.duration-number").text(t.alternateDuration)
				},
				isFlyoutOpen: function() {
					var e = !1;
					return "searchResultFlyoutRedesign" === f.$openPanel.attr("id") && (f.$openPanel = t("#searchDestinationRedesign")), f.$openPanel && f.$openPanel.hasClass("open") && (e = !0), e
				},
				setDefaultLabel: function() {
					var e = t("#when");
					t.cookie("formvalues") || e.val("")
				},
				bindFormSubmit: function() {
					t(".search-panel form").on("keypress", function(e) {
						return 13 === e.keyCode && "searchNowBtn" !== t(e.target).attr("id") ? !1 : void 0
					})
				},
				lastOpenTime: (new Date).getTime(),
				bindPanels: function() {
					var e = this.ele.find(".destination-flyout");
					this.panels = this.ele.find("div.dropdown-panel"), "xs" === TUIUtil.getCurrentBreakPoint() && (this.panels = this.panels.add(e)), this.panelOpen = !1, this.$openPanel = t([]), this.panelTriggers = this.ele.find("[data-panel]"), this.panelArrow = this.ele.find("div.panel-arrow"), this.ele.on("click", ".icon-calendar, .icon-plane, .icon-person", function(e) {
						t(this).closest(".icon-wrapper").siblings("input").focus()
					});
					var i = function(e, i, n) {
						if ("click" === e.type && e.stopPropagation(), f.lastOpenTime) {
							var a = new Date;
							a = a.getTime();
							var s = a - f.lastOpenTime;
							if (300 > s) return t(document).trigger("click"), !1;
							f.lastOpenTime = a
						}
						f.ele.removeAttr("css"), f.openPanel(n)
					};
					this.ele.on("click", "[data-panel]", function(e) {
						e.preventDefault();
						var n = e.currentTarget,
							a = e.type;
						f.targetedPanel = t(n), TUIUtil.printLog("Inside Panel Open Event : +" + e.type + " triggered by :" + e.target), i(e, a, n)
					}), this.ele.on("click", "a.btn-done, a.icon-close", function(e) {
						e.preventDefault(), "searchWhen" === f.$openPanel.attr("id") && f.searchWhen.setFieldValue(), f.closePanel(), "searchResultFlyout" === f.$openPanel.attr("id") && t(document).trigger("click")
					}), this.ele.on("keydown", "[data-panel]", function(e) {
						if (40 === e.keyCode) {
							var i = t("#searchDestinationRedesign"),
								n = i.find(".country-container"),
								a = n.find("li:first");
							"field-destination-picker" === t(e.currentTarget).attr("id") && i.hasClass("open") && a.find(".country-name").addClass("active").focus()
						}
					})
				},
				scrollWindowTillHeader: function(e, i) {
					var n, a;
					return "xs" !== TUIUtil.getCurrentBreakPoint() ? !0 : (n = i ? e : t(e).parent().find(".field-label-container"), a = n.offset().top, void t(window).scrollTop(a))
				},
				checkIfAutosuggestionOpen: function() {
					t("#searchResultFlyoutRedesign").removeClass("open").hide()
				},
				bindGlobalClosePanel: function() {
					t(document).on("click.closePanel", function(e) {
						var i = t(e.target);
						if (f.checkIfAutosuggestionOpen(), !i.is(f.panelTriggers) || !f.isAutoSuggestFocusAndOpen()) {
							"searchPanel-field-search-redesign" === i.attr("id") || i.parents("#searchDestinationRedesign").hasClass("open") || f.searchAutoSuggest.showHideMobilePickerField(!0);
							var n = f.$openPanel.is("#searchDestinationRedesign") && i.is(t("a.mobile-destinations , a.mobile-destinations i"));
							if (!f.$openPanel.has(i).length && !f.$openPanel.is(i) && !n) {
								if (f.$openPanel.is("#searchWhen")) {
									var a = i.parent().attr("data-handler") || "";
									if (a.match(/next|prev/)) return
								}
								0 === i.closest("#searchDestinationRedesign").length ? f.closePanel(i) : 0 === f.searchAutoSuggest.searchInput.val().length && f.searchAutoSuggest.searchInput.is(":focus") && (t(".destination-flyout").hide(), t("#searchResultFlyoutRedesign").show())
							}
							0 === t(".ALL_DESTINATIONS.open").length && t("#searchDestinationRedesign").removeClass("ALL_DESTINATIONS")
						}
					})
				},
				identifyScrollablePanel: function(e, t) {
					var i;
					switch (e) {
						case "when":
						case "field-duration":
						case "field-flexibility":
							i = t.find(".scrollable-panel");
							break;
						case "where":
						case "airport-to":
							i = t.find(".airports-flyout");
							break;
						case "who":
							i = t.find(".who-panel").find(".scrollable-panel");
							break;
						case "destination":
							i = t.find(".destination-panel");
							break;
						case "searchNowBtn":
							i = t.find(".search-btn-panel")
					}
					return i
				},
				openPanel: function(e, i) {
					f.opts.searchNowBtn.removeAttr("disabled"), t(document).off("click.closePanel");
					var n = e.getAttribute("data-panel"),
						a = this.panels.filter("[data-panel-name=" + n + "]"),
						s = i || this.panelTriggers.filter("[data-panel=" + n + "]:visible"),
						r = {},
						o = (t(e).data("service"), f.panels.find(".panel"));
					this.bindGlobalClosePanel(), f.closePanel(null, !0), v.find("#field-destination-picker").is(":visible") || f.searchAutoSuggest.showHideMobilePickerField(!0), a.removeAttr("style"), o.removeAttr("style"), r = D(a, r), r.top = r.top - 18, C(f, a, s, n, r)
				},
				triggerAjaxForPanel: function(e, i, n) {
					var a = e.data("service");
					if (e.addClass("loading"), i.find(".panel").addClass("flyout-loading"), a) {
						var s;
						if ("airport" === e.attr("id") && (s = f.searchWhere.getAirportList(i), s.done(function(t) {
								f.ajaxFinished(e, n, i)
							})), "airport-to" === e.attr("id") && (s = f.searchWhereTo.getAirportList(i), s.done(function(t) {
								f.ajaxFinished(e, n, i)
							})), "when" === e.attr("id")) {
							if (0 === f.searchWhen.whenErrorValidations.length && f.errorValidations.length && !t(".change-date-partysize").length) return t("#panelWrapper input").removeClass("loading"), void setTimeout(function() {
								t("#who").trigger("click").focus()
							}, b);
							0 === f.searchWhen.whenErrorValidations.length && t(".change-date-partysize").length ? (f.searchWho.cleanupTooltips(".tui-tooltip-inline"), f.searchWhen.cleanup(i), f.searchWhen.resetDates(), s = f.searchWhen.getCalendarData(i, a), s.done(function(t) {
								f.ajaxFinished(e, n, i)
							})) : (s = f.searchWhen.getCalendarData(i, a), s.done(function(t) {
								f.ajaxFinished(e, n, i)
							}))
						}
						"field-duration" === e.attr("id") && (a ? (s = f.searchWhen.refreshDurations(i, a), s.done(function(t) {
							f.ajaxFinished(e, n, i)
						})) : f.ajaxFinished(e, n, i)), "who" === e.attr("id") && (a ? (s = f.searchWho.getPartySizeAvailability(i, a), s.done(function(t) {
							f.ajaxFinished(e, n, i)
						})) : f.ajaxFinished(e, n, i)), "searchNowBtn" === e.attr("id") && (e.removeClass("loading"), f.submit(!1, i, a), t.unsubscribe("openSearchPanel"), t.subscribe("openSearchPanel", function() {
							f.ajaxFinished(e, n, i)
						}))
					} else f.ajaxFinished(e, n, i)
				},
				ajaxFinished: function(e, i, n) {
					f.postRenderCallback(i, n), "destination" !== i && (n.find(".panel").removeClass("flyout-loading"), t(e).removeClass("loading"))
				},
				isAutoSuggestFocusAndOpen: function() {
					return f.searchAutoSuggest.searchInput.is(":focus") && f.searchAutoSuggest.searchResultFlyout.is(":visible")
				},
				lastClosingTime: 0,
				closePanel: function(e, i) {
					var n = f.panels,
						a = !1;
					f.panels.hasClass("open") && (a = !0);
					var s = !0;
					if (f.isAutoSuggestFocusAndOpen() && 0 === f.searchAutoSuggest.searchInput.val().length && !i) {
						s = !1;
						var r = t("#searchDestinationRedesign.dropdown-panel.search-destination.destination.open");
						n = f.panels.not(f.searchAutoSuggest.searchResultFlyout, r), n = f.panels.not(r)
					} else {
						var o = _(e, s);
						n = o.panelsToHide, s = o.hideArrow
					}
					n.removeClass("open"), n.hide(), s && f.panelArrow.hide(), f.panelOpen = !1, !f.searchAutoSuggest.searchResultFlyout.hasClass("open") && f.searchAutoSuggest.isFlyoutOpen ? f.searchAutoSuggest.isFlyoutOpen = !0 : f.searchAutoSuggest.isFlyoutOpen = !1, i && n.hide(), t(".holiday-tooltip").remove(), t("#searchWho").hasClass("open") || t(document).find(".tui-tooltip.searchwho").hide();
					var l = t("#cb-sort-results");
					a && l.is(":focus") && setTimeout(function() {
						l.blur()
					}, 100), f.lastClosingTime = (new Date).getTime(), "xs" !== TUIUtil.getCurrentBreakPoint() || t("#searchDestinationRedesign").hasClass("open") || f.searchAutoSuggest.showHideMobilePickerField(!0)
				},
				postRenderCallback: function(e, i) {
					switch (i.find(".panel").css("height", "auto"), e) {
						case "when":
							if (0 === t(".empty-calendar-messgae").length) {
								this.searchWhen.whenErrorValidations = [];
								var n = t(".owl-wrapper .owl-item:odd");
								n.addClass("shadowDivider")
							} else f.panelArrow.css("visibility", "visible"), t("[data-panel-name=when]").css("visibility", "visible");
							f.fromSubmit && 0 === f.searchWhen.whenErrorValidations.length && (f.searchWhen.whenErrorValidations = [], f.fromSubmit = !1, f.submit()), 0 === t(".ui-datepicker-calendar .date-range-selected").length && (f.searchWhen.setFieldValue(""), f.searchWhen.data.userSelectedDate = !1);
							break;
						case "where":
							break;
						case "airport-to":
							break;
						case "who":
							i.find(".scrollable-panel").removeClass("hidden"), f.searchWho.triggerChange(), 0 !== f.errorValidations.length ? (f.panelArrow.css("visibility", "visible"), t("[data-panel-name=who]").css("visibility", "visible")) : f.fromSubmit && 0 === f.errorValidations.length && (f.submit(), f.fromSubmit = !1);
							break;
						case "destination":
							this.searchAutoSuggest.openPanel();
							break;
						case "field-duration":
							break;
						case "searchNowBtn":
							i.addClass("open").show()
					}
				},
				resetForm: function() {
					this.searchWhen.resetCalendar(!0), this.searchWhere.resetAirports(), this.searchWhereTo.resetAirports(), this.searchWho.resetParty(), this.searchAutoSuggest.clearAllTags(), M()
				},
				getFormValues: function(e) {
					var i = t("#search-panel-tabs").find("button.active").data("tabname") || "package",
						n = this.searchWhen.getFormValues(),
						a = this.searchWho.getFormValues(e),
						s = this.searchAutoSuggest.getFormValues(e),
						r = this.searchWhere.getFormValues(e),
						o = this.searchWhereTo.getFormValues(e);
					return t.extend(!0, {}, {
						searchType: i
					}, a, n, s, r, o)
				},
				setFormValues: function(e, i) {
					if (i) f.setFormValuesToDefault(e);
					else if (e.searchValues && e.searchValues.length && (f.addTagFromCookie = !0, t.each(e.searchValues, function(e, t) {
							var i = t.split("|"),
								n = i[4] ? i[4] : "";
							f.searchAutoSuggest.addTag(i[0], i[1], i[2], i[3], n)
						}), f.addTagFromCookie = !1), e.selectedAirports && (this.searchWhere.selectedAirports = e.selectedAirports, this.searchWhere.formData.selectedAirports = e.selectedAirports, this.searchWhere.formData.airportText = e.airportText, this.searchWhere.updateInputText(e.airportText)), e.selectedAirportsTo && (this.searchWhereTo.selectedAirportsTo = e.selectedAirportsTo, this.searchWhereTo.formData.selectedAirportsTo = e.selectedAirportsTo, this.searchWhereTo.formData.airportTextTo = e.airportTextTo, this.searchWhereTo.updateInputText(e.airportTextTo)), e.from || e.duration || e.flexible) {
						var n = Date.parse(TUIUtil.dateConverter(e.from)),
							a = (new Date).setHours(0, 0, 0, 0);
						n >= a && this.searchWhen.updateDataFromCookie({
							from: e.from,
							duration: e.duration,
							flexible: e.flexible,
							durationId: e.durationId,
							durationText: e.durationText
						})
					}
					this.searchWhen.setUserDate(this.searchWhen.isUserDate())
				},
				setFormValuesToDefault: function(e) {
					var i;
					if (e.searchValues && e.searchValues.length && t.each(e.searchValues, function(e, t) {
							f.searchAutoSuggest.removeTag(null, null, t.code, t.hierarchy)
						}), e.selectedAirports && (i = t("#airport"), i.html('<span class="placeholder-text">' + i.data("placeholder") + "</span>"), this.searchWhere.selectedAirports = [], this.searchWhere.formData.selectedAirports = [], this.searchWhere.formData.airportText = "", this.searchWhere.updateInputText("")), e.selectedAirportsTo && (i = t("#airport-to"), i.html('<span class="placeholder-text">' + i.data("placeholder") + "</span>"), this.searchWhereTo.selectedAirportsTo = [], this.searchWhereTo.formData.selectedAirportsTo = [], this.searchWhereTo.formData.airportTextTo = "", this.searchWhereTo.updateInputText("")), e.from || e.duration || e.flexible) {
						var n = t("#when"),
							a = t("#field-duration"),
							s = t("#field-flexibility");
						n.html('<span class="placeholder-text">' + n.data("placeholder") + "</span>"), a.html('<span class="placeholder-text">' + a.data("placeholder") + "</span>"), s.html('<span class="placeholder-text">' + s.data("placeholder") + "</span>"), this.searchWhen.updateDataFromCookie({}, !0), e.userSelectedDate = !1
					}
				},
				setPartyFromCookie: function(e) {
					if (e && e.rooms && 0 === e.rooms.length && delete e.rooms, e && e.rooms) this.searchWho.formData.rooms = e.rooms, this.searchWho.paintRooms(e), this.searchWho.setFieldValue(!0);
					else {
						var i = t("#who");
						i.val(i.attr("placeholder")), TUIUtil.isMordernIE ? i.val("") : i.val(i.attr("placeholder")), this.searchWho.resetParty()
					}
				},
				switchView: function(e) {
					e.preventDefault();
					var i = e.target.getAttribute("data-tabName") || "",
						n = t(e.target);
					this.ele.removeClass(this.opts.tabClasses.join(" ")).addClass(i), n.parent().siblings().find("a.active").removeClass("active").end().end().end().addClass("active")
				},
				resetDates: function() {
					this.searchWhen.resetDates()
				},
				sendData: function() {},
				updateDisplay: function(e) {
					e.results = Math.round(1e4 * Math.random());
					var t = "",
						i = this.opts.searchNowBtn,
						n = e.results;
					t = -1 >= n || n > 9999 ? i.attr("data-default-label") : n + " " + i.attr("data-results-label");
					this.searchWhen.processDateArrays(e.disabledDates, "disabledDates")
				},
				submit: function(e, i, n, a) {
					if (f.searchWhen.whenErrorValidations.length) return f.fromSubmit = !0, void setTimeout(function() {
						t("#when").trigger("click").focus()
					}, b);
					if (f.errorValidations.length) return f.fromSubmit = !0, void setTimeout(function() {
						t(f.errorValidations[0].panelId).trigger("click").focus()
					}, b);
					var s = [];
					t('#search-panel input[type="text"]').each(function() {
						"" !== t.trim(t(this).val()) && s.push(t.trim(t(this).val()))
					});
					var r = this.getFormValues("submit"),
						o = T(r);
					e ? window.location.href = a.encodedUrl : f.validateForm(i, n, o)
				},
				getFormAction: function(e) {
					var i = t("#search-panel-tabs").find("button.active").data("tabname") || "package",
						n = g.attr("action");
					return "flight" === i ? n = g.data("actionflight") : "package" === i && (n = g.data("actionpackage")), n
				},
				bindMobileSearchInit: function() {
					t("#mobile-search-initializer").on("click", function() {
						t("#search-panel").show(), t("#mobile-search-initializer").hide()
					}), t("a.icon-close-panel").on("click", function() {
						t("#search-panel").hide(), t("#mobile-search-initializer").show()
					})
				},
				currentSize: t(document).width(),
				resizeEvent: function() {
					var e = t(document);
					t(window).on("resize", function() {
						var i = e.width();
						f.currentSize !== i && (f.currentSize = i, A(), t.publish("windowResized", f.changeDropdownPos))
					})
				},
				scrollTillSearchPanel: function() {
					t("body,html").animate({
						scrollTop: f.ele.offset().top
					}, function() {
						f.closePanel()
					})
				},
				changeDateAction: function(e) {
					t(".alternate-link").on("click", function(i) {
						i.preventDefault(), i.stopPropagation(), f.searchWho.cleanupTooltips(".tui-tooltip-inline");
						var n = t(this),
							a = n.parents(".validation-err-msg").data("targetpanel");
						"both" === a && (a = "where", f.searchWhen.resetDates()), "when" === a && f.searchWhen.resetDates();
						n.data("name");
						f.searchAutoSuggest.addTag(e.matchedDestination.name, e.matchedDestination.type, e.matchedDestination.code, e.matchedDestination.heirarchy, e.matchedDestination.countryCode), t("#searchPanel-field-search").val("").blur(), t('[data-panel="' + a + '"]').trigger("click").focus()
					})
				},
				resetPanelContent: function(e, t) {
					switch (t) {
						case "when":
							e.find("#search-when-datepicker").empty();
							break;
						case "field-duration":
							e.find("#duration-list").empty();
							break;
						case "field-flexibility":
							break;
						case "where":
							e.find(".airport-list-wrapper").empty();
							break;
						case "airport-to":
							e.find(".airport-list-wrapper").empty();
							break;
						case "who":
							e.find(".scrollable-panel").addClass("hidden");
							break;
						case "destination":
							e.find(".country-container").empty();
							break;
						case "searchNowBtn":
					}
				},
				panelCleanup: function(e, t) {
					f.resetPanelContent(e, t), f.fields.removeClass("loading"), e.find(".panel").removeClass("flyout-loading"), e.find(".panel").removeAttr("style")
				},
				changeDropdownPos: function() {
					f.$openPanel.removeClass("open"), f.closePanel(null, !0), "xs" !== TUIUtil.getCurrentBreakPoint() || g.find("#searchDestinationRedesign").hasClass("open") || f.searchAutoSuggest.showHideMobilePickerField(!0)
				},
				addSupportForArrayIndexOf: function() {
					Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
						var i;
						if (null === this) throw new TypeError('"this" is null or not defined');
						var n = Object(this),
							a = n.length > 0 ? n.length : 0;
						if (0 === a) return -1;
						var s = +t || 0;
						if (Math.abs(s) === 1 / 0 && (s = 0), s >= a) return -1;
						for (i = Math.max(s >= 0 ? s : a - Math.abs(s), 0); a > i;) {
							if (i in n && n[i] === e) return i;
							i++
						}
						return -1
					})
				}
			},
			k = function(e) {
				if ("xs" !== TUIUtil.getCurrentBreakPoint()) {
					var i = f.ele.offset().top;
					v.length && (v.css("position", "relative"), i = v.offset().top), t(window).scrollTop(i), setTimeout(function() {
						e()
					}, 400)
				}
			},
			C = function(e, t, i, n, a) {
				f.closePanel(), f.panelCleanup(t, n), TUIUtil.printLog("Inside showEmptyPanel panel :" + n + " and focus:" + i.is(":focus")), f.fromSubmit ? !f.fromSubmit || "who" !== n && "when" !== n ? t.css("visibility", "visible") : t.css("visibility", "hidden") : t.css("visibility", "visible"), t.parents("form").find("[data-panel-name]").hide();
				var s = function() {
					"searchNowBtn" !== n ? t.slideDown(300, function() {
						f.panels.not(t).filter(".open").removeClass("open"), t.addClass("open").show(), f.triggerAjaxForPanel(i, t, n), f.$openPanel = t
					}) : (f.panels.not(t).filter(".open").removeClass("open"), f.triggerAjaxForPanel(i, t, n), f.$openPanel = t)
				};
				if ("xs" === TUIUtil.getCurrentBreakPoint() ? s() : k(s), !(t.find(".enscroll-track").length >= 1)) {
					var r = f.identifyScrollablePanel(n, t);
					r.removeAttr("style")
				}
			},
			T = function(e) {
				var i = "";
				e.availableDuration && delete e.availableDuration, e.flexibleText && delete e.flexibleText, "undefined" != typeof e.holidaysStatesList && delete e.holidaysStatesList, "undefined" != typeof e.offerEndDate && delete e.offerEndDate, "undefined" != typeof e.travelMessage && delete e.travelMessage, e.availableMonths && delete e.availableMonths, e.holidaysStatesList && delete e.holidaysStatesList, "undefined" !== e.userSelectedDate && delete e.userSelectedDate, e.userSelectedDestination && delete e.userSelectedDestination, e.userSelectedDestination && delete e.userSelectedDestination, i = t("body").hasClass("start-page") || t("body").hasClass("search-page") || t("body").hasClass("editable-search") ? "search" : "destination", S(e);
				var n = t.extend({}, e, {
					searchInitiator: i,
					viewEdit: t("#viewEdit").val(),
					browserURL: window.location.origin
				});
				return n
			},
			D = function(e, i) {
				t(".dropdown-panel .panel").css("height", "");
				var n = t(".dropdown-panel").height(),
					a = t("#search-panel").height(),
					s = t(window).height() - t("#search-panel").height(),
					r = "0px" === t(".sticky-panel").css("bottom") ? !0 : !1,
					o = f.ele.offset().top - t(window).scrollTop();
				return f.ele.hasClass("fixed") || o < parseInt(t(window).height() / 2, 10) ? i.top = a + 20 : i.top = -n + 18, r && t(".dropdown-panel .panel").height(s - 20), i
			},
			S = function(e) {
				e.searchValues && t.each(e.searchValues, function(e, t) {
					e > 0 && delete t.name, delete t.hierarchy, t.countryCode && delete t.countryCode
				})
			},
			_ = function(e, i) {
				var n = e || f.ele.find("input[data-panel]:focus"),
					a = {
						panelsToHide: f.panels,
						hideArrow: i
					};
				if (n.length) {
					var s = n.attr("id"),
						r = null;
					switch (s) {
						case "airport":
							r = "searchWhere";
							break;
						case "airport-to":
							r = "searchWhereTo";
							break;
						case "when":
							r = "searchWhen";
							break;
						case "who":
							r = "searchWho"
					}
					r && (a.panelsToHide = f.panels.not(t("#" + r)), a.hideArrow = !1)
				}
				return a
			},
			I = (t("body").hasClass("search-core-page"), function() {
				return "lg" === TUIUtil.getCurrentBreakPoint() || "md" === TUIUtil.getCurrentBreakPoint() || "sm" === TUIUtil.getCurrentBreakPoint() ? !0 : !1
			}),
			A = function() {
				var e = t(".sticky-mobile"),
					i = t("#searchNowBtn");
				e.length && "xs" === TUIUtil.getCurrentBreakPoint() && m || (i.length && !I() && !e.length && i.is(":visible") ? (i.wrap('<div class="sticky-mobile"></div>'), t(".sticky-mobile").scrollToFixed({
					bottom: 0,
					left: 0,
					limit: t(".sticky-mobile").offset().top - 70
				}), t(".sticky-mobile").next("div").remove()) : e.length && I() && (e.next("div").remove(), i.unwrap()))
			},
			P = function(e) {
				var i;
				if (i = "flight" === e ? "undefined" != typeof flightOnlyValuesJSON ? flightOnlyValuesJSON : void 0 : "undefined" != typeof formValuesJSON ? formValuesJSON : void 0, "undefined" == typeof i) return !0;
				var n = t.extend({}, i),
					a = {},
					s = {};
				s.rooms = n.rooms || [], delete n.rooms, t.extend(a, n), "flight" === e ? (t.cookie("flightvalues", JSON.stringify(a), {
					expires: 1,
					path: "/"
				}), t.cookie("FLIGHT_PARTY_COOKIE", JSON.stringify(s), {
					expires: 30,
					path: "/"
				})) : (t.cookie("formvalues", JSON.stringify(a), {
					expires: 1,
					path: "/"
				}), t.cookie("PARTY_COOKIE", JSON.stringify(s), {
					expires: 30,
					path: "/"
				}))
			},
			M = function() {
				t.cookie("formvalues", JSON.stringify({}), {
					path: "/"
				}), t.cookie("PARTY_COOKIE", JSON.stringify({}), {
					path: "/"
				})
			},
			E = function() {
				g.find("input").removeAttr("disabled"), g.find("select").removeAttr("disabled")
			},
			N = function() {
				g.on("click", "#clear-all-search", function(e) {
					f.resetForm(), f.closePanel(null, !0)
				})
			},
			U = function() {
				f.ele.on("click", ".field-label-container", function(e) {
					t(this).parents(".field-search").length ? t(this).next().next("[data-panel]").trigger("click").focus() : t(this).next("[data-panel]").trigger("click").focus()
				})
			},
			O = function() {
				t.cookie("search-panel-version", "version-3", {
					path: "/"
				})
			};
		return t.extend(p.prototype, x), p
	}),
	function(e) {
		"function" == typeof define && define.amd ? define("vendor/widget", ["jquery"], e) : e(jQuery)
	}(function(e) {
		var t = 0,
			i = Array.prototype.slice;
		return e.cleanData = function(t) {
			return function(i) {
				for (var n, a = 0; null != (n = i[a]); a++) try {
					e(n).triggerHandler("remove")
				} catch (s) {}
				t(i)
			}
		}(e.cleanData), e.widget = function(t, i, n) {
			var a, s, r, o, l = {},
				c = t.split(".")[0];
			return t = t.split(".")[1], a = c + "-" + t, n || (n = i, i = e.Widget), e.expr[":"][a.toLowerCase()] = function(t) {
				return !!e.data(t, a)
			}, e[c] = e[c] || {}, s = e[c][t], r = e[c][t] = function(e, t) {
				return this._createWidget ? void(arguments.length && this._createWidget(e, t)) : new r(e, t)
			}, e.extend(r, s, {
				version: n.version,
				_proto: e.extend({}, n),
				_childConstructors: []
			}), o = new i, o.options = e.widget.extend({}, o.options), e.each(n, function(t, n) {
				return e.isFunction(n) ? void(l[t] = function() {
					var e = function() {
							return i.prototype[t].apply(this, arguments)
						},
						a = function(e) {
							return i.prototype[t].apply(this, e)
						};
					return function() {
						var t, i = this._super,
							s = this._superApply;
						return this._super = e, this._superApply = a, t = n.apply(this, arguments), this._super = i, this._superApply = s, t
					}
				}()) : void(l[t] = n)
			}), r.prototype = e.widget.extend(o, {
				widgetEventPrefix: s ? o.widgetEventPrefix || t : t
			}, l, {
				constructor: r,
				namespace: c,
				widgetName: t,
				widgetFullName: a
			}), s ? (e.each(s._childConstructors, function(t, i) {
				var n = i.prototype;
				e.widget(n.namespace + "." + n.widgetName, r, i._proto)
			}), delete s._childConstructors) : i._childConstructors.push(r), e.widget.bridge(t, r), r
		}, e.widget.extend = function(t) {
			for (var n, a, s = i.call(arguments, 1), r = 0, o = s.length; o > r; r++)
				for (n in s[r]) a = s[r][n], s[r].hasOwnProperty(n) && void 0 !== a && (e.isPlainObject(a) ? t[n] = e.isPlainObject(t[n]) ? e.widget.extend({}, t[n], a) : e.widget.extend({}, a) : t[n] = a);
			return t
		}, e.widget.bridge = function(t, n) {
			var a = n.prototype.widgetFullName || t;
			e.fn[t] = function(s) {
				var r = "string" == typeof s,
					o = i.call(arguments, 1),
					l = this;
				return s = !r && o.length ? e.widget.extend.apply(null, [s].concat(o)) : s, r ? this.each(function() {
					var i, n = e.data(this, a);
					return "instance" === s ? (l = n, !1) : n ? e.isFunction(n[s]) && "_" !== s.charAt(0) ? (i = n[s].apply(n, o), i !== n && void 0 !== i ? (l = i && i.jquery ? l.pushStack(i.get()) : i, !1) : void 0) : e.error("no such method '" + s + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + s + "'")
				}) : this.each(function() {
					var t = e.data(this, a);
					t ? (t.option(s || {}), t._init && t._init()) : e.data(this, a, new n(s, this))
				}), l
			}
		}, e.Widget = function() {}, e.Widget._childConstructors = [], e.Widget.prototype = {
			widgetName: "widget",
			widgetEventPrefix: "",
			defaultElement: "<div>",
			options: {
				disabled: !1,
				create: null
			},
			_createWidget: function(i, n) {
				n = e(n || this.defaultElement || this)[0], this.element = e(n), this.uuid = t++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({}, this.options, this._getCreateOptions(), i), this.bindings = e(), this.hoverable = e(), this.focusable = e(), n !== this && (e.data(n, this.widgetFullName, this), this._on(!0, this.element, {
					remove: function(e) {
						e.target === n && this.destroy()
					}
				}), this.document = e(n.style ? n.ownerDocument : n.document || n), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
			},
			_getCreateOptions: e.noop,
			_getCreateEventData: e.noop,
			_create: e.noop,
			_init: e.noop,
			destroy: function() {
				this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace),
					this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
			},
			_destroy: e.noop,
			widget: function() {
				return this.element
			},
			option: function(t, i) {
				var n, a, s, r = t;
				if (0 === arguments.length) return e.widget.extend({}, this.options);
				if ("string" == typeof t)
					if (r = {}, n = t.split("."), t = n.shift(), n.length) {
						for (a = r[t] = e.widget.extend({}, this.options[t]), s = 0; s < n.length - 1; s++) a[n[s]] = a[n[s]] || {}, a = a[n[s]];
						if (t = n.pop(), 1 === arguments.length) return void 0 === a[t] ? null : a[t];
						a[t] = i
					} else {
						if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
						r[t] = i
					}
				return this._setOptions(r), this
			},
			_setOptions: function(e) {
				var t;
				for (t in e) this._setOption(t, e[t]);
				return this
			},
			_setOption: function(e, t) {
				return this.options[e] = t, "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t), t && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
			},
			enable: function() {
				return this._setOptions({
					disabled: !1
				})
			},
			disable: function() {
				return this._setOptions({
					disabled: !0
				})
			},
			_on: function(t, i, n) {
				var a, s = this;
				"boolean" != typeof t && (n = i, i = t, t = !1), n ? (i = a = e(i), this.bindings = this.bindings.add(i)) : (n = i, i = this.element, a = this.widget()), e.each(n, function(n, r) {
					function o() {
						return t || s.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof r ? s[r] : r).apply(s, arguments) : void 0
					}
					"string" != typeof r && (o.guid = r.guid = r.guid || o.guid || e.guid++);
					var l = n.match(/^([\w:-]*)\s*(.*)$/),
						c = l[1] + s.eventNamespace,
						d = l[2];
					d ? a.delegate(d, c, o) : i.bind(c, o)
				})
			},
			_off: function(e, t) {
				t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(t).undelegate(t)
			},
			_delay: function(e, t) {
				function i() {
					return ("string" == typeof e ? n[e] : e).apply(n, arguments)
				}
				var n = this;
				return setTimeout(i, t || 0)
			},
			_hoverable: function(t) {
				this.hoverable = this.hoverable.add(t), this._on(t, {
					mouseenter: function(t) {
						e(t.currentTarget).addClass("ui-state-hover")
					},
					mouseleave: function(t) {
						e(t.currentTarget).removeClass("ui-state-hover")
					}
				})
			},
			_focusable: function(t) {
				this.focusable = this.focusable.add(t), this._on(t, {
					focusin: function(t) {
						e(t.currentTarget).addClass("ui-state-focus")
					},
					focusout: function(t) {
						e(t.currentTarget).removeClass("ui-state-focus")
					}
				})
			},
			_trigger: function(t, i, n) {
				var a, s, r = this.options[t];
				if (n = n || {}, i = e.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], s = i.originalEvent)
					for (a in s) a in i || (i[a] = s[a]);
				return this.element.trigger(i, n), !(e.isFunction(r) && r.apply(this.element[0], [i].concat(n)) === !1 || i.isDefaultPrevented())
			}
		}, e.each({
			show: "fadeIn",
			hide: "fadeOut"
		}, function(t, i) {
			e.Widget.prototype["_" + t] = function(n, a, s) {
				"string" == typeof a && (a = {
					effect: a
				});
				var r, o = a ? a === !0 || "number" == typeof a ? i : a.effect || i : t;
				a = a || {}, "number" == typeof a && (a = {
					duration: a
				}), r = !e.isEmptyObject(a), a.complete = s, a.delay && n.delay(a.delay), r && e.effects && e.effects.effect[o] ? n[t](a) : o !== t && n[o] ? n[o](a.duration, a.easing, s) : n.queue(function(i) {
					e(this)[t](), s && s.call(n[0]), i()
				})
			}
		}), e.widget
	}),
	function(e) {
		"function" == typeof define && define.amd ? define("vendor/mouse", ["jquery", "./widget"], e) : e(jQuery)
	}(function(e) {
		var t = !1;
		return e(document).mouseup(function() {
			t = !1
		}), e.widget("ui.mouse", {
			version: "1.11.0",
			options: {
				cancel: "input,textarea,button,select,option",
				distance: 1,
				delay: 0
			},
			_mouseInit: function() {
				var t = this;
				this.element.bind("mousedown." + this.widgetName, function(e) {
					return t._mouseDown(e)
				}).bind("click." + this.widgetName, function(i) {
					return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : void 0
				}), this.started = !1
			},
			_mouseDestroy: function() {
				this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
			},
			_mouseDown: function(i) {
				if (!t) {
					this._mouseStarted && this._mouseUp(i), this._mouseDownEvent = i;
					var n = this,
						a = 1 === i.which,
						s = "string" == typeof this.options.cancel && i.target.nodeName ? e(i.target).closest(this.options.cancel).length : !1;
					return a && !s && this._mouseCapture(i) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
						n.mouseDelayMet = !0
					}, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted) ? (i.preventDefault(), !0) : (!0 === e.data(i.target, this.widgetName + ".preventClickEvent") && e.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(e) {
						return n._mouseMove(e)
					}, this._mouseUpDelegate = function(e) {
						return n._mouseUp(e)
					}, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0)) : !0
				}
			},
			_mouseMove: function(t) {
				return e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button ? this._mouseUp(t) : t.which ? this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) : this._mouseUp(t)
			},
			_mouseUp: function(i) {
				return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, i.target === this._mouseDownEvent.target && e.data(i.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(i)), t = !1, !1
			},
			_mouseDistanceMet: function(e) {
				return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
			},
			_mouseDelayMet: function() {
				return this.mouseDelayMet
			},
			_mouseStart: function() {},
			_mouseDrag: function() {},
			_mouseStop: function() {},
			_mouseCapture: function() {
				return !0
			}
		})
	}),
	function(e) {
		"function" == typeof define && define.amd ? define("vendor/slider", ["jquery", "./core", "./mouse", "./widget"], e) : e(jQuery)
	}(function(e) {
		return e.widget("ui.slider", e.ui.mouse, {
			version: "1.11.0",
			widgetEventPrefix: "slide",
			options: {
				animate: !1,
				distance: 0,
				max: 100,
				min: 0,
				orientation: "horizontal",
				range: !1,
				step: 1,
				value: 0,
				values: null,
				change: null,
				slide: null,
				start: null,
				stop: null
			},
			numPages: 5,
			_create: function() {
				this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
			},
			_refresh: function() {
				this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
			},
			_createHandles: function() {
				var t, i, n = this.options,
					a = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
					s = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
					r = [];
				for (i = n.values && n.values.length || 1, a.length > i && (a.slice(i).remove(), a = a.slice(0, i)), t = a.length; i > t; t++) r.push(s);
				this.handles = a.add(e(r.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(t) {
					e(this).data("ui-slider-handle-index", t)
				})
			},
			_createRange: function() {
				var t = this.options,
					i = "";
				t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
					left: "",
					bottom: ""
				}) : (this.range = e("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(), this.range = null)
			},
			_setupEvents: function() {
				this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
			},
			_destroy: function() {
				this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
			},
			_mouseCapture: function(t) {
				var i, n, a, s, r, o, l, c, d = this,
					u = this.options;
				return u.disabled ? !1 : (this.elementSize = {
					width: this.element.outerWidth(),
					height: this.element.outerHeight()
				}, this.elementOffset = this.element.offset(), i = {
					x: t.pageX,
					y: t.pageY
				}, n = this._normValueFromMouse(i), a = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
					var i = Math.abs(n - d.values(t));
					(a > i || a === i && (t === d._lastChangedValue || d.values(t) === u.min)) && (a = i, s = e(this), r = t)
				}), o = this._start(t, r), o === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = r, s.addClass("ui-state-active").focus(), l = s.offset(), c = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = c ? {
					left: 0,
					top: 0
				} : {
					left: t.pageX - l.left - s.width() / 2,
					top: t.pageY - l.top - s.height() / 2 - (parseInt(s.css("borderTopWidth"), 10) || 0) - (parseInt(s.css("borderBottomWidth"), 10) || 0) + (parseInt(s.css("marginTop"), 10) || 0)
				}, this.handles.hasClass("ui-state-hover") || this._slide(t, r, n), this._animateOff = !0, !0))
			},
			_mouseStart: function() {
				return !0
			},
			_mouseDrag: function(e) {
				var t = {
						x: e.pageX,
						y: e.pageY
					},
					i = this._normValueFromMouse(t);
				return this._slide(e, this._handleIndex, i), !1
			},
			_mouseStop: function(e) {
				return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
			},
			_detectOrientation: function() {
				this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
			},
			_normValueFromMouse: function(e) {
				var t, i, n, a, s;
				return "horizontal" === this.orientation ? (t = this.elementSize.width, i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), n = i / t, n > 1 && (n = 1), 0 > n && (n = 0), "vertical" === this.orientation && (n = 1 - n), a = this._valueMax() - this._valueMin(), s = this._valueMin() + n * a, this._trimAlignValue(s)
			},
			_start: function(e, t) {
				var i = {
					handle: this.handles[t],
					value: this.value()
				};
				return this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._trigger("start", e, i)
			},
			_slide: function(e, t, i) {
				var n, a, s;
				this.options.values && this.options.values.length ? (n = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && i > n || 1 === t && n > i) && (i = n), i !== this.values(t) && (a = this.values(), a[t] = i, s = this._trigger("slide", e, {
					handle: this.handles[t],
					value: i,
					values: a
				}), n = this.values(t ? 0 : 1), s !== !1 && this.values(t, i))) : i !== this.value() && (s = this._trigger("slide", e, {
					handle: this.handles[t],
					value: i
				}), s !== !1 && this.value(i))
			},
			_stop: function(e, t) {
				var i = {
					handle: this.handles[t],
					value: this.value()
				};
				this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values(), i.additionalOpts = this.options.additionalOpts), this._trigger("stop", e, i)
			},
			_change: function(e, t) {
				if (!this._keySliding && !this._mouseSliding) {
					var i = {
						handle: this.handles[t],
						value: this.value()
					};
					this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._lastChangedValue = t, this._trigger("change", e, i)
				}
			},
			value: function(e) {
				return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), void this._change(null, 0)) : this._value()
			},
			values: function(t, i) {
				var n, a, s;
				if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(i), this._refreshValue(), void this._change(null, t);
				if (!arguments.length) return this._values();
				if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value();
				for (n = this.options.values, a = arguments[0], s = 0; s < n.length; s += 1) n[s] = this._trimAlignValue(a[s]), this._change(null, s);
				this._refreshValue()
			},
			_setOption: function(t, i) {
				var n, a = 0;
				switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (a = this.options.values.length), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!i), this._super(t, i), t) {
					case "orientation":
						this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();
						break;
					case "value":
						this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
						break;
					case "values":
						for (this._animateOff = !0, this._refreshValue(), n = 0; a > n; n += 1) this._change(null, n);
						this._animateOff = !1;
						break;
					case "min":
					case "max":
						this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
						break;
					case "range":
						this._animateOff = !0, this._refresh(), this._animateOff = !1
				}
			},
			_value: function() {
				var e = this.options.value;
				return e = this._trimAlignValue(e)
			},
			_values: function(e) {
				var t, i, n;
				if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t);
				if (this.options.values && this.options.values.length) {
					for (i = this.options.values.slice(), n = 0; n < i.length; n += 1) i[n] = this._trimAlignValue(i[n]);
					return i
				}
				return []
			},
			_trimAlignValue: function(e) {
				if (e <= this._valueMin()) return this._valueMin();
				if (e >= this._valueMax()) return this._valueMax();
				var t = this.options.step > 0 ? this.options.step : 1,
					i = (e - this._valueMin()) % t,
					n = e - i;
				return 2 * Math.abs(i) >= t && (n += i > 0 ? t : -t), parseFloat(n.toFixed(5))
			},
			_valueMin: function() {
				return this.options.min
			},
			_valueMax: function() {
				return this.options.max
			},
			_refreshValue: function() {
				var t, i, n, a, s, r = this.options.range,
					o = this.options,
					l = this,
					c = this._animateOff ? !1 : o.animate,
					d = {};
				this.options.values && this.options.values.length ? this.handles.each(function(n) {
					i = (l.values(n) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, d["horizontal" === l.orientation ? "left" : "bottom"] = i + "%", e(this).stop(1, 1)[c ? "animate" : "css"](d, o.animate), l.options.range === !0 && ("horizontal" === l.orientation ? (0 === n && l.range.stop(1, 1)[c ? "animate" : "css"]({
						left: i + "%"
					}, o.animate), 1 === n && l.range[c ? "animate" : "css"]({
						width: i - t + "%"
					}, {
						queue: !1,
						duration: o.animate
					})) : (0 === n && l.range.stop(1, 1)[c ? "animate" : "css"]({
						bottom: i + "%"
					}, o.animate), 1 === n && l.range[c ? "animate" : "css"]({
						height: i - t + "%"
					}, {
						queue: !1,
						duration: o.animate
					}))), t = i
				}) : (n = this.value(), a = this._valueMin(), s = this._valueMax(), i = s !== a ? (n - a) / (s - a) * 100 : 0, d["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[c ? "animate" : "css"](d, o.animate), "min" === r && "horizontal" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
					width: i + "%"
				}, o.animate), "max" === r && "horizontal" === this.orientation && this.range[c ? "animate" : "css"]({
					width: 100 - i + "%"
				}, {
					queue: !1,
					duration: o.animate
				}), "min" === r && "vertical" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
					height: i + "%"
				}, o.animate), "max" === r && "vertical" === this.orientation && this.range[c ? "animate" : "css"]({
					height: 100 - i + "%"
				}, {
					queue: !1,
					duration: o.animate
				}))
			},
			_handleEvents: {
				keydown: function(t) {
					var i, n, a, s, r = e(t.target).data("ui-slider-handle-index");
					switch (t.keyCode) {
						case e.ui.keyCode.HOME:
						case e.ui.keyCode.END:
						case e.ui.keyCode.PAGE_UP:
						case e.ui.keyCode.PAGE_DOWN:
						case e.ui.keyCode.UP:
						case e.ui.keyCode.RIGHT:
						case e.ui.keyCode.DOWN:
						case e.ui.keyCode.LEFT:
							if (t.preventDefault(), !this._keySliding && (this._keySliding = !0, e(t.target).addClass("ui-state-active"), i = this._start(t, r), i === !1)) return
					}
					switch (s = this.options.step, n = a = this.options.values && this.options.values.length ? this.values(r) : this.value(), t.keyCode) {
						case e.ui.keyCode.HOME:
							a = this._valueMin();
							break;
						case e.ui.keyCode.END:
							a = this._valueMax();
							break;
						case e.ui.keyCode.PAGE_UP:
							a = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / this.numPages);
							break;
						case e.ui.keyCode.PAGE_DOWN:
							a = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / this.numPages);
							break;
						case e.ui.keyCode.UP:
						case e.ui.keyCode.RIGHT:
							if (n === this._valueMax()) return;
							a = this._trimAlignValue(n + s);
							break;
						case e.ui.keyCode.DOWN:
						case e.ui.keyCode.LEFT:
							if (n === this._valueMin()) return;
							a = this._trimAlignValue(n - s)
					}
					this._slide(t, r, a)
				},
				keyup: function(t) {
					var i = e(t.target).data("ui-slider-handle-index");
					this._keySliding && (this._keySliding = !1, this._stop(t, i), this._change(t, i), e(t.target).removeClass("ui-state-active"))
				}
			}
		})
	}), define("search-results/range-slider", ["jquery", "vendor/slider"], function(e) {
		function t(t, i) {
			var n = this;
			n.ele = t, n.opts = e.extend(!0, {}, {
				slider: {
					slide: e.proxy(n.slide, n),
					prop: 1,
					change: e.proxy(n.change, n)
				}
			}, i), n.sliderSettings = e.extend(!0, {}, e.parseJSON(n.ele.attr("data-rangeSettings") || "{}"), n.opts.slider), n.prefix = this.sliderSettings.prefix || "", n.valueDisplays = [], n.init(), n.showDate()
		}
		var i = {
			init: function() {
				var e = this;
				e.ele.slider(e.sliderSettings), e.addDomElements(), e.updateDisplay("", {
					values: e.ele.slider("option", "values")
				})
			},
			addDomElements: function() {
				this.ele.find(".ui-slider-handle").each(function() {
					this.valueDisplays.push(e(this).append("<span />").find("span"))
				})
			},
			slide: function(e, t) {
				this.updateDisplay(e, t)
			},
			updateDisplay: function(t, i) {
				if (i.values) {
					for (var n = i.values.length, a = 0; n > a; a++) this.valueDisplays[a].text(this.prefix + i.values[a]);
					i.handle && e(i.handle).closest("#flightDuration").length && this.updateSelection(t, i)
				}
			},
			updateSelection: function(t, i) {
				if (i.values) {
					var n, a, s, r, o, l = this,
						c = e(".flight-options .ui-datepicker-calendar tbody td");
					if (n = i.handle && e(i.handle).closest("#flightDuration").length ? e("#flightDuration .ui-slider-handle").index(e(i.handle)) : null, 0 === n) {
						if (a = parseInt(e("#flightDuration .ui-slider-handle").eq(0).attr("data-index"), 10), s = parseInt(e("#flightDuration .ui-slider-handle").eq(0).find("span").text(), 10), r = parseInt(e("#flightDuration .ui-slider-handle").eq(1).find("span").text(), 10), 2 > r - s) return;
						s > a && (c.filter(":lt(" + s + ")").removeClass("date-range-selected"), e("#flightDuration .ui-slider-handle").eq(0).attr("data-index", s)), a > s && (c.eq(s).hasClass("ui-datepicker-unselectable") && c.eq(s).hasClass("ui-state-disabled") || c.eq(s).addClass("date-range-selected"), c.filter(":lt(" + (r - 1) + ")").filter(":gt(" + s + ")").each(function() {
							e(this).hasClass("ui-datepicker-unselectable") && e(this).hasClass("ui-state-disabled") || e(this).addClass("date-range-selected")
						}), e("#flightDuration .ui-slider-handle").eq(0).attr("data-index", s)), l.updateDuration(s, r)
					}
					if (1 === n) {
						if (a = parseInt(e("#flightDuration .ui-slider-handle").eq(1).attr("data-index"), 10), s = parseInt(e("#flightDuration .ui-slider-handle").eq(1).find("span").text(), 10), o = parseInt(e("#flightDuration .ui-slider-handle").eq(0).find("span").text(), 10), 2 > s - o) return;
						s > a && (c.eq(s - 2).hasClass("ui-datepicker-unselectable") && c.eq(s - 2).hasClass("ui-state-disabled") || c.eq(s - 2).addClass("date-range-selected"), c.filter(":lt(" + (s - 2) + ")").filter(":gt(" + o + ")").each(function() {
							e(this).hasClass("ui-datepicker-unselectable") && e(this).hasClass("ui-state-disabled") || e(this).addClass("date-range-selected")
						}), e("#flightDuration .ui-slider-handle").eq(1).attr("data-index", s)), a > s && (c.filter(":gt(" + (s - 2) + ")").removeClass("date-range-selected"), e("#flightDuration .ui-slider-handle").eq(1).attr("data-index", s))
					}
				}
			},
			updateDuration: function(t, i) {
				var n = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
					a = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
					s = e(".flight-options .ui-datepicker-calendar tbody td"),
					r = s.eq(t).data("year"),
					o = s.eq(t).data("month"),
					l = parseInt(s.eq(t).find("a").text(), 10),
					c = s.eq(t).closest("tr").find("td").index(s.eq(t)),
					d = s.eq(i - 2).data("year"),
					u = s.eq(i - 2).data("month"),
					h = parseInt(s.eq(i - 2).find("a").text(), 10),
					p = s.eq(i - 2).closest("tr").find("td").index(s.eq(i - 2));
				console.log("rangeStartYear:" + r + ",rangeStartMonth:" + o + ",rangeStartDate:" + l + ",rangeStartDay:" + c), console.log("rangeEndYear:" + d + ",rangeEndMonth:" + u + ",rangeEndDate:" + h + ",rangeEndDay:" + p);
				var f = a[c] + " " + l + " " + n[o] + " - " + a[p] + " " + h + " " + n[u];
				e(".time-date em").text(f);
				var m = e(".time-date em").text();
				e(".header em").html(m)
			},
			showDate: function() {
				var t = e(".time-date em").text();
				e(".header em").html(t)
			}
		};
		for (var n in i) t.prototype[n] = i[n];
		return t
	}), define("helpers/inherit", [], function() {
		"use strict";

		function e(e, t) {
			for (var i in e.prototype) i in t.prototype || (t.prototype[i] = e.prototype[i])
		}
		return e
	}), define("search-results/star-slider", ["jquery", "helpers/inherit", "./range-slider"], function(e, t, i) {
		function n(e, t) {
			t = t || {
				slider: {}
			}, t.slider.min = 1, t.slider.max = 10, t.slider.range = !0, i.apply(this, [e, t])
		}
		var a = {
			updateDisplay: function(e, t) {
				for (var i, n, a, s = t.values.length, r = !1, o = 0; s > o; o++) i = t.values[o], r = i % 2 ? !0 : !1, n = Math.floor(i / 2), a = this.valueDisplays[o].find("i"), r && ++n, a.show().slice(n).hide().end().filter(":visible").last()[r ? "addClass" : "removeClass"]("half")
			},
			addDomElements: function() {
				var t = this,
					i = '<span class="rel"><span class="stars"><i /><i /><i /><i /><i /></span></span>';
				t.ele.find(".ui-slider-handle").each(function() {
					t.valueDisplays.push(e(t).append(i).find("span").first())
				})
			}
		};
		for (var s in a) n.prototype[s] = a[s];
		return t(i, n), n
	}), define("helpers/supports", [], function() {
		function e(e) {
			var t = document.createElement("div");
			return e in t.style
		}
		return e
	}), define("common/responsive-carousel", ["jquery", "helpers/resize", "helpers/supports"], function(e, t, i) {
		function n(t, n) {
			TUIUtil.printLog("Inside new ResponsiveCarousel()"), this.ele = t, this.opts = e.extend({}, {
				itemSelector: ".item",
				itemWrapper: ".mask > .row",
				pagingWrapper: "ul.paging",
				currentBreakpoint: !1,
				touchThreshold: .4,
				speed: 400,
				resizeItems: !1
			}, n), this.itemWidth = 0, this.index = 0, this.x = 0, this.y = 0, this.css3 = i("webkitTransform"), this.init()
		}
		var a = {
			init: function() {
				function t(t) {
					if (t.preventDefault(), e(t.target).is("disabled")) return !1;
					var n = t.target.getAttribute("data-dir") || t.target.getAttribute("classname");
					i[n]()
				}
				var i = this;
				this.items = this.ele.find(this.opts.itemSelector), this.itemWrapper = this.ele.find(this.opts.itemWrapper), this.total = this.items.length, this.pagingWrapper = this.ele.find(this.opts.pagingWrapper), this.btnNext = this.ele.find("a.next"), this.btnPrev = this.ele.find("a.prev"), this.ele.on("click", "a.next, a.prev", t).on("click", "ul.paging a", function(e) {
					e.preventDefault(), i.goTo(parseInt(this.getAttribute("data-index"), 10))
				}), e.subscribe("breakpointchange", e.proxy(i.resize, i)), this.layout(), this.bindTouch()
			},
			bindTouch: function() {
				var e = this;
				this.screens <= 1 || (this.itemWrapper[0].style.webkitTransform = "translate3d(0px,0px,0px)", this.itemWrapper[0].ontouchstart = function(t) {
					return 1 !== t.targetTouches.length || 1 !== t.touches.length ? !1 : (e.itemWrapper[0].style.webkitTransition = "", e.startX = t.targetTouches[0].clientX, e.cTouch = e.startX, e.startY = t.targetTouches[0].clientY, void e.getPosition(e.itemWrapper[0].style.webkitTransform))
				}, this.itemWrapper[0].ontouchmove = function(t) {
					if (1 !== t.targetTouches.length) return !1;
					if (1 !== t.targetTouches.length || 1 !== t.touches.length) return !1;
					var i = t.targetTouches[0].clientX - e.startX;
					Math.abs(i) > 5 && t.preventDefault();
					var n = parseInt(e.x + i, 10);
					this.style.webkitTransform = "translate3d(" + n + "px,0,0)", e.cTouch = t.targetTouches[0].clientX
				}, this.itemWrapper[0].ontouchend = function(t) {
					var i = e.startX - e.cTouch,
						n = e.ele.width() * e.opts.touchThreshold;
					return t.preventDefault(), t.targetTouches.length > 0 || t.touches.length > 0 ? !1 : void(i > n ? e.next() : -n > i ? e.prev() : e.goTo(e.index))
				})
			},
			getPosition: function(e) {
				var t = e.replace(/[a-z]/g, "").replace("3(", "").replace(")", "").split(",") || [0, 0, 0];
				this.x = parseInt(t[0], 10), this.y = parseInt(t[1], 10)
			},
			doLayoutOnResize: function(e) {
				setTimeout(function() {
					e.layout().done(function() {
						e.getIndex(e.index), e.preMove()
					})
				}, 50)
			},
			resize: function() {
				var e = this;
				e.opts.currentBreakpoint = arguments[1], e.doLayoutOnResize(e)
			},
			layout: function() {
				var t, i = this,
					n = e.Deferred();
				return i.items.add(i.itemWrapper).width(""), this.opts.resizeItems && this.items.width(this.ele.width()).css({
						"float": "left"
					}), this.opts.itemsPerScreen && 1 === this.opts.itemsPerScreen && this.items.width(this.ele.width()).css({
						margin: "0 auto"
					}), t = this.items.outerWidth(!0), this.totalWidth = Math.ceil(t * this.total), this.itemWrapper.width(this.totalWidth),
					function(e) {
						var n = i.ele.width(),
							a = n + 2 * parseInt(i.items.css("paddingLeft"), 10),
							s = a - t;
						5 > s && s > -5 && (a = t);
						var r = i.total / Math.floor(a / t);
						i.screens = isFinite(r) ? r : 1, i.itemWidth = t, i.itemsPerScreen = Math.floor(a / t), i.opts.itemsPerScreen && (i.screens = i.items.length, i.itemsPerScreen = i.opts.itemsPerScreen)
					}(this), this.buildPaging(), n.resolve().promise()
			},
			buildPaging: function() {
				var e = [],
					t = 1;
				for (t; t <= this.screens; t++) e.push('<li><a href="#" data-index="' + (t - 1) + '"><span>' + t + "</span></a></li>");
				this.pagingWrapper.html(e.join("")), this.setActive()
			},
			preMove: function() {
				var e = this.itemsPerScreen * this.itemWidth * this.index,
					t = this;
				this[this.css3 ? "animateWebkit" : "animate"](e).done(function() {
					t.animateEnd()
				})
			},
			animate: function(t) {
				var i = e.Deferred();
				return this.itemWrapper.animate({
					left: -t
				}, this.opts.speed, function() {
					i.resolve()
				}), i.promise()
			},
			animateWebkit: function(t) {
				function i() {
					this.style.webkitTransition = "", n.resolve()
				}
				var n = e.Deferred();
				return this.itemWrapper.one("webkitTransitionEnd", i), this.itemWrapper[0].style.webkitTransition = "-webkit-transform " + this.opts.speed + "ms ease", this.itemWrapper[0].style.webkitTransform = "translate3d(-" + t + "px,0,0)", n.promise()
			},
			animateEnd: function() {
				this.setActive()
			},
			goTo: function(e) {
				this.index = this.getIndex(e), this.preMove()
			},
			next: function() {
				e(document).trigger("responsiveCarouselNext", [e(this.items[this.index]), this.index]), this.getIndex(++this.index), this.preMove()
			},
			prev: function() {
				e(document).trigger("responsiveCarouselPrevious", [e(this.items[this.index]), this.index]), this.getIndex(--this.index), this.preMove()
			},
			getIndex: function(e) {
				var t = this.index;
				return t = 0 > e ? 0 : t >= this.screens ? this.screens - 1 : e, this.index = t, this.index
			},
			setActive: function() {
				this.pagingWrapper.find("li").filter(".active").removeClass("active").end().eq(this.index).addClass("active"), this.setBtnStates()
			},
			setBtnStates: function() {
				var e = this.total - 1;
				this.btnPrev[this.index > 0 ? "removeClass" : "addClass"]("disabled"), this.btnNext[this.index === e ? "addClass" : "removeClass"]("disabled")
			}
		};
		for (var s in a) n.prototype[s] = a[s];
		return e.fn.responsiveCarousel = function(t) {
			return this.each(function() {
				var i = e(this);
				i.data({
					responsiveCarousel: new n(i, t)
				})
			})
		}, n
	}),
	function(e, t, i) {
		"function" == typeof define && define.amd ? define("jquerymobile", ["jquery"], function(n) {
			return i(n, e, t), n.mobile
		}) : i(e.jQuery, e, t)
	}(this, document, function(e, t, i, n) {
		! function(e, t) {
			var n = {
				touch: "ontouchend" in i
			};
			e.mobile = e.mobile || {}, e.mobile.support = e.mobile.support || {}, e.extend(e.support, n), e.extend(e.mobile.support, n)
		}(e),
		function(e, t, i, n) {
			function a(e) {
				for (; e && "undefined" != typeof e.originalEvent;) e = e.originalEvent;
				return e
			}

			function s(t, i) {
				var s, r, o, l, c, d, u, h, p, f = t.type;
				if (t = e.Event(t), t.type = i, s = t.originalEvent, r = e.event.props, f.search(/^(mouse|click)/) > -1 && (r = A), s)
					for (u = r.length, l; u;) l = r[--u], t[l] = s[l];
				if (f.search(/mouse(down|up)|click/) > -1 && !t.which && (t.which = 1), -1 !== f.search(/^touch/) && (o = a(s), f = o.touches, c = o.changedTouches, d = f && f.length ? f[0] : c && c.length ? c[0] : n))
					for (h = 0, p = _.length; p > h; h++) l = _[h], t[l] = d[l];
				return t
			}

			function r(t) {
				for (var i, n, a = {}; t;) {
					i = e.data(t, T);
					for (n in i) i[n] && (a[n] = a.hasVirtualBinding = !0);
					t = t.parentNode
				}
				return a
			}

			function o(t, i) {
				for (var n; t;) {
					if (n = e.data(t, T), n && (!i || n[i])) return t;
					t = t.parentNode
				}
				return null
			}

			function l() {
				$ = !1
			}

			function c() {
				$ = !0
			}

			function d() {
				H = 0, O.length = 0, F = !1, c()
			}

			function u() {
				l()
			}

			function h() {
				p(), M = setTimeout(function() {
					M = 0, d()
				}, e.vmouse.resetTimerDuration)
			}

			function p() {
				M && (clearTimeout(M), M = 0)
			}

			function f(t, i, n) {
				var a;
				return (n && n[t] || !n && o(i.target, t)) && (a = s(i, t), e(i.target).trigger(a)), a
			}

			function m(t) {
				var i = e.data(t.target, D);
				if (!(F || H && H === i)) {
					var n = f("v" + t.type, t);
					n && (n.isDefaultPrevented() && t.preventDefault(), n.isPropagationStopped() && t.stopPropagation(), n.isImmediatePropagationStopped() && t.stopImmediatePropagation())
				}
			}

			function g(t) {
				var i, n, s = a(t).touches;
				if (s && 1 === s.length && (i = t.target, n = r(i), n.hasVirtualBinding)) {
					H = L++, e.data(i, D, H), p(), u(), U = !1;
					var o = a(t).touches[0];
					E = o.pageX, N = o.pageY, f("vmouseover", t, n), f("vmousedown", t, n)
				}
			}

			function v(e) {
				$ || (U || f("vmousecancel", e, r(e.target)), U = !0, h())
			}

			function y(t) {
				if (!$) {
					var i = a(t).touches[0],
						n = U,
						s = e.vmouse.moveDistanceThreshold,
						o = r(t.target);
					U = U || Math.abs(i.pageX - E) > s || Math.abs(i.pageY - N) > s, U && !n && f("vmousecancel", t, o), f("vmousemove", t, o), h()
				}
			}

			function b(e) {
				if (!$) {
					c();
					var t, i = r(e.target);
					if (f("vmouseup", e, i), !U) {
						var n = f("vclick", e, i);
						n && n.isDefaultPrevented() && (t = a(e).changedTouches[0], O.push({
							touchID: H,
							x: t.clientX,
							y: t.clientY
						}), F = !0)
					}
					f("vmouseout", e, i), U = !1, h()
				}
			}

			function w(t) {
				var i, n = e.data(t, T);
				if (n)
					for (i in n)
						if (n[i]) return !0;
				return !1
			}

			function x() {}

			function k(t) {
				var i = t.substr(1);
				return {
					setup: function(n, a) {
						w(this) || e.data(this, T, {});
						var s = e.data(this, T);
						s[t] = !0, P[t] = (P[t] || 0) + 1, 1 === P[t] && W.bind(i, m), e(this).bind(i, x), R && (P.touchstart = (P.touchstart || 0) + 1, 1 === P.touchstart && W.bind("touchstart", g).bind("touchend", b).bind("touchmove", y).bind("scroll", v))
					},
					teardown: function(n, a) {
						--P[t], P[t] || W.unbind(i, m), R && (--P.touchstart, P.touchstart || W.unbind("touchstart", g).unbind("touchmove", y).unbind("touchend", b).unbind("scroll", v));
						var s = e(this),
							r = e.data(this, T);
						r && (r[t] = !1), s.unbind(i, x), w(this) || s.removeData(T)
					}
				}
			}
			var C, T = "virtualMouseBindings",
				D = "virtualTouchID",
				S = "vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),
				_ = "clientX clientY pageX pageY screenX screenY".split(" "),
				I = e.event.mouseHooks ? e.event.mouseHooks.props : [],
				A = e.event.props.concat(I),
				P = {},
				M = 0,
				E = 0,
				N = 0,
				U = !1,
				O = [],
				F = !1,
				$ = !1,
				R = "addEventListener" in i,
				W = e(i),
				L = 1,
				H = 0;
			e.vmouse = {
				moveDistanceThreshold: 10,
				clickDistanceThreshold: 10,
				resetTimerDuration: 1500
			};
			for (var j = 0; j < S.length; j++) e.event.special[S[j]] = k(S[j]);
			R && i.addEventListener("click", function(t) {
				var i, n, a, s, r, o, l = O.length,
					c = t.target;
				if (l)
					for (i = t.clientX, n = t.clientY, C = e.vmouse.clickDistanceThreshold, a = c; a;) {
						for (s = 0; l > s; s++)
							if (r = O[s], o = 0, a === c && Math.abs(r.x - i) < C && Math.abs(r.y - n) < C || e.data(a, D) === r.touchID) return t.preventDefault(), void t.stopPropagation();
						a = a.parentNode
					}
			}, !0)
		}(e, t, i),
		function(e, t, n) {
			function a(t, i, n) {
				var a = n.type;
				n.type = i, e.event.handle.call(t, n), n.type = a
			}
			e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "), function(t, i) {
				e.fn[i] = function(e) {
					return e ? this.bind(i, e) : this.trigger(i)
				}, e.attrFn && (e.attrFn[i] = !0)
			});
			var s = e.mobile.support.touch,
				r = "touchmove scroll",
				o = s ? "touchstart" : "mousedown",
				l = s ? "touchend" : "mouseup",
				c = s ? "touchmove" : "mousemove";
			e.event.special.scrollstart = {
				enabled: !0,
				setup: function() {
					function t(e, t) {
						i = t, a(s, i ? "scrollstart" : "scrollstop", e)
					}
					var i, n, s = this,
						o = e(s);
					o.bind(r, function(a) {
						e.event.special.scrollstart.enabled && (i || t(a, !0), clearTimeout(n), n = setTimeout(function() {
							t(a, !1)
						}, 50))
					})
				}
			}, e.event.special.tap = {
				tapholdThreshold: 750,
				setup: function() {
					var t = this,
						n = e(t);
					n.bind("vmousedown", function(s) {
						function r() {
							clearTimeout(c)
						}

						function o() {
							r(), n.unbind("vclick", l).unbind("vmouseup", r), e(i).unbind("vmousecancel", o)
						}

						function l(e) {
							o(), d === e.target && a(t, "tap", e)
						}
						if (s.which && 1 !== s.which) return !1;
						var c, d = s.target;
						s.originalEvent;
						n.bind("vmouseup", r).bind("vclick", l), e(i).bind("vmousecancel", o), c = setTimeout(function() {
							a(t, "taphold", e.Event("taphold", {
								target: d
							}))
						}, e.event.special.tap.tapholdThreshold)
					})
				}
			}, e.event.special.swipe = {
				scrollSupressionThreshold: 30,
				durationThreshold: 1e3,
				horizontalDistanceThreshold: 30,
				verticalDistanceThreshold: 75,
				setup: function() {
					var t = this,
						i = e(t);
					i.bind(o, function(t) {
						function a(t) {
							if (o) {
								var i = t.originalEvent.touches ? t.originalEvent.touches[0] : t;
								s = {
									time: (new Date).getTime(),
									coords: [i.pageX, i.pageY]
								}, Math.abs(o.coords[0] - s.coords[0]) > e.event.special.swipe.scrollSupressionThreshold && t.preventDefault()
							}
						}
						var s, r = t.originalEvent.touches ? t.originalEvent.touches[0] : t,
							o = {
								time: (new Date).getTime(),
								coords: [r.pageX, r.pageY],
								origin: e(t.target)
							};
						i.bind(c, a).one(l, function(t) {
							i.unbind(c, a), o && s && s.time - o.time < e.event.special.swipe.durationThreshold && Math.abs(o.coords[0] - s.coords[0]) > e.event.special.swipe.horizontalDistanceThreshold && Math.abs(o.coords[1] - s.coords[1]) < e.event.special.swipe.verticalDistanceThreshold && o.origin.trigger("swipe").trigger(o.coords[0] > s.coords[0] ? "swipeleft" : "swiperight"), o = s = n
						})
					})
				}
			}, e.each({
				scrollstop: "scrollstart",
				taphold: "tap",
				swipeleft: "swipe",
				swiperight: "swipe"
			}, function(t, i) {
				e.event.special[t] = {
					setup: function() {
						e(this).bind(i, e.noop)
					}
				}
			})
		}(e, this)
	}), define("search-results/results-v3", ["base", "./range-slider", "./star-slider", "common/responsive-carousel", "search-panel/search-panel-v3", "common/tabs", "jquerymobile"], function(e, t, i, n, a, s, r) {
		function o(e, t) {
			this.ele = e, this.opts = $.extend({}, {
				searchPanel: !1
			}, t), this.carousels = [], this.init()
		}
		var l = {
			init: function() {
				this.searchPanel = this.opts.searchPanel || new a($("#searchPanel"))
			}
		};
		for (var c in l) o.prototype[c] = l[c];
		return o
	});
var epifind = epifind || {};
epifind.nordics = epifind.nordics || {}, epifind.nordics.texts = epifind.nordics.texts || function() {
		var e = "",
			t = "",
			i = "",
			n = "",
			a = "",
			s = "",
			r = "www.fritidsresor.se";
		return {
			gradeLetter: e,
			countryTitle: t,
			destinationTitle: i,
			hotelTitle: n,
			excursionTitle: a,
			contentTitle: s,
			hostName: r
		}
	}(),
	function() {
		epifind.nordics.texts.gradeLetter = $(".finder-app").data("grade-letter"), epifind.nordics.texts.countryTitle = $(".finder-app").data("country-title"), epifind.nordics.texts.destinationTitle = $(".finder-app").data("destination-title"), epifind.nordics.texts.hotelTitle = $(".finder-app").data("hotel-title"), epifind.nordics.texts.excursionTitle = $(".finder-app").data("excursion-title"), epifind.nordics.texts.contentTitle = $(".finder-app").data("content-title"), $(".finder-app").data("host-name") ? epifind.nordics.texts.hostName = $(".finder-app").data("host-name") : epifind.nordics.texts.hostName = location.host
	}(), epifind.nordics.app = function() {
		var e = '<h2 class="section-title">{sectionTitle}</h2>',
			t = '<a class="finder-item clearfix" href="{href}">{imgTemplate}<h3 class="h5 item-title">{itemTitle}</h3><p class="item-text">{itemText}</p></a>',
			i = '<img src="{imgSrc}" class="object" />',
			n = "http://" + epifind.nordics.texts.hostName + "/Pages/EpiserverFind.aspx?callback=?&entry={searchText}&pageNumber=1&pageSize=2&suggest=true&type={type}",
			a = $(".finder-app"),
			s = a.find(".finder-section"),
			r = null,
			o = null,
			l = null,
			c = null,
			d = null,
			u = {
				country: "country",
				destination: "destination",
				hotel: "hotel",
				excursion: "excursion",
				content: "content"
			},
			h = "",
			p = function(e) {
				try {
					console.log(e)
				} catch (t) {}
			},
			f = function() {
				try {
					var e = m(),
						t = "undefined" != typeof dataLayer ? !0 : !1;
					t && dataLayer.push({
						eventCategory: "Finder",
						eventAction: "Search",
						eventLabel: e,
						event: "finderTrackEvent"
					}), p("dataLayer: " + t.toString() + "\neventCategory: Finder\neventAction: Search\neventLabel: " + e)
				} catch (i) {}
			},
			m = function() {
				return $.trim(a.find(".finder-text:first").val()).replace(/'/, '""').replace(/"/, '""')
			},
			g = function(e) {
				var t = m();
				return n.replace(/{searchText}/, t).replace(/{type}/, e)
			},
			v = function(e) {
				return e ? e.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi, "") : ""
			},
			y = function(e) {
				return e === u.country ? epifind.nordics.texts.countryTitle : e === u.destination ? epifind.nordics.texts.destinationTitle : e === u.hotel ? epifind.nordics.texts.hotelTitle : e === u.excursion ? epifind.nordics.texts.excursionTitle : e === u.content ? epifind.nordics.texts.contentTitle : void 0
			},
			b = function(e, n, a, s) {
				var r = "" !== n ? i.replace(/{imgSrc}/, n) : "";
				return t.replace(/{href}/, e).replace(/{imgTemplate}/, r).replace(/{itemTitle}/, a).replace(/{itemText}/, v(s))
			},
			w = function(e) {
				for (var t = " ", i = Math.floor(e.replace(/,/gi, ".")), n = Math.ceil(e.replace(/,/gi, ".")), a = 0; i > a; a++) t += epifind.nordics.texts.gradeLetter;
				return n > i && (t += "+"), t
			},
			x = function(e, t, i) {
				return e === u.content ? t[i].SearchHitUrl : t[i].page
			},
			k = function(e, t, i) {
				return e === u.content ? "" : t[i].media ? t[i].media.icon_picture : ""
			},
			C = function(e, t, i) {
				return e === u.hotel ? t[i].name + w(t[i].grade) : e === u.excursion ? t[i].usp : e === u.content ? t[i].SearchTitle : t[i].name
			},
			T = function(e, t, i) {
				return e === u.hotel ? t[i].info.usp : e === u.excursion ? t[i].intro : e === u.content ? t[i].Content : t[i].text
			},
			D = function(t, i) {
				for (var n = e.replace(/{sectionTitle}/, y(t)), s = "", r = 0; r < i.length; r++) {
					var o = x(t, i, r),
						l = k(t, i, r),
						c = C(t, i, r),
						d = T(t, i, r);
					if (s += b(o, l, c, d), r >= 1) break
				}
				"" !== s && a.find("#result-" + t).addClass("has-result").html(n + s), a.removeClass("finding")
			},
			S = function(e, t) {
				e = $.ajax({
					dataType: "json",
					url: g(t),
					beforeSend: function() {
						null !== e && e.abort()
					},
					success: function(i) {
						e = null;
						var n = function() {
							return i.country ? i.country : i.destination ? i.destination : i.hotel ? i.hotel : i.excursion ? i.excursion : i.faq ? i.faq : void 0
						}();
						D(t, n)
					}
				})
			},
			_ = function() {
				S(r, u.country), S(o, u.destination), S(l, u.hotel), S(c, u.excursion), S(d, u.content), h = m(), f()
			},
			I = function() {
				a.addClass("finding"), s.removeClass("has-result").html("")
			},
			A = function() {
				a.find(".finder-text:first").val("");
				var e = null;
				a.delegate(".finder-text:first", "keyup", function() {
					h !== m() && "" !== m() && (I(), clearTimeout(e), e = setTimeout(function() {
						e = null, _()
					}, 500))
				}), a.on("click", function(e) {
					e.stopPropagation()
				}), a.find(".icon-close").on("click", function() {
					a.parent().removeClass("open")
				})
			};
		return {
			init: A
		}
	}(), epifind.nordics.app.init(), define("../nordics/epifind.nordics", function() {});
var tui = tui || {};
tui.commonUX = tui.commonUX || {}, tui.commonUX.topnavigation || (tui.commonUX.topnavigation = function() {
		"use strict";
		var e = function() {
			var e = $(".top-navigation");
			e.find(".icon-search").on("click", function() {
				return e.find(".menu-label").is(":visible") && e.find(".main-navigation").is(":visible") && e.find("#menu-button").trigger("click"), $(this).parents(".finder-container:first").toggleClass("open"), $(this).next().find(".finder-text:first").trigger("focus"), !1
			}), $(".dark-fade-top").on("click", function() {
				$(".top-navigation .finder-container:first").removeClass("open")
			})
		};
		return {
			init: e
		}
	}(), tui.commonUX.topnavigation.init()), define("tui.topnavigation", function() {}),
	function(e, t) {
		$window = e(t), e.fn.lazyload = function(i) {
			function n() {
				var t = 0;
				a.each(function() {
					var i = e(this);
					if (!s.skip_invisible || i.is(":visible"))
						if (e.abovethetop(this, s) || e.leftofbegin(this, s));
						else if (e.belowthefold(this, s) || e.rightoffold(this, s)) {
						if (++t > s.failure_limit) return !1
					} else i.trigger("appear")
				})
			}
			var a = this,
				s = {
					threshold: 0,
					failure_limit: 0,
					event: "scroll",
					effect: "show",
					container: t,
					data_attribute: "original",
					skip_invisible: !0,
					appear: null,
					load: null,
					onerror: null,
					retry_after: 2e3
				};
			return i && (void 0 !== i.failurelimit && (i.failure_limit = i.failurelimit, delete i.failurelimit), void 0 !== i.effectspeed && (i.effect_speed = i.effectspeed, delete i.effectspeed), e.extend(s, i)), $container = void 0 === s.container || s.container === t ? $window : e(s.container), 0 === s.event.indexOf("scroll") && $container.bind(s.event, function(e) {
				return n()
			}), this.each(function() {
				var t = this,
					i = e(t);
				t.loaded = !1, i.one("appear", function() {
					if (!this.loaded) {
						if (s.appear) {
							var n = a.length;
							s.appear.call(t, n, s)
						}
						e("<img />").bind("load", function() {
							i.hide().attr("src", i.data(s.data_attribute))[s.effect](s.effect_speed), t.loaded = !0;
							var n = e.grep(a, function(e) {
								return !e.loaded
							});
							if (a = e(n), s.load) {
								var r = a.length;
								s.load.call(t, r, s)
							}
						}).error(function() {
							setTimeout(function() {
								i.error(function() {
									setTimeout(function() {
										null != s.onerror && s.onerror(i, s)
									}, s.retry_after)
								}), null != s.onerror && s.onerror(i, s)
							}, s.retry_after)
						}).attr("src", i.data(s.data_attribute))
					}
				}), 0 !== s.event.indexOf("scroll") && i.bind(s.event, function(e) {
					t.loaded || i.trigger("appear")
				})
			}), $window.bind("resize", function(e) {
				n()
			}), n(), this
		}, e.belowthefold = function(i, n) {
			var a;
			return a = void 0 === n.container || n.container === t ? $window.height() + $window.scrollTop() : $container.offset().top + $container.height(), a <= e(i).offset().top - n.threshold
		}, e.rightoffold = function(i, n) {
			var a;
			return a = void 0 === n.container || n.container === t ? $window.width() + $window.scrollLeft() : $container.offset().left + $container.width(), a <= e(i).offset().left - n.threshold
		}, e.abovethetop = function(i, n) {
			var a;
			return a = void 0 === n.container || n.container === t ? $window.scrollTop() : $container.offset().top, a >= e(i).offset().top + n.threshold + e(i).height()
		}, e.leftofbegin = function(i, n) {
			var a;
			return a = void 0 === n.container || n.container === t ? $window.scrollLeft() : $container.offset().left, a >= e(i).offset().left + n.threshold + e(i).width()
		}, e.inviewport = function(t, i) {
			return !(e.rightofscreen(t, i) || e.leftofscreen(t, i) || e.belowthefold(t, i) || e.abovethetop(t, i))
		}, e.extend(e.expr[":"], {
			"below-the-fold": function(i) {
				return e.belowthefold(i, {
					threshold: 0,
					container: t
				})
			},
			"above-the-top": function(i) {
				return !e.belowthefold(i, {
					threshold: 0,
					container: t
				})
			},
			"right-of-screen": function(i) {
				return e.rightoffold(i, {
					threshold: 0,
					container: t
				})
			},
			"left-of-screen": function(i) {
				return !e.rightoffold(i, {
					threshold: 0,
					container: t
				})
			},
			"in-viewport": function(i) {
				return !e.inviewport(i, {
					threshold: 0,
					container: t
				})
			},
			"above-the-fold": function(i) {
				return !e.belowthefold(i, {
					threshold: 0,
					container: t
				})
			},
			"right-of-fold": function(i) {
				return e.rightoffold(i, {
					threshold: 0,
					container: t
				})
			},
			"left-of-fold": function(i) {
				return !e.rightoffold(i, {
					threshold: 0,
					container: t
				})
			}
		})
	}(jQuery, window), define("lazyLoad", ["jquery"], function() {}), window.tui = function(e, t, i, n, a) {
		"use strict";
		var s, r, o, l, c = e.tweaks = e.tweaks || {},
			d = n("[data-fallbackhotelimage]"),
			u = "";
		d.length && (u = d.data("fallbackhotelimage")), c.init = function() {
			c.myScroll = [], n("html").hasClass("ie8") || n("html").hasClass("ie9") || (n(t).one("resize", c.initSwipe), n(t).one("resize", l)), n(i).on("pageshow", o), r(), l(), c.initSwipe(n("body"))
		}, c.detectmob = function() {
			var e = n(t).width();
			n(t).height();
			return 768 > e ? !0 : !1
		}, c.detecttab = function() {
			var e = n(t).width();
			n(t).height();
			return e >= 768 && 1023 >= e ? !0 : !1
		}, c.detecttabHotel = function() {
			var e = n(t).width();
			n(t).height();
			return e >= 768 && 1024 >= e ? !0 : !1
		}, c.initSwipe = function(i) {
			n(t).unbind("resize", c.initSwipe);
			var a = i && "resize" !== i.type ? i : n("body");
			n(".hotelcardTab-section:visible").length > 1 && a.find(".hotelcardTab-section:gt(0)").hide(), a.find(".carousel-holder:visible").each(function() {
				var t = n(this).find(".carousel-scroll"),
					i = n(this).attr("id"),
					a = t.find(">ul>li"),
					r = a.eq(0),
					o = n(this).width(),
					l = a.width(),
					d = parseInt(r.css("margin-right"), 10);
				r.parents(".blue-panel").length ? parseInt(r.parents(".blue-panel").css("padding-right"), 10) : 15;
				if (s = Math.floor(o / l) * (l + d), 1 > s && (s = l + d), e.tweaks.detectmob() || e.tweaks.detecttab() && n(this).parents(".destination-list").length <= 0 && e.tweaks.detecttab() && n(this).parents(".hotelcards-wrapper").length ? t.width(a.length * (r.width() + parseInt(r.css("margin-right"), 10))) : t.width(""), n(this).parents(".experience-module").length > 0 && t.width(Math.ceil(a.length / 2) * (r.width() + parseInt(r.css("margin-right"), 10))), e.tweaks.detectmob() && n(this).parents(".destination-list").length > 0 && c.setEqualHeights(a), IScroll && a.length > 1 && (c.myScroll[i] && c.myScroll[i].destroy(), c.myScroll[i] = new IScroll("#" + i, {
						scrollX: !0,
						scrollY: !1,
						scrollbars: !1,
						eventPassthrough: "vertical",
						momentum: !1,
						snap: !0,
						snapThreshold: 0,
						keyBindings: !1,
						bounce: !0,
						mouseWheel: !1,
						snapStepX: s
					}), n(this).hasClass("has-navigation"))) {
					var u, h = Math.ceil(t.width() / s);
					if (h > 1) {
						u = '<div class="bs-carousel-navigation"><span class="prev" ></span><ul class="bs-carousel-indicators"><li class="bs-carousel-indicator bs-carousel-active"><span></span></li>';
						for (var p = 0; h - 1 > p; p++) u += '<li class="bs-carousel-indicator bs-carousel-inactive"><span></span></li>';
						u += '</ul><span class="next"></span></div>', n(this).find(".bs-carousel-navigation").remove().end().append(u), c.myScroll[i].on("scrollEnd", function() {
							n("#" + i + " .bs-carousel-indicator.bs-carousel-active").removeClass("bs-carousel-active").addClass("bs-carousel-inactive"), n("#" + i + " .bs-carousel-indicator").eq(this.currentPage.pageX).removeClass("bs-carousel-inactive").addClass("bs-carousel-active")
						}), n("#" + i + " .prev").off("click").on("click", function() {
							e.tweaks.myScroll[i].prev()
						}), n("#" + i + " .next").off("click").on("click", function() {
							e.tweaks.myScroll[i].next()
						})
					}
				}
			}), n(".carousel-holder .bs-carousel-indicator").off("click").on("click", function() {
				var e = n(this).closest(".carousel-holder"),
					t = e.find(".bs-carousel-indicator").index(n(this)),
					i = e.attr("id");
				c.myScroll[i].goToPage(t, 0)
			}), n("html").hasClass("ie8") || n("html").hasClass("ie9") || n(t).one("resize", c.initSwipe)
		}, c.lazyLoadPicture = function(e, i, a) {
			function s(e, t, i) {
				n(e).is("img") && u ? n(e).attr("src", u) : n(e).hide().closest("figure").addClass("no-image")
			}
			if ("undefined" != typeof e) {
				var r = i && i.length ? i : n("body");
				if (r.find("img.lazyload-img").each(function(t) {
						if (!(a && t >= a)) {
							var i = n(this),
								r = e,
								o = i.data("x-small") ? i.data("x-small") : "",
								l = i.data("small") ? i.data("small") : "",
								c = i.data("medium") ? i.data("medium") : "",
								d = i.data("large") ? i.data("large") : "";
							"xs" === r ? i.data("original", o || i.data("original")) : "sm" === r ? i.data("original", l || i.data("original")) : "md" === r ? i.data("original", c || i.data("original")) : i.data("original", d || i.data("original")), i.lazyload({
								threshold: 1e3,
								event: "delayedLoad",
								effect: "fadeIn",
								onerror: s,
								retry_after: 100
							})
						}
					}), r === n("body")) n(t).bind("load", function() {
					setTimeout(function() {
						n("img.lazyload-img").trigger("delayedLoad")
					}, 2e3)
				});
				else {
					setTimeout(function() {
						r.find("img.lazyload-img").trigger("delayedLoad")
					}, 200)
				}
			}
		}, r = function() {
			n(".custom-select span").off().on("click", function(e) {
				var t = n(this),
					i = t.next("ul");
				i.is(":visible") ? i.hide() : (n(".custom-select > span + ul").hide(), i.show()), e.stopPropagation()
			}), n(".custom-select ul").delegate("a", "click", function(e) {
				if (e.preventDefault(), !n(this).hasClass("selected")) {
					var t = n(this);
					t.parents(".custom-select").find("span").eq(0).html(t.html()), t.parents(".custom-select").find("ul").hide()
				}
			}), n(".custom-select").length && n(i).on("click", function() {
				n(".custom-select ul").hide()
			})
		}, o = function() {
			n("select").prop("selectedIndex", 0)
		}, c.setEqualHeights = function(e) {
			var t, i = [];
			e.each(function() {
				i.push(n(this).height())
			}), t = Math.max.apply(null, i), e.height(t)
		}, l = function() {
			n(t).unbind("resize", l), c.detectmob() ? n("a.filter-by").removeClass("close-filter").addClass("open-filter").parent().css({
				height: "50px",
				overflow: "hidden"
			}) : n("a.filter-by").parent().css({
				height: "auto",
				overflow: "visible"
			}), n("a.filter-by").click(function(e) {
				var t = n(this);
				e.preventDefault();
				var i = n(this).next("div").height() + 70;
				if (c.detectmob() && t.hasClass("open-filter")) t.parent().animate({
					height: i
				}, function() {
					t.removeClass("open-filter").addClass("close-filter").parent().css("overflow", "visible")
				});
				else {
					if (!c.detectmob() || !t.hasClass("close-filter")) return !1;
					t.parent().animate({
						height: "50px",
						overflow: "hidden"
					}, function() {
						t.removeClass("close-filter").addClass("open-filter").parent().css("overflow", "hidden")
					})
				}
			}), n(t).bind("resize", l)
		};
		return e.tweaks.init(), e
	}(window.tui || {}, window, window.document, jQuery), define("tuiTweaks", ["lazyLoad"], function() {});
var sStartTime = (new Date).getTime(),
	jQuery = window.jQuery,
	oldjQuery = jQuery && !!jQuery.fn.jquery.match(/^1\.[0-4](\.|$)/),
	localJqueryPath = "../vendor/jquery.min",
	noConflict;
jQuery = jQuery || $, jQuery || $ ? define("jquery", [], function() {
	return jQuery
}) : console.log("JQuery is not loaded before requirejs"), require.config({
	paths: {
		baseUrl: "../components",
		jquerymobile: "../vendor/jquery.mobile.custom",
		jqueryui: "../vendor/jquery-ui.min",
		jqueryhoverIntent: "../vendor/jquery.hoverIntent",
		handlebars: "../vendor/handlebars.min",
		handlebarsHelpers: "../helpers/handlebars-helpers",
		jqueryCookie: "../vendor/jquery.cookie",
		pubSub: "../vendor/jquery.ba-tinypubsub.min",
		async: "../vendor/async",
		text: "../vendor/text",
		helpers: "../helpers",
		common: "../common",
		counterWidget: "../vendor/counterWidget",
		vendor: "../vendor",
		enscroll: "../vendor/enscroll.min",
		lazyLoad: "../vendor/jquery-lazy-load",
		tuiTweaks: "../common/Tui.tweaks",
		owlCarousel: "../vendor/owl.carousel",
		requireLib: "../vendor/require"
	},
	shim: {
		handlebars: {
			exports: "Handlebars"
		},
		pubSub: {
			exports: "PubSub",
			deps: ["jquery"]
		},
		jqueryCookie: {
			exports: "jqueryCookie",
			dep: ["jquery"]
		},
		enscroll: ["jquery"],
		lazyLoad: ["jquery"],
		tuiTweaks: ["lazyLoad"],
		counterWidget: ["jquery"],
		owlCarousel: ["jquery"],
		"tui.cards.hotelcard": ["jquery"],
		"tui.swipe": ["tui.commonUX.lazyLoad", "tui.equalHeight"],
		"../vendor/placeholder.min": ["jquery"]
	}
}), require(["jquery", "jqueryCookie", "base", "search-panel/search-panel-v3", "search-results/results-v3", "../nordics/epifind.nordics", "tui.topnavigation", "tuiTweaks"], function(e, t, i, n, a) {
	"use strict";
	var s = function() {
			var t = e.cookie("search_cookie");
			t || (t = "search_old");
			var i = e("#booking-widget"),
				n = e("#search-panel");
			"search_old" === t && n.hide(), "search_new" === t && i.hide()
		},
		r = function(t) {
			var i = e("body").hasClass("start-page-search"),
				n = e("body").hasClass("concept-page-search"),
				a = e("#search-panel").length,
				s = e(".hero-carousal-module").length;
			(i || t || n) && a && (s ? e("body").addClass("search-new-hero") : e("body").addClass("search-old-hero"))
		},
		o = e("body").hasClass("location-page") || e("body").hasClass("accommodation-page") || e("body").hasClass("destination-page"),
		l = e("#search-panel");
	e("#flights-result-page-wrapper").length && e("#result-page-wrapper").length && l.removeClass("hidden");
	var c = function() {
		l.removeClass("hidden"), "xs" === TUIUtil.getCurrentBreakPoint() && (o || e("body").hasClass("start-page")) && l.hide(), o && s(), tuiConfig.searchPanel = new n(l), TUIUtil.isTouchDevice() || e("#search-panel[data-dockable]").dockable({
			vOffset: e("#pg_boka-resa").length ? 92 : !1,
			dontDockCondition: tuiConfig.searchPanel.isFlyoutOpen,
			name: "searchPanel"
		}), r(o);
		var t = e("#results");
		t.length && new a(t, {
			searchPanel: tuiConfig.searchPanel || !1
		}), TUIUtil.isTouchDevice() && e("body").addClass("touch");
		var i = (new Date).getTime();
		TUIUtil.printLog("Search Render Time (ms): " + (i - sStartTime))
	};
	TUIUtil.updateCurrencyParams();
	var d = (new Date).getTime();
	TUIUtil.printLog("SearchV3 Require First Bite Time (ms): " + (d - sStartTime)), c(), window.tuiConfig = tuiConfig
}), define("../pages/search-v3", function() {}), require(["../pages/search-v3"]);